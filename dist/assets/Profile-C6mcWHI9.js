import{d as te,u as be,r as i,R as Z,j as e,U as A,P as ye,X as j,S as je,w as F,M as we,x as $,b as ee,y as Ne,n as T,C as ve,E as I,A as L,v as ke,B as X,z as n}from"./index-DKfP5R6K.js";import{C as w,a as se,S as Pe}from"./shield-BFRmnWKE.js";import{U as Ce}from"./user-check-Cwce1B2Y.js";import{M as _e}from"./map-pin-DOUdYq8o.js";import{S as Se}from"./star-ijFnrQFC.js";import{T as re}from"./trash-2-R7uNXBTq.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=te("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Fe=()=>{const{user:s,updateProfile:_}=be(),[d,S]=i.useState(!1),[ae,N]=i.useState(!1),[le,D]=i.useState(!1),[oe,v]=i.useState(!1),[u,E]=i.useState({current:!1,new:!1,confirm:!1}),[a,f]=i.useState({firstName:(s==null?void 0:s.firstName)||"",lastName:(s==null?void 0:s.lastName)||"",email:(s==null?void 0:s.email)||"",phone:(s==null?void 0:s.phone)||"",dob:(s==null?void 0:s.dob)||"",address:(s==null?void 0:s.address)||"",emergency_contact_name:(s==null?void 0:s.emergency_contact_name)||"",emergency_contact_phone:(s==null?void 0:s.emergency_contact_phone)||"",profile_photo:(s==null?void 0:s.profile_photo)||"",profile_photo_locked:(s==null?void 0:s.profile_photo_locked)||!1,dob_locked:(s==null?void 0:s.dob_locked)||!1,language:(s==null?void 0:s.language)||"el"}),[g,B]=i.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[U,H]=i.useState(null),[q,p]=i.useState(""),[b,k]=i.useState(null),[J,P]=i.useState(""),[C,G]=i.useState(!1),[ne,R]=i.useState(!1),K=i.useRef(null),y=i.useRef(null),O=i.useRef(null),m=i.useRef(null);Z.useEffect(()=>{s&&(f({firstName:s.firstName||"",lastName:s.lastName||"",email:s.email||"",phone:s.phone||"",dob:s.dob||"",address:s.address||"",emergency_contact_name:s.emergency_contact_name||"",emergency_contact_phone:s.emergency_contact_phone||"",profile_photo:s.profile_photo||"",profile_photo_locked:s.profile_photo_locked||!1,dob_locked:s.dob_locked||!1,language:s.language||"el"}),s.profile_photo&&p(s.profile_photo))},[s]),Z.useEffect(()=>()=>{m.current&&(m.current.getTracks().forEach(t=>t.stop()),m.current=null)},[]);const x=t=>{const{name:r,value:o,type:l}=t.target;f(c=>({...c,[r]:l==="checkbox"?t.target.checked:o}))},ie=t=>{var o;const r=(o=t.target.files)==null?void 0:o[0];if(r){if(a.profile_photo_locked){n.error("Η φωτογραφία προφίλ δεν μπορεί να αλλάξει");return}H(r);const l=new FileReader;l.onload=c=>{var h;p((h=c.target)==null?void 0:h.result)},l.readAsDataURL(r)}},de=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),ce=async()=>{var t;try{if(a.profile_photo_locked){n.error("Η φωτογραφία προφίλ δεν μπορεί να αλλάξει");return}if(console.log("[Profile] Opening camera..."),de()){console.log("[Profile] Mobile device detected, using file input with capture"),(t=K.current)==null||t.click();return}if(console.log("[Profile] Desktop detected, using getUserMedia"),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){n.error("Η κάμερα δεν υποστηρίζεται σε αυτόν τον browser");return}const r=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:1280},height:{ideal:720}}});m.current=r,R(!0),setTimeout(()=>{y.current&&(y.current.srcObject=r)},100)}catch(r){console.error("[Profile] Camera error:",r),r instanceof Error?r.name==="NotAllowedError"?n.error("Δεν δόθηκε άδεια για πρόσβαση στην κάμερα"):r.name==="NotFoundError"?n.error("Δεν βρέθηκε κάμερα"):n.error("Σφάλμα κατά το άνοιγμα της κάμερας"):n.error("Σφάλμα κατά το άνοιγμα της κάμερας")}},me=t=>{var l;const r=(l=t.target.files)==null?void 0:l[0];if(!r){console.warn("[Profile] Camera capture canceled or permission denied");return}if(!r.type.startsWith("image/")){n.error("Παρακαλώ επιλέξτε ένα αρχείο εικόνας");return}if(a.profile_photo_locked){n.error("Η φωτογραφία προφίλ δεν μπορεί να αλλάξει");return}console.log("[Profile] Photo captured from camera:",r.name,r.size,r.type),k(r);const o=new FileReader;o.onload=c=>{var h;P((h=c.target)==null?void 0:h.result),v(!0)},o.onerror=()=>{console.error("[Profile] Error reading file"),n.error("Σφάλμα κατά την ανάγνωση της εικόνας")},o.readAsDataURL(r)},xe=async()=>{if(b)try{G(!0),console.log("[Profile] ===== CAMERA PHOTO UPLOAD STARTED ====="),console.log("[Profile] File details:",{name:b.name,size:b.size,type:b.type,userId:s==null?void 0:s.id});const t=await X(b,(s==null?void 0:s.id)||"");console.log("[Profile] Camera upload successful, public URL:",t);const r={...a,profile_photo:t,profile_photo_locked:!0};f(r),p(t),await _(r),n.success("Η φωτογραφία προφίλ αποθηκεύθηκε επιτυχώς!"),v(!1),k(null),P("")}catch(t){console.error("[Profile] Camera upload failed:",t);let r="Σφάλμα κατά την αποθήκευση της φωτογραφίας";t instanceof Error&&(t.message.includes("storage")?r="Σφάλμα αποθήκευσης. Παρακαλώ δοκιμάστε ξανά.":t.message.includes("network")||t.message.includes("fetch")?r="Σφάλμα δικτύου. Ελέγξτε τη σύνδεσή σας.":t.message.includes("size")||t.message.includes("large")?r="Η εικόνα είναι πολύ μεγάλη. Επιλέξτε μικρότερη εικόνα.":(t.message.includes("type")||t.message.includes("format"))&&(r="Μη υποστηριζόμενος τύπος αρχείου. Επιλέξτε JPG ή PNG.")),n.error(r)}finally{G(!1)}},he=()=>{if(!y.current||!O.current)return;const t=y.current,r=O.current,o=r.getContext("2d");o&&(r.width=t.videoWidth,r.height=t.videoHeight,o.drawImage(t,0,0,r.width,r.height),r.toBlob(l=>{if(!l)return;const c=new File([l],"captured-photo.jpg",{type:"image/jpeg"});k(c);const h=new FileReader;h.onload=ge=>{var Y;P((Y=ge.target)==null?void 0:Y.result),v(!0),R(!1),m.current&&(m.current.getTracks().forEach(pe=>pe.stop()),m.current=null)},h.readAsDataURL(c)},"image/jpeg",.8))},W=()=>{R(!1),m.current&&(m.current.getTracks().forEach(t=>t.stop()),m.current=null)},Q=()=>{v(!1),k(null),P("")},ue=async t=>{var o;const r=(o=t.target.files)==null?void 0:o[0];if(r){if(a.profile_photo_locked){n.error("Η φωτογραφία προφίλ δεν μπορεί να αλλάξει");return}try{console.log("[Profile] ===== DIRECT PHOTO UPLOAD STARTED ====="),console.log("[Profile] Uploading profile photo directly...");const l=await X(r,(s==null?void 0:s.id)||"");console.log("[Profile] Direct upload successful, public URL:",l);const c={...a,profile_photo:l,profile_photo_locked:!0};f(c),p(l),await _(c),console.log("[Profile] ===== DIRECT PHOTO UPLOAD COMPLETED ====="),n.success("Η φωτογραφία προφίλ αποθηκεύθηκε επιτυχώς!")}catch(l){console.error("[Profile] ===== DIRECT PHOTO UPLOAD FAILED ====="),console.error("[Profile] Error details:",l),n.error("Σφάλμα κατά την αποθήκευση της φωτογραφίας")}}},M=t=>{const{name:r,value:o}=t.target;B(l=>({...l,[r]:o}))},V=async t=>{t.preventDefault();try{console.log("[Profile] ===== FORM SUBMISSION STARTED ====="),console.log("[Profile] Form data:",JSON.stringify(a,null,2)),console.log("[Profile] Profile photo file:",U);let r={...a};if(U){console.log("[Profile] Uploading profile photo...");const l=await X(U,(s==null?void 0:s.id)||"");console.log("[Profile] Upload successful, public URL:",l),r={...a,profile_photo:l,profile_photo_locked:!0},console.log("[Profile] Final form data after photo upload:",JSON.stringify(r,null,2)),H(null),p(l),f(r)}const o={...r,dob_locked:r.dob?!0:r.dob_locked};console.log("[Profile] Updated data to send:",JSON.stringify(o,null,2)),console.log("[Profile] Calling updateProfile..."),await _(o),S(!1),console.log("[Profile] ===== FORM SUBMISSION COMPLETED ====="),n.success("Το προφίλ ενημερώθηκε επιτυχώς!")}catch(r){console.error("[Profile] ===== FORM SUBMISSION FAILED ====="),console.error("[Profile] Error details:",r),n.error("Σφάλμα κατά την ενημέρωση του προφίλ")}},fe=async t=>{if(t.preventDefault(),g.newPassword!==g.confirmPassword){n.error("Οι κωδικοί δεν ταιριάζουν");return}n.success("Ο κωδικός πρόσβασης άλλαξε επιτυχώς!"),N(!1),B({currentPassword:"",newPassword:"",confirmPassword:""})};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200/50 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between py-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(A,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Προφίλ Χρήστη"}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Διαχειριστείτε τις πληροφορίες του λογαριασμού σας"})]})]}),e.jsx("div",{className:"flex items-center space-x-3",children:d?e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>S(!1),className:"flex items-center space-x-2 px-4 py-3 text-gray-600 bg-white/80 border border-gray-300 rounded-2xl font-medium hover:bg-gray-50 transition-all duration-200",children:[e.jsx(j,{className:"h-5 w-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Ακύρωση"})]}),e.jsxs("button",{onClick:V,className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-2xl font-medium hover:from-green-700 hover:to-emerald-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx(je,{className:"h-5 w-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Αποθήκευση"})]})]}):e.jsxs("button",{onClick:()=>S(!0),className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-2xl font-medium hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx(ye,{className:"h-5 w-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Επεξεργασία"})]})})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-3xl p-8 shadow-lg border border-white/20",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start space-y-6 sm:space-y-0 sm:space-x-8",children:[e.jsxs("div",{className:"relative group",children:[q||a.profile_photo?e.jsx("img",{src:q||a.profile_photo,alt:"Profile",className:"w-32 h-32 rounded-3xl object-cover border-4 border-white shadow-2xl"}):e.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-3xl flex items-center justify-center border-4 border-white shadow-2xl",children:e.jsx(A,{className:"h-16 w-16 text-white"})}),!a.profile_photo_locked&&d&&e.jsxs("label",{className:"absolute -bottom-2 -right-2 p-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-2xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 cursor-pointer shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx(w,{className:"h-5 w-5"}),e.jsx("input",{type:"file",accept:"image/*",onChange:ie,className:"hidden"})]})]}),e.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:[s==null?void 0:s.firstName," ",s==null?void 0:s.lastName]}),e.jsxs("div",{className:"flex items-center justify-center sm:justify-start space-x-2 mb-3",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-gray-600 font-medium capitalize",children:s==null?void 0:s.role})]}),e.jsxs("p",{className:"text-gray-500 mb-4",children:["Μέλος από ",F((s==null?void 0:s.createdAt)||"")]}),a.profile_photo_locked?e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-green-50 border border-green-200 rounded-2xl px-4 py-2",children:[e.jsx(se,{className:"h-4 w-4 text-green-600"}),e.jsx("p",{className:"text-green-800 text-sm font-medium",children:"Φωτογραφία κλειδωμένη"})]}):e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"inline-flex items-center space-x-2 bg-blue-50 border border-blue-200 rounded-2xl px-4 py-2 cursor-pointer hover:bg-blue-100 transition-all duration-200 hover:shadow-md",children:[e.jsx(De,{className:"h-4 w-4 text-blue-600"}),e.jsx("p",{className:"text-blue-800 text-sm font-medium",children:"Ανεβάστε φωτογραφία"}),e.jsx("input",{type:"file",accept:"image/*",onChange:ue,className:"hidden"})]}),e.jsxs("button",{type:"button",onClick:ce,className:"inline-flex items-center space-x-2 bg-indigo-50 border border-indigo-200 rounded-2xl px-4 py-2 hover:bg-indigo-100 transition-all duration-200 hover:shadow-md",children:[e.jsx(w,{className:"h-4 w-4 text-indigo-600"}),e.jsx("span",{className:"text-indigo-800 text-sm font-medium",children:"Λήψη φωτογραφίας"})]}),e.jsx("input",{ref:K,type:"file",accept:"image/*",capture:"environment",onChange:me,className:"hidden"})]})]})]})}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-3xl p-8 shadow-lg border border-white/20",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[e.jsx(Ce,{className:"h-6 w-6 mr-3 text-blue-600"}),"Πληροφορίες Προφίλ"]}),e.jsxs("form",{onSubmit:V,className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Όνομα"}),e.jsx("input",{type:"text",name:"firstName",value:a.firstName,onChange:x,disabled:!d,className:"w-full px-4 py-3 border border-gray-300 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white/50 backdrop-blur-sm disabled:bg-gray-100 disabled:text-gray-500 transition-all duration-200"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Επώνυμο"}),e.jsx("input",{type:"text",name:"lastName",value:a.lastName,onChange:x,disabled:!d,className:"w-full px-4 py-3 border border-gray-300 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white/50 backdrop-blur-sm disabled:bg-gray-100 disabled:text-gray-500 transition-all duration-200"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(we,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"email",name:"email",value:a.email,onChange:x,disabled:!d,className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white/50 backdrop-blur-sm disabled:bg-gray-100 disabled:text-gray-500 transition-all duration-200"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Τηλέφωνο"}),e.jsxs("div",{className:"relative",children:[e.jsx($,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:x,disabled:!d,placeholder:"+30 69XXXXXXXX",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white/50 backdrop-blur-sm disabled:bg-gray-100 disabled:text-gray-500 transition-all duration-200"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Ημερομηνία Γέννησης"}),a.dob_locked&&e.jsxs("span",{className:"inline-flex items-center space-x-1 text-xs text-green-600 bg-green-100 px-3 py-1 rounded-full",children:[e.jsx(se,{className:"h-3 w-3"}),e.jsx("span",{children:"Κλειδωμένο"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ee,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"date",name:"dob",value:a.dob,onChange:x,disabled:!d||a.dob_locked,className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white/50 backdrop-blur-sm disabled:bg-gray-100 disabled:text-gray-500 transition-all duration-200"})]}),a.dob&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Ηλικία: ",Ne(a.dob)," ετών"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Γλώσσα"}),e.jsxs("select",{name:"language",value:a.language,onChange:x,disabled:!d,className:"w-full px-4 py-3 border border-gray-300 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white/50 backdrop-blur-sm disabled:bg-gray-100 disabled:text-gray-500 transition-all duration-200",children:[e.jsx("option",{value:"el",children:"Ελληνικά"}),e.jsx("option",{value:"en",children:"English"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Διεύθυνση"}),e.jsxs("div",{className:"relative",children:[e.jsx(_e,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",name:"address",value:a.address,onChange:x,disabled:!d,placeholder:"Οδός, Αριθμός, Πόλη, ΤΚ",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white/50 backdrop-blur-sm disabled:bg-gray-100 disabled:text-gray-500 transition-all duration-200"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(T,{className:"h-5 w-5 mr-2 text-orange-500"}),"Επείγουσα Επικοινωνία"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Όνομα"}),e.jsx("input",{type:"text",name:"emergency_contact_name",value:a.emergency_contact_name,onChange:x,disabled:!d,placeholder:"Όνομα επείγουσας επικοινωνίας",className:"w-full px-4 py-3 border border-gray-300 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white/50 backdrop-blur-sm disabled:bg-gray-100 disabled:text-gray-500 transition-all duration-200"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Τηλέφωνο"}),e.jsxs("div",{className:"relative",children:[e.jsx($,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"tel",name:"emergency_contact_phone",value:a.emergency_contact_phone,onChange:x,disabled:!d,placeholder:"+30 69XXXXXXXX",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white/50 backdrop-blur-sm disabled:bg-gray-100 disabled:text-gray-500 transition-all duration-200"})]})]})]})]})]})]})]}),e.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-3xl p-6 shadow-lg border border-white/20",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[e.jsx(Pe,{className:"h-6 w-6 mr-3 text-green-600"}),"Κατάσταση Λογαριασμού"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl border border-blue-200/50",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center",children:e.jsx(A,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ρόλος"}),e.jsx("p",{className:"text-lg font-bold text-gray-900 capitalize",children:s==null?void 0:s.role})]})]})}),e.jsx("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl border border-purple-200/50",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center",children:e.jsx(Se,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Κωδικός Παραπομπής"}),e.jsx("p",{className:"text-lg font-bold text-gray-900 font-mono",children:(s==null?void 0:s.referralCode)||"N/A"})]})]})}),e.jsx("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl border border-green-200/50",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center",children:e.jsx(ee,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Εγγραφή"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:F((s==null?void 0:s.createdAt)||"")})]})]})}),e.jsx("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-orange-50 to-red-50 rounded-2xl border border-orange-200/50",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-red-600 rounded-xl flex items-center justify-center",children:e.jsx(ve,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Τελευταία Ενημέρωση"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:F((s==null?void 0:s.updatedAt)||"")})]})]})})]})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-3xl p-6 shadow-lg border border-white/20",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[e.jsx(z,{className:"h-6 w-6 mr-3 text-blue-600"}),"Γρήγορες Ενέργειες"]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("button",{onClick:()=>N(!0),className:"w-full flex items-center justify-center space-x-3 px-6 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-2xl font-medium hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx(z,{className:"h-5 w-5"}),e.jsx("span",{children:"Αλλαγή Κωδικού"})]})})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-3xl p-6 shadow-lg border border-white/20",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[e.jsx(T,{className:"h-6 w-6 mr-3 text-red-600"}),"Ενέργειες Λογαριασμού"]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("button",{onClick:()=>D(!0),className:"w-full flex items-center justify-center space-x-3 px-6 py-4 bg-gradient-to-r from-red-600 to-pink-600 text-white rounded-2xl font-medium hover:from-red-700 hover:to-pink-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx(re,{className:"h-5 w-5"}),e.jsx("span",{children:"Διαγραφή Λογαριασμού"})]})})]})]})]})}),ae&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-md w-full shadow-2xl border border-white/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-2xl flex items-center justify-center",children:e.jsx(z,{className:"h-5 w-5 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Αλλαγή Κωδικού"})]}),e.jsx("button",{onClick:()=>N(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-colors",children:e.jsx(j,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:fe,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Τρέχων Κωδικός"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:u.current?"text":"password",name:"currentPassword",value:g.currentPassword,onChange:M,required:!0,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white/50 backdrop-blur-sm transition-all duration-200"}),e.jsx("button",{type:"button",onClick:()=>E(t=>({...t,current:!t.current})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u.current?e.jsx(I,{className:"h-5 w-5"}):e.jsx(L,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Νέος Κωδικός"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:u.new?"text":"password",name:"newPassword",value:g.newPassword,onChange:M,required:!0,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white/50 backdrop-blur-sm transition-all duration-200"}),e.jsx("button",{type:"button",onClick:()=>E(t=>({...t,new:!t.new})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u.new?e.jsx(I,{className:"h-5 w-5"}):e.jsx(L,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Επιβεβαίωση Νέου Κωδικού"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:u.confirm?"text":"password",name:"confirmPassword",value:g.confirmPassword,onChange:M,required:!0,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white/50 backdrop-blur-sm transition-all duration-200"}),e.jsx("button",{type:"button",onClick:()=>E(t=>({...t,confirm:!t.confirm})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u.confirm?e.jsx(I,{className:"h-5 w-5"}):e.jsx(L,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"flex space-x-4 mt-8",children:[e.jsx("button",{type:"button",onClick:()=>N(!1),className:"flex-1 px-6 py-3 text-gray-600 border border-gray-300 rounded-2xl hover:bg-gray-50 transition-all duration-200 font-medium",children:"Ακύρωση"}),e.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-2xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl",children:"Αλλαγή Κωδικού"})]})]})]})}),le&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-md w-full shadow-2xl border border-white/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-red-600 to-pink-600 rounded-2xl flex items-center justify-center",children:e.jsx(re,{className:"h-5 w-5 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Διαγραφή Λογαριασμού"})]}),e.jsx("button",{onClick:()=>D(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-colors",children:e.jsx(j,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-2xl",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(T,{className:"h-5 w-5 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-red-900 mb-2",children:"Προσοχή!"}),e.jsx("p",{className:"text-sm text-red-800",children:"Η διαγραφή του λογαριασμού είναι μη αναστρέψιμη. Όλα τα δεδομένα σας θα διαγραφούν οριστικά."})]})]})}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:()=>D(!1),className:"flex-1 px-6 py-3 text-gray-600 border border-gray-300 rounded-2xl hover:bg-gray-50 transition-all duration-200 font-medium",children:"Ακύρωση"}),e.jsx("button",{className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-pink-600 text-white rounded-2xl hover:from-red-700 hover:to-pink-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl",children:"Διαγραφή"})]})]})]})}),ne&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-lg w-full shadow-2xl border border-white/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-2xl flex items-center justify-center",children:e.jsx(w,{className:"h-5 w-5 text-white"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Λήψη φωτογραφίας"})]}),e.jsx("button",{onClick:W,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-colors",children:e.jsx(j,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("video",{ref:y,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-64 rounded-2xl object-cover border border-gray-200 bg-gray-100"}),e.jsx("canvas",{ref:O,className:"hidden"})]}),e.jsxs("div",{className:"flex space-x-4 mt-6",children:[e.jsx("button",{type:"button",onClick:W,className:"flex-1 px-6 py-3 text-gray-600 border border-gray-300 rounded-2xl hover:bg-gray-50 transition-all duration-200 font-medium",children:"Ακύρωση"}),e.jsxs("button",{type:"button",onClick:he,className:"flex-1 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-2xl hover:from-indigo-700 hover:to-purple-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl flex items-center justify-center gap-2",children:[e.jsx(w,{className:"h-5 w-5"}),"Λήψη φωτογραφίας"]})]})]})}),oe&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-md w-full shadow-2xl border border-white/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-2xl flex items-center justify-center",children:e.jsx(w,{className:"h-5 w-5 text-white"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Προεπισκόπηση φωτογραφίας"})]}),e.jsx("button",{onClick:Q,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-colors",children:e.jsx(j,{className:"h-5 w-5"})})]}),J?e.jsx("img",{src:J,alt:"Captured preview",className:"w-full rounded-2xl object-cover border border-gray-200"}):e.jsx("div",{className:"w-full h-48 rounded-2xl bg-gray-100 flex items-center justify-center text-gray-500",children:"Καμία εικόνα"}),e.jsxs("div",{className:"flex space-x-4 mt-6",children:[e.jsx("button",{type:"button",onClick:Q,disabled:C,className:"flex-1 px-6 py-3 text-gray-600 border border-gray-300 rounded-2xl hover:bg-gray-50 transition-all duration-200 font-medium disabled:opacity-60",children:"Ακύρωση"}),e.jsxs("button",{type:"button",onClick:xe,disabled:C,className:"flex-1 px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-2xl hover:from-green-700 hover:to-emerald-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl disabled:opacity-60 flex items-center justify-center gap-2",children:[C&&e.jsx(ke,{className:"h-5 w-5 animate-spin"}),C?"Γίνεται αποθήκευση...":"Αποθήκευση"]})]})]})})]})};export{Fe as default};
