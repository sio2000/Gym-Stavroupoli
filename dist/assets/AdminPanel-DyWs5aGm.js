const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/membershipApi-BFxPW0vq.js","assets/index-TtR70Vtr.js","assets/index-CJcx6l5o.css"])))=>i.map(i=>d[i]);
var _n=Object.defineProperty;var kn=(o,p,w)=>p in o?_n(o,p,{enumerable:!0,configurable:!0,writable:!0,value:w}):o[p]=w;var Et=(o,p,w)=>kn(o,typeof p!="symbol"?p+"":p,w);import{d as Rt,r as c,z as x,j as e,t as us,v as er,e as fl,m as Sn,s as D,X as We,b as Me,U as Be,w as rr,o as Gt,C as dt,M as yl,u as jl,R as Es,x as it,h as vl,L as qe,y as Pn,P as An,A as cl,_ as Cn}from"./index-TtR70Vtr.js";import{g as $n,a as ml,b as Dn,c as sr,d as xl,f as nt,r as Mn,v as Un,e as In,s as En,h as Tn,i as Ln}from"./groupAssignmentApi-tDnJ_YDY.js";import{s as Fn,g as Gn,a as On,b as Rn}from"./pilatesScheduleApi-CD458hc6.js";import{a as zn,t as Kn}from"./date-C5fJ6Q3j.js";import{R as Ts}from"./refresh-cw-CmZsZWOk.js";import{S as He}from"./search-isAGyiSV.js";import{T as Ye,P as Vn,g as Wn,a as Bn,s as Hn,b as Yn,c as Qn,d as Jn,G as Xn,e as Zn,f as qn,h as Tt,i as gl,m as Lt}from"./programApprovalApi-BKEmV4HX.js";import{P as Ot}from"./plus-DnacQcxG.js";import{getDurationLabel as ar,formatPrice as Re,getMembershipPackages as eo,getPilatesPackageDurations as so,getMembershipRequestsWithLockedInstallments as to,getUltimateMembershipRequests as ro,updatePilatesPackagePricing as ao,updateMembershipPackageDuration as lo,approveUltimateMembershipRequest as no,approveMembershipRequest as oo,rejectMembershipRequest as hl,getMembershipPackageDurations as io}from"./membershipApi-BFxPW0vq.js";import{C as co,a as mo}from"./chevron-right-o-S51X4p.js";import{A as ot}from"./award-BRS0Fq2B.js";import{i as xo}from"./installmentsEligibility-D0dI4iZM.js";import"./groupTrainingCalendarApi-hM8Af4R5.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Rt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=Rt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=Rt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=Rt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ho=()=>{const[o,p]=c.useState([]),[w,P]=c.useState(!1),[j,L]=c.useState(!1),[_,K]=c.useState({}),[ee,re]=c.useState({}),[U,me]=c.useState(()=>{const y=new Date("2025-09-13T00:00:00.000Z");return console.log("Admin: Using fixed week - 13 Sep:",y.toISOString()),y}),[ae,de]=c.useState(null),[I,le]=c.useState(!1),B=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00"];c.useEffect(()=>{console.log("Admin: useEffect triggered - currentWeek changed to:",U.toISOString()),M();const y=Fn(()=>{M()});return()=>{try{y.unsubscribe()}catch{}}},[U]);const M=async()=>{try{P(!0);const y=await Gn();p(y);const i={},S=se();console.log("Loading slots for week:",S),console.log("Existing slots from DB:",y.length),S.forEach(k=>{B.forEach(be=>{const pe=`${k}-${be}`,Ce=y.find(bs=>bs.date===k&&bs.start_time===`${be}:00`);i[pe]=Ce?Ce.is_active:!0,Object.keys(i).length<=5&&console.log(`Grid key: ${pe}, existingSlot: ${!!Ce}, is_active: ${Ce==null?void 0:Ce.is_active}, final: ${i[pe]}`)})}),console.log("All existing slots for this week:"),y.forEach(k=>{console.log(`  - ${k.date} ${k.start_time} (active: ${k.is_active})`)}),console.log("Initialized grid with slots:",Object.keys(i).length),console.log("Grid state sample:",Object.entries(i).slice(0,5));const m=Object.values(i).filter(Boolean).length,G=Object.values(i).filter(k=>!k).length;console.log(`Grid summary: ${m} active, ${G} inactive`),K(i);const V=S[0],q=S[S.length-1],A=await On(V,q),u={};A.forEach(k=>{const be=`${k.date}-${k.start_time.slice(0,5)}`;u[be]={booked:k.booked_count||0,cap:k.max_capacity}}),re(u)}catch(y){console.error("Error loading slots:",y),x.error("Î£Ï†Î¬Î»Î¼Î± Ï†ÏŒÏÏ„Ï‰ÏƒÎ·Ï‚ Ï€ÏÎ¿Î³ÏÎ¬Î¼Î¼Î±Ï„Î¿Ï‚ pilates")}finally{P(!1)}},se=()=>{const y=[],i=new Date(U);console.log("Admin: getWeekDates - currentWeek:",i);for(let S=0;S<14;S++){const m=zn(i,S),G=Kn(m);y.push(G),console.log(`Admin: Day ${S}: ${G}`)}return y},we=y=>{const i=new Date(y);return["ÎšÏ…ÏÎ¹Î±ÎºÎ®","Î”ÎµÏ…Ï„Î­ÏÎ±","Î¤ÏÎ¯Ï„Î·","Î¤ÎµÏ„Î¬ÏÏ„Î·","Î Î­Î¼Ï€Ï„Î·","Î Î±ÏÎ±ÏƒÎºÎµÏ…Î®","Î£Î¬Î²Î²Î±Ï„Î¿"][i.getDay()]},ue=(y,i)=>{const S=`${y}-${i}`;K(m=>({...m,[S]:!m[S]}))},ce=async()=>{try{L(!0);const y=[],i=se();i.forEach(q=>{B.forEach(A=>{const u=`${q}-${A}`;y.push({date:q,time:A,is_active:_[u]||!1})})}),console.log("=== SAVE SCHEDULE START ==="),console.log("Saving schedule with all slots:",y.length),console.log("Week dates:",i),console.log("Current grid state sample:",Object.entries(_).slice(0,10));const{data:S,error:m}=await D.from("pilates_schedule_slots").select("*").in("date",i);if(m)throw console.error("Error fetching existing slots:",m),m;if(console.log("Found existing slots:",(S==null?void 0:S.length)||0),S&&S.length>0&&console.log("Sample existing slots:",S.slice(0,3)),S&&S.length>0){const{error:q}=await D.from("pilates_schedule_slots").delete().in("date",i);if(q)throw console.error("Error deleting existing slots:",q),q;console.log("âœ… Deleted existing slots for week")}else console.log("â„¹ï¸ No existing slots to delete");const G=y.map(q=>({date:q.date,start_time:q.time,end_time:g(q.time),max_capacity:4,is_active:q.is_active}));console.log("Creating all slots:",G.slice(0,3)),console.log("Active slots count:",G.filter(q=>q.is_active).length),console.log("Inactive slots count:",G.filter(q=>!q.is_active).length);const{error:V}=await D.from("pilates_schedule_slots").insert(G);if(V)throw console.error("Error creating new slots:",V),V;console.log("âœ… Created all slots:",G.length),console.log("=== SAVE SCHEDULE COMPLETE ==="),x.success("Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î±Ï€Î¿Î¸Î·ÎºÎµÏÎ¸Î·ÎºÎµ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚!"),await M()}catch(y){console.error("Error saving schedule:",y),x.error("Î£Ï†Î¬Î»Î¼Î± Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·Ï‚ Ï€ÏÎ¿Î³ÏÎ¬Î¼Î¼Î±Ï„Î¿Ï‚")}finally{L(!1)}},g=y=>{const[i,S]=y.split(":").map(Number),m=new Date;return m.setHours(i+1,S),m.toTimeString().slice(0,5)},Ne=y=>{const i=new Date(U);y==="prev"?i.setDate(i.getDate()-14):i.setDate(i.getDate()+14),me(i)},l=y=>new Date(y).toLocaleDateString("el-GR",{day:"numeric",month:"short"}),Pe=async(y,i,S)=>{try{le(!0);const m=await Rn(y);de({slotId:y,date:i,time:S,bookings:m})}catch(m){console.error("Error loading slot info:",m),x.error("Î£Ï†Î¬Î»Î¼Î± Ï†ÏŒÏÏ„Ï‰ÏƒÎ·Ï‚ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¹ÏÎ½ slot")}finally{le(!1)}};if(w)return e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});const ne=se();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Pilates"}),e.jsx("p",{className:"text-gray-600",children:"ÎšÎ¬Î½Ï„Îµ ÎºÎ»Î¹Îº ÏƒÏ„Î¹Ï‚ ÏÏÎµÏ‚ Ï€Î¿Ï… Î´ÎµÎ½ Î¸Î­Î»ÎµÏ„Îµ Î½Î± ÎµÎ¯Î½Î±Î¹ Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼ÎµÏ‚"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>{const y=new Date,i=y.getDay(),S=new Date(y),m=i===0?-6:1-i;S.setDate(y.getDate()+m),S.setHours(0,0,0,0),me(S),console.log("Admin: Force refreshed currentWeek to:",S.toISOString())},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"ğŸ”„ Refresh"}),e.jsx("button",{onClick:()=>Ne("prev"),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"â† Î ÏÎ¿Î·Î³Î¿ÏÎ¼ÎµÎ½Î·"}),e.jsx("button",{onClick:()=>Ne("next"),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Î•Ï€ÏŒÎ¼ÎµÎ½Î· â†’"}),e.jsxs("button",{onClick:ce,disabled:j,className:"flex items-center space-x-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[e.jsx(us,{className:"h-5 w-5"}),e.jsx("span",{children:j?"Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·...":"Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·"})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:["2 ÎµÎ²Î´Î¿Î¼Î¬Î´ÎµÏ‚: ",l(ne[0])," - ",l(ne[13])]}),e.jsx("p",{className:"text-sm text-blue-700",children:"ÎšÎ¬Î½Ï„Îµ ÎºÎ»Î¹Îº ÏƒÏ„Î¹Ï‚ ÎºÏŒÎºÎºÎ¹Î½ÎµÏ‚ ÏÏÎµÏ‚ Î³Î¹Î± Î½Î± Ï„Î¹Ï‚ Î±Ï€ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ (Î´ÎµÎ½ Î¸Î± ÎµÎ¼Ï†Î±Î½Î¯Î¶Î¿Î½Ï„Î±Î¹ ÏƒÏ„Î¿Ï…Ï‚ Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚)"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500 border-r border-gray-200 min-w-[100px]",children:"ÎÏÎ±"}),ne.map((y,i)=>e.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-500 border-r border-gray-200 min-w-[120px]",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"font-bold",children:we(y)}),e.jsx("span",{className:"text-xs text-gray-400",children:l(y)})]})},y))]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:B.map(y=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900 border-r border-gray-200 bg-gray-50",children:y}),ne.map((i,S)=>{const m=`${i}-${y}`,G=_[m],V=new Date(i).getDay(),q=V===0||V===6,A=ee[m],u=(A==null?void 0:A.booked)??0,k=(A==null?void 0:A.cap)??4;return e.jsx("td",{className:"px-4 py-3 text-center border-r border-gray-200",children:q?e.jsx("div",{className:"w-full h-8 bg-gray-100 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-gray-400",children:"Î£Î±Î²/ÎšÏ…Ï"})}):e.jsxs("div",{className:"relative w-full h-8",children:[e.jsx("button",{onClick:()=>ue(i,y),className:`w-full h-8 rounded transition-all duration-200 flex items-center justify-center ${G?u>=k?"bg-red-100 text-red-800 border-2 border-red-300":"bg-green-100 text-green-800 hover:bg-green-200 border-2 border-green-300":"bg-red-100 text-red-800 hover:bg-red-200 border-2 border-red-300"}`,children:G?e.jsxs("span",{className:"text-xs font-semibold",children:[u,"/",k]}):e.jsx(er,{className:"h-5 w-5"})}),G&&u>0&&u<k&&e.jsx("button",{onClick:be=>{be.stopPropagation();const pe=o.find(Ce=>Ce.date===i&&Ce.start_time===`${y}:00`);pe&&Pe(pe.id,i,y)},className:"absolute top-0 right-0 w-4 h-4 bg-blue-500 hover:bg-blue-600 rounded-full flex items-center justify-center text-white text-xs transition-colors",title:"Î Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚ ÎºÏÎ±Ï„Î®ÏƒÎµÏ‰Î½",children:e.jsx(go,{size:10})})]})},m)})]},y))})]})})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Î•Î¾Î®Î³Î·ÏƒÎ·"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 border-2 border-green-300 rounded flex items-center justify-center",children:e.jsx(fl,{className:"h-5 w-5 text-green-800"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Î”Î¹Î±Î¸Î­ÏƒÎ¹Î¼Î¿"}),e.jsx("p",{className:"text-sm text-gray-600",children:"ÎŸÎ¹ Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚ Î¼Ï€Î¿ÏÎ¿ÏÎ½ Î½Î± ÎºÎ»ÎµÎ¯ÏƒÎ¿Ï…Î½ Î¼Î±Î¸Î®Î¼Î±Ï„Î±"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 border-2 border-red-300 rounded flex items-center justify-center",children:e.jsx(er,{className:"h-5 w-5 text-red-800"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Î‘Ï€ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¹Î·Î¼Î­Î½Î¿"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Î”ÎµÎ½ ÎµÎ¼Ï†Î±Î½Î¯Î¶ÎµÏ„Î±Î¹ ÏƒÏ„Î¿Ï…Ï‚ Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-gray-400",children:"Î£Î±Î²/ÎšÏ…Ï"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Î£Î±Î²Î²Î±Ï„Î¿ÎºÏÏÎ¹Î±ÎºÎ¿"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Î¼Î±Î¸Î®Î¼Î±Ï„Î±"})]})]})]})]}),ae&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["ÎšÏÎ±Ï„Î®ÏƒÎµÎ¹Ï‚ Î³Î¹Î± ",l(ae.date)," ÏƒÏ„Î¹Ï‚ ",ae.time]}),e.jsx("button",{onClick:()=>de(null),className:"text-gray-400 hover:text-gray-600",children:e.jsx(er,{size:20})})]}),I?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Î¦ÏŒÏÏ„Ï‰ÏƒÎ·..."})]}):e.jsx("div",{className:"space-y-3",children:ae.bookings.length>0?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[ae.bookings.length," ÎºÏÎ±Ï„Î®ÏƒÎµÎ¹Ï‚:"]}),ae.bookings.map((y,i)=>{var S,m,G;return e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg p-3",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[(S=y.user)==null?void 0:S.first_name," ",(m=y.user)==null?void 0:m.last_name]}),e.jsx("p",{className:"text-sm text-gray-600",children:(G=y.user)==null?void 0:G.email})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ÎšÏÎ¬Ï„Î·ÏƒÎ·: ",new Date(y.booking_date).toLocaleDateString("el-GR")]})]},y.id||i)})]}):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÎºÏÎ±Ï„Î®ÏƒÎµÎ¹Ï‚ Î³Î¹Î± Î±Ï…Ï„ÏŒ Ï„Î¿ slot"})})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(Sn,{className:"h-5 w-5 text-blue-400 mt-0.5 mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-blue-800",children:"Î£Î·Î¼Î±Î½Ï„Î¹ÎºÎ­Ï‚ Î Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚"}),e.jsxs("ul",{className:"text-sm text-blue-700 mt-1 space-y-1",children:[e.jsx("li",{children:"â€¢ ÎšÎ¬Î¸Îµ ÏÏÎ± Î­Ï‡ÎµÎ¹ Ï‡Ï‰ÏÎ·Ï„Î¹ÎºÏŒÏ„Î·Ï„Î± 4 Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚ (4 ÎºÏÎµÎ²Î¬Ï„Î¹Î± pilates)"}),e.jsx("li",{children:"â€¢ ÎšÎ¬Î½Ï„Îµ ÎºÎ»Î¹Îº ÏƒÏ„Î¹Ï‚ ÏÏÎµÏ‚ Ï€Î¿Ï… Î´ÎµÎ½ Î¸Î­Î»ÎµÏ„Îµ Î½Î± Î´Î¿Ï…Î»ÎµÏÎµÏ„Îµ"}),e.jsx("li",{children:"â€¢ Î¤Î¿ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î± ÎµÎ¼Ï†Î±Î½Î¯Î¶ÎµÏ„Î±Î¹ ÏƒÏ„Î¿Ï…Ï‚ Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚ Î¼Îµ ÎµÎ½ÎµÏÎ³Î® pilates ÏƒÏ…Î½Î´ÏÎ¿Î¼Î®"}),e.jsx("li",{children:"â€¢ ÎœÎ·Î½ Î¾ÎµÏ‡Î¬ÏƒÎµÏ„Îµ Î½Î± Î±Ï€Î¿Î¸Î·ÎºÎµÏÏƒÎµÏ„Îµ Ï„Î¹Ï‚ Î±Î»Î»Î±Î³Î­Ï‚!"}),e.jsx("li",{children:'â€¢ ÎšÎ¬Î½Ï„Îµ ÎºÎ»Î¹Îº ÏƒÏ„Î¿ Î¼Ï€Î»Îµ ÎºÎ¿Ï…Î¼Ï€Î¯ "i" Î³Î¹Î± Î½Î± Î´ÎµÎ¯Ï„Îµ Ï„Î¹Ï‚ ÎºÏÎ±Ï„Î®ÏƒÎµÎ¹Ï‚ ÎµÎ½ÏŒÏ‚ slot'})]})]})]})})]})},Ft=async(o,p,w,P,j="",L)=>{try{console.log("[saveCashTransaction] Saving transaction:",{userId:o,amount:p,transactionType:w,programId:P,createdBy:j,notes:L});const{data:_,error:K}=await D.from("user_cash_transactions").insert({user_id:o,amount:p,transaction_type:w,program_id:P,created_by:j,notes:L}).select().single();return K?(console.error("[saveCashTransaction] Error saving transaction:",K),!1):(console.log("[saveCashTransaction] Transaction saved successfully:",_),!0)}catch(_){return console.error("[saveCashTransaction] Exception saving transaction:",_),!1}},uo=async(o,p)=>{try{console.log("[getCashRegisterTotals] Fetching totals...");let w=D.from("user_cash_transactions").select("amount, transaction_type, created_at");if(o&&(w=w.gte("created_at",o)),p){const _=p.length===10?`${p}T23:59:59.999Z`:p;w=w.lte("created_at",_)}const{data:P,error:j}=await w;if(j)return console.error("[getCashRegisterTotals] Error fetching totals:",j),{total_cash:0,total_pos:0,total_transactions:0};const L=(P==null?void 0:P.reduce((_,K)=>(K.transaction_type==="cash"?_.total_cash+=K.amount:K.transaction_type==="pos"&&(_.total_pos+=K.amount),_.total_transactions+=1,_),{total_cash:0,total_pos:0,total_transactions:0}))||{total_cash:0,total_pos:0,total_transactions:0};return console.log("[getCashRegisterTotals] Totals calculated:",L),L}catch(w){return console.error("[getCashRegisterTotals] Exception fetching totals:",w),{total_cash:0,total_pos:0,total_transactions:0}}},bo=async(o,p)=>{try{console.log("[getCashSummaryPerUser] Fetching user summaries...");let w=D.from("user_cash_transactions").select(`
        user_id,
        amount,
        transaction_type,
        created_at,
        user_profiles!user_cash_transactions_user_id_fkey(
          first_name,
          last_name,
          email
        )
      `).order("created_at",{ascending:!1});if(o&&(w=w.gte("created_at",o)),p){const K=p.length===10?`${p}T23:59:59.999Z`:p;w=w.lte("created_at",K)}const{data:P,error:j}=await w;if(j)return console.error("[getCashSummaryPerUser] Error fetching user summaries:",j),[];if(console.log("[getCashSummaryPerUser] Raw data received:",(P==null?void 0:P.length)||0,"records"),!P||P.length===0)return console.log("[getCashSummaryPerUser] No data found, returning empty array"),[];const L=new Map;P.forEach(K=>{const ee=K.user_id,re=K.user_profiles;L.has(ee)||L.set(ee,{user_id:ee,user_name:re?`${re.first_name||""} ${re.last_name||""}`.trim():`User ${ee.slice(0,8)}`,user_email:(re==null?void 0:re.email)||"No email",cash_total:0,pos_total:0,cash_count:0,pos_count:0});const U=L.get(ee);K.transaction_type==="cash"?(U.cash_total+=K.amount,U.cash_count+=1,(!U.last_cash_date||new Date(K.created_at)>new Date(U.last_cash_date))&&(U.last_cash_date=K.created_at)):K.transaction_type==="pos"&&(U.pos_total+=K.amount,U.pos_count+=1,(!U.last_pos_date||new Date(K.created_at)>new Date(U.last_pos_date))&&(U.last_pos_date=K.created_at))});const _=Array.from(L.values()).sort((K,ee)=>ee.cash_total+ee.pos_total-(K.cash_total+K.pos_total));return console.log("[getCashSummaryPerUser] Processed summaries:",_),_}catch(w){return console.error("[getCashSummaryPerUser] Exception fetching user summaries:",w),[]}},po=()=>{const[o,p]=c.useState({total_cash:0,total_pos:0,total_transactions:0}),[w,P]=c.useState([]),[j,L]=c.useState(!1),[_,K]=c.useState(""),[ee,re]=c.useState([]),[U,me]=c.useState(""),[ae,de]=c.useState(""),[I,le]=c.useState(1),B=10,M=async()=>{try{L(!0);const[i,S]=await Promise.all([uo(U||void 0,ae||void 0),bo(U||void 0,ae||void 0)]);p(i),P(S)}catch(i){console.error("Error loading cash register data:",i),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Ï„Ï‰Î½ Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ Ï„Î±Î¼ÎµÎ¯Î¿Ï…")}finally{L(!1)}};c.useEffect(()=>{M()},[]);const se=()=>{le(1),M()},we=i=>{if(!i.trim()){re([]);return}const S=w.filter(m=>m.user_name.toLowerCase().includes(i.toLowerCase())||m.user_email.toLowerCase().includes(i.toLowerCase()));re(S)},ue=i=>{K(i),we(i),le(1)},ce=Math.ceil(w.length/B),g=(I-1)*B,Ne=g+B,l=w.slice(g,Ne),Pe=()=>{le(i=>Math.max(i-1,1))},ne=()=>{le(i=>Math.min(i+1,ce))},y=_?ee:l;return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 rounded-xl p-4 sm:p-6 text-white mb-4 sm:mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg sm:text-2xl font-bold mb-2",children:"ğŸ’° Î¤Î±Î¼ÎµÎ¯Î¿"}),e.jsx("p",{className:"text-green-100 text-sm sm:text-base",children:"Î£Ï…Î½Î¿Î»Î¹ÎºÎ¬ Ï€Î¿ÏƒÎ¬ ÎºÎ±Î¹ Î±Î½Î¬Î»Ï…ÏƒÎ· Ï‡ÏÎ·ÏƒÏ„ÏÎ½"})]}),e.jsxs("button",{onClick:M,disabled:j,className:"flex items-center space-x-2 px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-xl hover:bg-white/30 transition-all duration-200 font-semibold shadow-lg text-sm disabled:opacity-50",children:[e.jsx(Ts,{className:`h-4 w-4 ${j?"animate-spin":""}`}),e.jsx("span",{children:"ğŸ”„ Î‘Î½Î±Î½Î­Ï‰ÏƒÎ·"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-green-800 mb-2",children:"ğŸ’µ Î£Ï…Î½Î¿Î»Î¹ÎºÎ¬ ÎœÎµÏ„ÏÎ·Ï„Î¬"}),e.jsx("p",{className:"text-green-600",children:"ÎŒÎ»Î¿Î¹ Î¿Î¹ Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚ ÏƒÏ…Î½Î¿Î»Î¹ÎºÎ¬"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-4xl font-bold text-green-900",children:["â‚¬",o.total_cash.toFixed(2)]}),e.jsx("div",{className:"text-sm text-green-600",children:"ÎµÏ…ÏÏ"})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-blue-800 mb-2",children:"ğŸ’³ Î£Ï…Î½Î¿Î»Î¹ÎºÎ¬ POS"}),e.jsx("p",{className:"text-blue-600",children:"ÎŒÎ»Î¿Î¹ Î¿Î¹ Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚ ÏƒÏ…Î½Î¿Î»Î¹ÎºÎ¬"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-4xl font-bold text-blue-900",children:["â‚¬",o.total_pos.toFixed(2)]}),e.jsx("div",{className:"text-sm text-blue-600",children:"ÎµÏ…ÏÏ"})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6 border border-purple-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-purple-800 mb-2",children:"ğŸ“Š Î£Ï…Î½Î¿Î»Î¹ÎºÎ­Ï‚ Î£Ï…Î½Î±Î»Î»Î±Î³Î­Ï‚"}),e.jsx("p",{className:"text-purple-600",children:"ÎŒÎ»ÎµÏ‚ Î¿Î¹ ÏƒÏ…Î½Î±Î»Î»Î±Î³Î­Ï‚"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-4xl font-bold text-purple-900",children:o.total_transactions}),e.jsx("div",{className:"text-sm text-purple-600",children:"ÏƒÏ…Î½Î±Î»Î»Î±Î³Î­Ï‚"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"ğŸ‘¥ Î‘Î½Î¬Î»Ï…ÏƒÎ· Î§ÏÎ·ÏƒÏ„ÏÎ½"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"ÎœÎµÏ„ÏÎ·Ï„Î¬ ÎºÎ±Î¹ POS Î±Î½Î¬ Ï‡ÏÎ®ÏƒÏ„Î·"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(He,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· Ï‡ÏÎ®ÏƒÏ„Î·...",value:_,onChange:i=>ue(i.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm"})]}),_&&e.jsx("button",{onClick:()=>ue(""),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(We,{className:"h-4 w-4"})}),e.jsxs("div",{className:"hidden sm:flex items-center space-x-2 ml-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Me,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"date",value:U,onChange:i=>me(i.target.value),className:"pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm"})]}),e.jsx("span",{className:"text-gray-500 text-sm",children:"â€”"}),e.jsxs("div",{className:"relative",children:[e.jsx(Me,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"date",value:ae,onChange:i=>de(i.target.value),className:"pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm"})]}),e.jsx("button",{onClick:se,className:"px-3 py-2 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700",children:"Î¦Î¯Î»Ï„ÏÎ¿"})]})]})]})}),e.jsx("div",{className:"p-6",children:j?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ts,{className:"h-8 w-8 mx-auto mb-4 text-gray-400 animate-spin"}),e.jsx("p",{className:"text-gray-500",children:"Î¦ÏŒÏÏ„Ï‰ÏƒÎ· Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½..."})]}):y.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(lr,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÏƒÏ…Î½Î±Î»Î»Î±Î³Î­Ï‚ Î±ÎºÏŒÎ¼Î±"}),e.jsx("p",{className:"text-sm mt-2",children:"ÎŸÎ¹ ÏƒÏ…Î½Î±Î»Î»Î±Î³Î­Ï‚ Î¸Î± ÎµÎ¼Ï†Î±Î½Î¹ÏƒÏ„Î¿ÏÎ½ ÎµÎ´Ï ÏŒÏ„Î±Î½ Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î·Î¸Î¿ÏÎ½"})]}):e.jsxs("div",{className:"space-y-4",children:[y.map((i,S)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-400 to-blue-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold text-sm",children:i.user_name.split(" ").map(m=>m[0]).join("").slice(0,2)})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:i.user_name}),e.jsx("p",{className:"text-sm text-gray-600",children:i.user_email}),e.jsxs("div",{className:"flex space-x-4 text-xs text-gray-500 mt-1",children:[e.jsxs("span",{children:["ğŸ’µ ",i.cash_count," Î¼ÎµÏ„ÏÎ·Ï„Î¬"]}),e.jsxs("span",{children:["ğŸ’³ ",i.pos_count," POS"]})]})]})]}),e.jsx("div",{className:"text-right space-y-2",children:e.jsxs("div",{className:"flex space-x-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-bold text-green-600",children:["â‚¬",i.cash_total.toFixed(2)]}),e.jsx("div",{className:"text-xs text-gray-500",children:"ÎœÎµÏ„ÏÎ·Ï„Î¬"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["â‚¬",i.pos_total.toFixed(2)]}),e.jsx("div",{className:"text-xs text-gray-500",children:"POS"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-xl font-bold text-gray-900",children:["â‚¬",(i.cash_total+i.pos_total).toFixed(2)]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Î£ÏÎ½Î¿Î»Î¿"})]})]})})]})},i.user_id)),_&&ee.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(He,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎ±Î½ Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚ Î¼Îµ Î±Ï…Ï„ÏŒ Ï„Î¿ ÏŒÎ½Î¿Î¼Î±"}),e.jsx("p",{className:"text-sm mt-2",children:"Î”Î¿ÎºÎ¹Î¼Î¬ÏƒÏ„Îµ Î­Î½Î± Î´Î¹Î±Ï†Î¿ÏÎµÏ„Î¹ÎºÏŒ ÏŒÏÎ¿ Î±Î½Î±Î¶Î®Ï„Î·ÏƒÎ·Ï‚"})]}),!_&&ce>1&&e.jsxs("div",{className:"flex items-center justify-between py-4 border-t border-gray-200",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Î•Î¼Ï†Î±Î½Î¯Î¶Î¿Î½Ï„Î±Î¹ ",g+1,"-",Math.min(Ne,w.length)," Î±Ï€ÏŒ ",w.length," Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:Pe,disabled:I===1,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"â† Î ÏÎ¿Î·Î³Î¿ÏÎ¼ÎµÎ½Î·"}),e.jsxs("span",{className:"px-3 py-2 text-sm text-gray-700",children:["Î£ÎµÎ»Î¯Î´Î± ",I," Î±Ï€ÏŒ ",ce]}),e.jsx("button",{onClick:ne,disabled:I===ce,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Î•Ï€ÏŒÎ¼ÎµÎ½Î· â†’"})]})]})]})})]})]})},fo=({selectedUser:o,programId:p,weeklyFrequency:w,onAssignmentComplete:P})=>{const[j,L]=c.useState([]),[_,K]=c.useState([]),[ee,re]=c.useState(null),[U,me]=c.useState(null),[ae,de]=c.useState([]),[I,le]=c.useState(!1),[B,M]=c.useState(""),[se,we]=c.useState([]);c.useEffect(()=>{ue()},[o.id,p]);const ue=async()=>{le(!0);try{await Promise.all([ce(),g(),Ne()])}catch(u){console.error("Failed to load group assignment data:",u),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Ï„Ï‰Î½ Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½")}finally{le(!1)}},ce=async()=>{try{const u=await $n(ee||void 0);L(u)}catch(u){throw console.error("Failed to load available slots:",u),u}},g=async()=>{try{const u=await ml(o.id,p);K(u)}catch(u){throw console.error("Failed to load user assignments:",u),u}},Ne=async()=>{try{const u=await Dn(o.id,p);we(u)}catch(u){throw console.error("Failed to load weekly assignment summary:",u),u}},l=async u=>{try{const k=await Tn(u);de(k)}catch(k){console.error("Failed to load slot assignments:",k),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Ï„Ï‰Î½ Î±Î½Î±Î¸Î­ÏƒÎµÏ‰Î½")}},Pe=async u=>{me(u),await l(u.groupIdentifier)},ne=async()=>{if(!U){x.error("Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ Î¼Î¹Î± Î¿Î¼Î±Î´Î¹ÎºÎ® Î¸Î­ÏƒÎ·");return}try{le(!0);const u=await Un(o.id,p,U.groupIdentifier,U.dayOfWeek,U.startTime,U.endTime,w);if(!u.isValid){x.error(`Î”ÎµÎ½ ÎµÎ¯Î½Î±Î¹ Î´Ï…Î½Î±Ï„Î® Î· Î±Î½Î¬Î¸ÎµÏƒÎ·: ${u.errorMessage}`);return}const k=await In(p,o.id,U.groupIdentifier,w,B);if(k.success){x.success("Î— Î±Î½Î¬Î¸ÎµÏƒÎ· Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î®Î¸Î·ÎºÎµ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚!"),M(""),await ue(),await l(U.groupIdentifier);const be=await ml(o.id,p);be.length>=w&&await En(o.id,p,be)&&x.success(`ğŸ‰ Î¤Î¿ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î¿Î»Î¿ÎºÎ»Î·ÏÏÎ¸Î·ÎºÎµ! ÎŸ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚ ${o.firstName} ${o.lastName} Î¸Î± Î»Î¬Î²ÎµÎ¹ ÎµÎ½Î·Î¼Î­ÏÏ‰ÏƒÎ·.`),P&&P()}else x.error(`Î£Ï†Î¬Î»Î¼Î±: ${k.message}`)}catch(u){console.error("Failed to assign user:",u),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Ï„Î·Ï‚ Î±Î½Î¬Î¸ÎµÏƒÎ·Ï‚")}finally{le(!1)}},y=async u=>{if(confirm("Î•Î¯ÏƒÏ„Îµ ÏƒÎ¯Î³Î¿Ï…ÏÎ¿Î¹ ÏŒÏ„Î¹ Î¸Î­Î»ÎµÏ„Îµ Î½Î± Î±Ï†Î±Î¹ÏÎ­ÏƒÎµÏ„Îµ Î±Ï…Ï„Î® Ï„Î·Î½ Î±Î½Î¬Î¸ÎµÏƒÎ·;"))try{le(!0),await Mn(u)?(x.success("Î— Î±Î½Î¬Î¸ÎµÏƒÎ· Î±Ï†Î±Î¹ÏÎ­Î¸Î·ÎºÎµ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚"),await ue(),U&&await l(U.groupIdentifier)):x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î·Î½ Î±Ï†Î±Î¯ÏÎµÏƒÎ· Ï„Î·Ï‚ Î±Î½Î¬Î¸ÎµÏƒÎ·Ï‚")}catch(k){console.error("Failed to remove assignment:",k),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î·Î½ Î±Ï†Î±Î¯ÏÎµÏƒÎ· Ï„Î·Ï‚ Î±Î½Î¬Î¸ÎµÏƒÎ·Ï‚")}finally{le(!1)}},i=()=>_.length,S=()=>Math.max(0,w-i()),m=()=>i()>=w,G=()=>{const u=i(),k=w;return u===0?`Î”ÎµÎ½ Î­Ï‡Î¿Ï…Î½ Î³Î¯Î½ÎµÎ¹ Î±Î½Î±Î¸Î­ÏƒÎµÎ¹Ï‚ Î±ÎºÏŒÎ¼Î±. Î‘Ï€Î±Î¹Ï„Î¿ÏÎ½Ï„Î±Î¹ ${k} Î±Î½Î±Î¸Î­ÏƒÎµÎ¹Ï‚.`:u<k?`ÎˆÏ‡Î¿Ï…Î½ Î³Î¯Î½ÎµÎ¹ ${u} Î±Ï€ÏŒ ${k} Î±Ï€Î±Î¹Ï„Î¿ÏÎ¼ÎµÎ½ÎµÏ‚ Î±Î½Î±Î¸Î­ÏƒÎµÎ¹Ï‚. Î‘Ï€Î¿Î¼Î­Î½Î¿Ï…Î½ ${k-u}.`:"âœ… ÎŸÎ»Î¿ÎºÎ»Î·ÏÏÎ¸Î·ÎºÎ±Î½ ÏŒÎ»ÎµÏ‚ Î¿Î¹ Î±Î½Î±Î¸Î­ÏƒÎµÎ¹Ï‚! ÎŸ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚ Î¸Î± Î»Î¬Î²ÎµÎ¹ ÎµÎ½Î·Î¼Î­ÏÏ‰ÏƒÎ· Î³Î¹Î± Ï„Î¿ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î¬ Ï„Î¿Ï…."},V=()=>[{value:null,label:"ÎŒÎ»ÎµÏ‚ Î¿Î¹ Î·Î¼Î­ÏÎµÏ‚"},{value:1,label:"Î”ÎµÏ…Ï„Î­ÏÎ±"},{value:2,label:"Î¤ÏÎ¯Ï„Î·"},{value:3,label:"Î¤ÎµÏ„Î¬ÏÏ„Î·"},{value:4,label:"Î Î­Î¼Ï€Ï„Î·"},{value:5,label:"Î Î±ÏÎ±ÏƒÎºÎµÏ…Î®"},{value:6,label:"Î£Î¬Î²Î²Î±Ï„Î¿"}],q=u=>u.isFull?"bg-red-100 border-red-300 text-red-700":u.availableSpots<=1?"bg-yellow-100 border-yellow-300 text-yellow-700":"bg-green-100 border-green-300 text-green-700",A=u=>_.some(k=>k.groupIdentifier===u.groupIdentifier);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Be,{className:"h-6 w-6 text-blue-600"}),e.jsxs("h3",{className:"text-xl font-bold text-blue-800",children:["Î‘Î½Î¬Î¸ÎµÏƒÎ· ÎŸÎ¼Î±Î´Î¹ÎºÏÎ½ Î˜Î­ÏƒÎµÏ‰Î½ - ",o.firstName," ",o.lastName]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:m()?e.jsxs("div",{className:"flex items-center space-x-2 bg-green-100 px-3 py-1 rounded-full",children:[e.jsx(rr,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-700",children:"ÎŸÎ»Î¿ÎºÎ»Î·ÏÏÎ¸Î·ÎºÎµ"})]}):e.jsxs("div",{className:"flex items-center space-x-2 bg-orange-100 px-3 py-1 rounded-full",children:[e.jsx(nr,{className:"h-4 w-4 text-orange-600"}),e.jsx("span",{className:"text-sm font-medium text-orange-700",children:"Î£Îµ ÎµÎ¾Î­Î»Î¹Î¾Î·"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Î£Ï„ÏŒÏ‡Î¿Ï‚ Î•Î²Î´Î¿Î¼Î¬Î´Î±Ï‚"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:w})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Î¤ÏÎ­Ï‡Î¿Ï…ÏƒÎµÏ‚ Î‘Î½Î±Î¸Î­ÏƒÎµÎ¹Ï‚"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:i()})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Î¥Ï€Î¿Î»ÎµÎ¯Ï€Î¿Î½Ï„Î±Î¹"}),e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:S()})]})]}),e.jsx("div",{className:`mt-4 p-4 rounded-lg ${m()?"bg-green-50 border border-green-200":"bg-blue-50 border border-blue-200"}`,children:e.jsx("p",{className:`text-sm font-medium ${m()?"text-green-700":"text-blue-700"}`,children:G()})})]}),_.length>0&&e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx(Me,{className:"h-5 w-5 mr-2 text-blue-600"}),"Î¤ÏÎ­Ï‡Î¿Ï…ÏƒÎµÏ‚ Î‘Î½Î±Î¸Î­ÏƒÎµÎ¹Ï‚"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_.map(u=>e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-blue-800",children:[sr(u.dayOfWeek)," - ",xl(u.groupType)]}),e.jsxs("div",{className:"text-sm text-blue-600",children:[nt(u.startTime)," - ",nt(u.endTime)]}),e.jsxs("div",{className:"text-sm text-blue-600",children:["Î ÏÎ¿Ï€Î¿Î½Î·Ï„Î®Ï‚: ",u.trainer]})]}),e.jsx("button",{onClick:()=>y(u.id),className:"text-red-600 hover:text-red-800 p-1",title:"Î‘Ï†Î±Î¯ÏÎµÏƒÎ· Î±Î½Î¬Î¸ÎµÏƒÎ·Ï‚",children:e.jsx(Ye,{className:"h-4 w-4"})})]}),u.notes&&e.jsxs("div",{className:"text-xs text-gray-600 mt-2",children:["Î£Î·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚: ",u.notes]})]},u.id))})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[e.jsx(Gt,{className:"h-5 w-5 mr-2 text-green-600"}),"Î”Î¹Î±Î¸Î­ÏƒÎ¹Î¼ÎµÏ‚ ÎŸÎ¼Î±Î´Î¹ÎºÎ­Ï‚ Î˜Î­ÏƒÎµÎ¹Ï‚"]}),e.jsx("select",{value:ee||"",onChange:u=>{const k=u.target.value?parseInt(u.target.value):null;re(k),ce()},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:V().map(u=>e.jsx("option",{value:u.value||"",children:u.label},u.value||"all"))})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.map(u=>{const k=A(u),be=!k&&!u.isFull&&!m();return e.jsxs("div",{className:`rounded-lg p-4 border-2 cursor-pointer transition-all ${(U==null?void 0:U.id)===u.id?"border-blue-500 bg-blue-50":`border-gray-200 hover:border-gray-300 ${q(u)}`} ${be?"":"opacity-60"}`,onClick:()=>be&&Pe(u),children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-800",children:sr(u.dayOfWeek)}),e.jsxs("div",{className:"text-sm text-gray-600 flex items-center mt-1",children:[e.jsx(dt,{className:"h-4 w-4 mr-1"}),nt(u.startTime)," - ",nt(u.endTime)]}),e.jsxs("div",{className:"text-sm text-gray-600 flex items-center mt-1",children:[e.jsx(yl,{className:"h-4 w-4 mr-1"}),u.trainer," - ",u.room]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-gray-800",children:xl(u.groupType)}),e.jsxs("div",{className:"text-xs text-gray-600",children:[u.currentAssignments,"/",u.maxCapacity]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"text-sm",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${u.isFull?"bg-red-100 text-red-800":u.availableSpots<=1?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:u.isFull?"Î Î»Î®ÏÎµÏ‚":`${u.availableSpots} Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼ÎµÏ‚`})}),k&&e.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Î‘Î½Î±Ï„ÎµÎ¸ÎµÎ¹Î¼Î­Î½Î¿"})]})]},u.id)})})]}),U&&!m()&&e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx(Ot,{className:"h-5 w-5 mr-2 text-green-600"}),"Î‘Î½Î¬Î¸ÎµÏƒÎ· ÏƒÏ„Î· Î¸Î­ÏƒÎ·: ",sr(U.dayOfWeek)," - ",nt(U.startTime)]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Î£Î·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚ (Ï€ÏÎ¿Î±Î¹ÏÎµÏ„Î¹ÎºÏŒ)"}),e.jsx("textarea",{value:B,onChange:u=>M(u.target.value),placeholder:"Î ÏÎ¿ÏƒÎ¸Î­ÏƒÏ„Îµ ÏƒÎ·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚ Î³Î¹Î± Î±Ï…Ï„Î® Ï„Î·Î½ Î±Î½Î¬Î¸ÎµÏƒÎ·...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3})]}),ae.length>0&&e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Î¤ÏÎ­Ï‡Î¿Î½Ï„Î± Î¼Î­Î»Î· Î±Ï…Ï„Î®Ï‚ Ï„Î·Ï‚ Î¿Î¼Î¬Î´Î±Ï‚:"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:ae.map(u=>{var k,be;return e.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:["â€¢ ",(k=u.userInfo)==null?void 0:k.first_name," ",(be=u.userInfo)==null?void 0:be.last_name]},u.id)})})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:ne,disabled:I,className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:[e.jsx(Ot,{className:"h-4 w-4 mr-2"}),I?"Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î±...":"Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Î‘Î½Î¬Î¸ÎµÏƒÎ·Ï‚"]}),e.jsx("button",{onClick:()=>me(null),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Î‘ÎºÏÏÏ‰ÏƒÎ·"})]})]})]}),m()&&e.jsx("div",{className:"bg-green-50 rounded-xl p-6 border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(rr,{className:"h-8 w-8 text-green-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-green-800",children:"ÎŸÎ¹ Î±Î½Î±Î¸Î­ÏƒÎµÎ¹Ï‚ Î¿Î»Î¿ÎºÎ»Î·ÏÏÎ¸Î·ÎºÎ±Î½!"}),e.jsxs("p",{className:"text-green-600",children:["ÎŸ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚ Î­Ï‡ÎµÎ¹ Î±Î½Î±Ï„ÎµÎ¸ÎµÎ¯ ÏƒÎµ ",i()," Î¿Î¼Î±Î´Î¹ÎºÎ­Ï‚ Î¸Î­ÏƒÎµÎ¹Ï‚ Î±Ï…Ï„Î® Ï„Î·Î½ ÎµÎ²Î´Î¿Î¼Î¬Î´Î±."]})]})]})})]})},ul=async o=>{if(!o||o==="undefined"||o==="00000000-0000-0000-0000-000000000001")try{const{data:p,error:w}=await D.from("user_profiles").select("user_id").eq("role","admin").limit(1).single();return w||!p?(console.error("No admin user found:",w),null):p.user_id}catch(p){return console.error("Error getting admin user:",p),null}return o},yo=({ultimateRequests:o,ultimateLoading:p,ultimateSearchTerm:w,setUltimateSearchTerm:P,selectedRequestOptions:j,handleRequestOptionChange:L,updateInstallmentAmounts:_,deleteUltimateRequest:K,loadUltimateRequests:ee,handleApproveRequest:re,handleRejectRequest:U,loading:me,requestProgramApprovalStatus:ae,handleRequestProgramApprovalChange:de,handleSaveRequestProgramOptions:I,requestPendingUsers:le,requestFrozenOptions:B})=>{const{user:M}=jl(),[se,we]=Es.useState(1),ue=50,ce=100,[g,Ne]=Es.useState(!1),[l,Pe]=Es.useState(null),[ne,y]=Es.useState(!1),[i,S]=Es.useState(null),m=()=>{const r=o.filter(Q=>{var fe,$e,Ue;return w===""||`${((fe=Q.user)==null?void 0:fe.first_name)||""} ${(($e=Q.user)==null?void 0:$e.last_name)||""}`.toLowerCase().includes(w.toLowerCase())||(((Ue=Q.user)==null?void 0:Ue.email)||"").toLowerCase().includes(w.toLowerCase())});if(r.length>ce){const Q=(se-1)*ue,X=Q+ue;return r.slice(Q,X)}return r},G=()=>o.filter(r=>{var X,fe,$e;return w===""||`${((X=r.user)==null?void 0:X.first_name)||""} ${((fe=r.user)==null?void 0:fe.last_name)||""}`.toLowerCase().includes(w.toLowerCase())||((($e=r.user)==null?void 0:$e.email)||"").toLowerCase().includes(w.toLowerCase())}).length,V=()=>{const r=G();return Math.ceil(r/ue)},q=()=>G()>ce,A=r=>le.has(r),u=r=>B[r]||{},k=(r,Q)=>{Pe({requestId:r,installmentNumber:Q}),Ne(!0)},be=async()=>{if(l){const{requestId:r,installmentNumber:Q}=l;try{console.log(`[AdminUltimateInstallmentsTab] Locking installment ${Q} for request ${r}`);const X=o.find(_e=>_e.id===r);if(X){const _e=j[r]||{},ve={};Q===1?(ve.installment_1_amount=parseFloat(_e.installment1Amount||X.installment_1_amount||0),ve.installment_1_payment_method=_e.installment1PaymentMethod||X.installment_1_payment_method||"cash",ve.installment_1_due_date=_e.installment1DueDate||X.installment_1_due_date):Q===2?(ve.installment_2_amount=parseFloat(_e.installment2Amount||X.installment_2_amount||0),ve.installment_2_payment_method=_e.installment2PaymentMethod||X.installment_2_payment_method||"cash",ve.installment_2_due_date=_e.installment2DueDate||X.installment_2_due_date):Q===3&&(ve.installment_3_amount=parseFloat(_e.installment3Amount||X.installment_3_amount||0),ve.installment_3_payment_method=_e.installment3PaymentMethod||X.installment_3_payment_method||"cash",ve.installment_3_due_date=_e.installment3DueDate||X.installment_3_due_date);const{error:ze}=await D.from("membership_requests").update(ve).eq("id",r);if(ze){console.error("[AdminUltimateInstallmentsTab] Error saving values before lock:",ze),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î·Î½ Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· Ï„Ï‰Î½ Ï„Î¹Î¼ÏÎ½");return}console.log("[AdminUltimateInstallmentsTab] Saved values before locking:",ve)}const fe=await ul(M==null?void 0:M.id);if(!fe){console.error("[AdminUltimateInstallmentsTab] No valid user ID found for locking"),x.error("Î£Ï†Î¬Î»Î¼Î±: Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎµ Î­Î³ÎºÏ…ÏÎ¿ ID Ï‡ÏÎ®ÏƒÏ„Î· Î³Î¹Î± Ï„Î¿ ÎºÎ»ÎµÎ¯Î´Ï‰Î¼Î±");return}const{error:$e}=await D.rpc("lock_ultimate_installment",{p_request_id:r,p_installment_number:Q,p_locked_by:fe});if($e){console.error(`[AdminUltimateInstallmentsTab] Error locking installment ${Q}:`,$e),x.error(`Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î¿ ÎºÎ»ÎµÎ¯Î´Ï‰Î¼Î± Ï„Î·Ï‚ ${Q}Î·Ï‚ Î´ÏŒÏƒÎ·Ï‚`);return}console.log(`[AdminUltimateInstallmentsTab] Successfully locked installment ${Q}`);const Ue=`installment${Q}Locked`;L(r,Ue,!0),x.success(`${Q}Î· Î´ÏŒÏƒÎ· ÎºÎ»ÎµÎ¹Î´ÏÎ¸Î·ÎºÎµ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚ Î¼Îµ Ï„Î¹Ï‚ Ï„ÏÎ­Ï‡Î¿Ï…ÏƒÎµÏ‚ Ï„Î¹Î¼Î­Ï‚`),await ee()}catch(X){console.error("[AdminUltimateInstallmentsTab] Exception locking installment:",X),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î¿ ÎºÎ»ÎµÎ¯Î´Ï‰Î¼Î± Ï„Î·Ï‚ Î´ÏŒÏƒÎ·Ï‚")}Ne(!1),Pe(null)}},pe=()=>{Ne(!1),Pe(null)},Ce=r=>{S(r),y(!0)},bs=async()=>{if(i){try{const r=await ul(M==null?void 0:M.id);console.log(`[AdminUltimateInstallmentsTab] Deleting third installment for request ${i}, by user: ${r}`);const{error:Q}=await D.rpc("delete_ultimate_third_installment",{p_request_id:i,p_deleted_by:r||null});if(Q){console.error("[AdminUltimateInstallmentsTab] Error deleting third installment:",Q),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Î´Î¹Î±Î³ÏÎ±Ï†Î® Ï„Î·Ï‚ 3Î·Ï‚ Î´ÏŒÏƒÎ·Ï‚");return}console.log("[AdminUltimateInstallmentsTab] Successfully deleted third installment"),L(i,"deleteThirdInstallment",!0),x.success("3Î· Î´ÏŒÏƒÎ· Î´Î¹Î±Î³ÏÎ¬Ï†Î·ÎºÎµ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚ ÎºÎ±Î¹ Î¼ÏŒÎ½Î¹Î¼Î±"),await ee()}catch(r){console.error("[AdminUltimateInstallmentsTab] Exception deleting third installment:",r),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Î´Î¹Î±Î³ÏÎ±Ï†Î® Ï„Î·Ï‚ 3Î·Ï‚ Î´ÏŒÏƒÎ·Ï‚")}y(!1),S(null)}},ct=()=>{y(!1),S(null)},Z=(r,Q)=>{const X=`ultimate_installment_${Q}_locked`,fe=r[X]===!0;return console.log(`[AdminUltimateInstallmentsTab] isInstallmentLocked check for request ${r.id}, installment ${Q}: locked = ${fe}, field = ${X}, value = ${r[X]}`),fe};return Es.useEffect(()=>{we(1)},[w]),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-bold text-white flex items-center",children:[e.jsx("span",{className:"text-4xl mr-3",children:"ğŸ‘‘"}),"Ultimate Î£Ï…Î½Î´ÏÎ¿Î¼Î­Ï‚"]}),e.jsx("p",{className:"text-gray-300 mt-2 text-lg",children:"Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Î±Î¹Ï„Î·Î¼Î¬Ï„Ï‰Î½ Î³Î¹Î± Ï€Î±ÎºÎ­Ï„Î± Ultimate Î¼Îµ ÎºÎ±Î¹ Ï‡Ï‰ÏÎ¯Ï‚ Î´ÏŒÏƒÎµÎ¹Ï‚"})]}),e.jsxs("button",{onClick:ee,disabled:p,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-200 disabled:opacity-50 flex items-center space-x-2 shadow-lg hover:shadow-xl transform hover:scale-105 font-medium",children:[p?e.jsx(it,{className:"h-5 w-5 animate-spin"}):e.jsx(He,{className:"h-5 w-5"}),e.jsx("span",{children:"Î‘Î½Î±Î½Î­Ï‰ÏƒÎ·"})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-gray-700 to-gray-800 rounded-2xl shadow-lg border border-gray-600 p-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(He,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-blue-400 h-5 w-5"}),e.jsx("input",{type:"text",placeholder:"ğŸ” Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· Î¼Îµ ÏŒÎ½Î¿Î¼Î± Ï‡ÏÎ®ÏƒÏ„Î· Î® email...",value:w,onChange:r=>P(r.target.value),className:"w-full pl-12 pr-4 py-4 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white placeholder-gray-400 text-lg font-medium"})]})}),w&&e.jsx("button",{onClick:()=>P(""),className:"px-4 py-4 text-gray-400 hover:text-white transition-colors bg-gray-600 rounded-xl hover:bg-gray-500",children:e.jsx(We,{className:"h-5 w-5"})})]})}),q()&&!p&&e.jsx("div",{className:"bg-gradient-to-r from-gray-700 to-gray-800 rounded-2xl shadow-lg border border-gray-600 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-white font-medium",children:["Î£ÎµÎ»Î¯Î´Î± ",se," Î±Ï€ÏŒ ",V()," â€¢ Î£ÏÎ½Î¿Î»Î¿: ",G()," Î±Î¹Ï„Î®Î¼Î±Ï„Î±"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>we(1),disabled:se===1,className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium",children:"Î ÏÏÏ„Î·"}),e.jsx("button",{onClick:()=>we(r=>Math.max(r-1,1)),disabled:se===1,className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium",children:"Î ÏÎ¿Î·Î³Î¿ÏÎ¼ÎµÎ½Î·"}),e.jsxs("span",{className:"px-4 py-2 bg-gray-600 text-white rounded-lg text-sm font-medium",children:[se," / ",V()]}),e.jsx("button",{onClick:()=>we(r=>Math.min(r+1,V())),disabled:se===V(),className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium",children:"Î•Ï€ÏŒÎ¼ÎµÎ½Î·"}),e.jsx("button",{onClick:()=>we(V()),disabled:se===V(),className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium",children:"Î¤ÎµÎ»ÎµÏ…Ï„Î±Î¯Î±"})]})]})}),p?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx(it,{className:"h-12 w-12 animate-spin text-blue-400 mx-auto mb-4"}),e.jsx("span",{className:"text-gray-300 font-medium text-lg",children:"Î¦ÏŒÏÏ„Ï‰ÏƒÎ· Ultimate Î±Î¹Ï„Î·Î¼Î¬Ï„Ï‰Î½..."})]})}):m().length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 rounded-full p-6 w-24 h-24 mx-auto mb-6 shadow-2xl",children:e.jsx(vl,{className:"h-12 w-12 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:w?"ğŸ” Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎ±Î½ Î±Ï€Î¿Ï„ÎµÎ»Î­ÏƒÎ¼Î±Ï„Î±":"ğŸ‘‘ Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Ultimate Î±Î¹Ï„Î®Î¼Î±Ï„Î±"}),e.jsx("p",{className:"text-gray-300 text-lg",children:w?"Î”Î¿ÎºÎ¹Î¼Î¬ÏƒÏ„Îµ Î´Î¹Î±Ï†Î¿ÏÎµÏ„Î¹ÎºÏŒ ÏŒÎ½Î¿Î¼Î± Î³Î¹Î± Ï„Î·Î½ Î±Î½Î±Î¶Î®Ï„Î·ÏƒÎ·.":"ÎŒÏ„Î±Î½ Î¿Î¹ Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚ Ï…Ï€Î¿Î²Î¬Î»Î¿Ï…Î½ Î±Î¹Ï„Î®Î¼Î±Ï„Î± Î³Î¹Î± Ï„Î¿ Ï€Î±ÎºÎ­Ï„Î¿ Ultimate, Î¸Î± ÎµÎ¼Ï†Î±Î½Î¯Î¶Î¿Î½Ï„Î±Î¹ ÎµÎ´Ï."})]}):e.jsx("div",{className:"grid gap-8",children:m().map(r=>{var Q,X,fe,$e,Ue,_e,ve,ze,ps,fs,Ls,ys,Fs,mt,Gs,Os,es,T,Ke,Oe,xt,gt,ht,Ve,ut,Rs,zs,ss,bt,ts,pt,rs,as,js,Ae,ls,Qe,Ks,vs,Ie,ws,Vs,ns,Ns,Ee,os,Te,is,ft,_s,yt,ks,ye,ds,cs;return e.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl shadow-2xl border border-gray-600 p-8 hover:shadow-3xl transition-all duration-300 transform hover:scale-102",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-6 lg:space-y-0",children:[e.jsxs("div",{className:"flex items-start space-x-6",children:[e.jsxs("div",{className:"relative",children:[(Q=r.user)!=null&&Q.profile_photo?e.jsxs("div",{className:"w-16 h-16 rounded-2xl overflow-hidden shadow-2xl border-3 border-blue-400",children:[e.jsx("img",{src:r.user.profile_photo,alt:`${(X=r.user)==null?void 0:X.first_name} ${(fe=r.user)==null?void 0:fe.last_name}`,className:"w-full h-full object-cover",onError:O=>{O.currentTarget.style.display="none";const Je=O.currentTarget.nextElementSibling;Je&&(Je.style.display="flex")}}),e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center hidden",children:e.jsx(Be,{className:"h-8 w-8 text-white"})})]}):e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-2xl",children:e.jsx(Be,{className:"h-8 w-8 text-white"})}),r.status==="pending"&&e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-full border-2 border-white shadow-lg animate-pulse"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h4",{className:"text-2xl font-bold text-white mb-2",children:[($e=r.user)==null?void 0:$e.first_name," ",(Ue=r.user)==null?void 0:Ue.last_name]}),e.jsxs("p",{className:"text-gray-300 mb-3 flex items-center text-lg",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full mr-3"}),(_e=r.user)==null?void 0:_e.email]}),e.jsxs("div",{className:"flex items-center space-x-3 flex-wrap",children:[e.jsx("span",{className:"inline-flex items-center px-4 py-2 rounded-xl text-sm font-bold bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg",children:"ğŸ‘‘ Ultimate Package"}),e.jsx("span",{className:"text-gray-400",children:"â€¢"}),e.jsx("span",{className:"text-gray-200 font-medium",children:ar(r.duration_type)}),r.has_installments&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-400",children:"â€¢"}),e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-xl text-sm font-medium bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg",children:"ğŸ’³ ÎœÎµ Î”ÏŒÏƒÎµÎ¹Ï‚"})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-8",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-4xl font-bold bg-gradient-to-r from-green-400 to-green-500 bg-clip-text text-transparent mb-2",children:Re(r.requested_price)}),e.jsxs("div",{className:"text-gray-300 flex items-center justify-end",children:[e.jsx(Me,{className:"h-4 w-4 mr-2 text-blue-400"}),e.jsx("span",{className:"font-medium",children:new Date(r.created_at).toLocaleDateString("el-GR")})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-3",children:[r.status==="pending"&&e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsxs("button",{onClick:()=>re(r.id),disabled:me,className:"px-8 py-4 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-2xl hover:from-green-700 hover:to-green-800 transition-all duration-200 text-lg font-bold shadow-2xl hover:shadow-3xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-3 transform hover:scale-110",children:[e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"âœ… Î•Î³ÎºÏÎ¯Î½Ï‰"})]}),e.jsxs("button",{onClick:()=>U(r.id),disabled:me,className:"px-8 py-4 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-2xl hover:from-red-700 hover:to-red-800 transition-all duration-200 text-lg font-bold shadow-2xl hover:shadow-3xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-3 transform hover:scale-110",children:[e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),e.jsx("span",{children:"âŒ Î‘Ï€Î¿ÏÏÎ¯Ï€Ï„Ï‰"})]})]}),r.status==="approved"&&e.jsxs("div",{className:"flex items-center space-x-3 bg-gradient-to-r from-green-500/20 to-green-600/20 rounded-xl p-3 border border-green-500/30",children:[e.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),e.jsx("span",{className:"px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl text-sm font-bold shadow-lg",children:"âœ… Î•Î³ÎºÎµÎºÏÎ¹Î¼Î­Î½Î¿"})]}),r.status==="rejected"&&e.jsxs("div",{className:"flex items-center space-x-3 bg-gradient-to-r from-red-500/20 to-red-600/20 rounded-xl p-3 border border-red-500/30",children:[e.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full animate-pulse"}),e.jsx("span",{className:"px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl text-sm font-bold shadow-lg",children:"âŒ Î‘Ï€Î¿ÏÏÎ¹Ï†Î¸Î­Î½"})]}),e.jsxs("button",{onClick:()=>{window.confirm("Î•Î¯ÏƒÏ„Îµ ÏƒÎ¯Î³Î¿Ï…ÏÎ¿Î¹ ÏŒÏ„Î¹ Î¸Î­Î»ÎµÏ„Îµ Î½Î± Î´Î¹Î±Î³ÏÎ¬ÏˆÎµÏ„Îµ Î±Ï…Ï„ÏŒ Ï„Î¿ Ultimate Î±Î¯Ï„Î·Î¼Î±; Î‘Ï…Ï„Î® Î· ÎµÎ½Î­ÏÎ³ÎµÎ¹Î± Î´ÎµÎ½ Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î±Î½Î±Î¹ÏÎµÎ¸ÎµÎ¯.")&&K(r.id)},className:"px-4 py-2 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl hover:from-red-700 hover:to-red-800 transition-all duration-200 text-sm font-medium flex items-center space-x-2 shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx(Ye,{className:"h-4 w-4"}),e.jsx("span",{children:"ğŸ—‘ï¸ Î”Î¹Î±Î³ÏÎ±Ï†Î®"})]})]})]})]}),r.has_installments&&e.jsxs("div",{className:"mt-8 bg-gradient-to-r from-blue-500/20 to-blue-600/20 rounded-2xl p-6 border border-blue-500/30 shadow-xl",children:[e.jsxs("h4",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"ğŸ’³"}),"Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Î”ÏŒÏƒÎµÏ‰Î½"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-700 to-gray-800 rounded-2xl p-5 border border-gray-600 shadow-lg",children:[e.jsxs("label",{className:"block text-lg font-bold text-white mb-4 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"1ï¸âƒ£"}),"1Î· Î”ÏŒÏƒÎ·"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"number",value:((ve=j[r.id])==null?void 0:ve.installment1Amount)||r.installment_1_amount||"",onChange:O=>L(r.id,"installment1Amount",O.target.value),placeholder:"Î Î¿ÏƒÏŒ",disabled:Z(r,1),className:`w-full p-4 border rounded-xl focus:ring-2 text-white placeholder-gray-400 text-lg font-medium ${Z(r,1)?"border-orange-500 bg-orange-500/20 focus:ring-orange-500 cursor-not-allowed text-orange-200 placeholder-orange-300":"border-gray-600 bg-gray-800 focus:ring-blue-500 focus:border-blue-500"}`}),e.jsxs("select",{value:((ze=j[r.id])==null?void 0:ze.installment1PaymentMethod)||r.installment_1_payment_method||"cash",onChange:O=>L(r.id,"installment1PaymentMethod",O.target.value),disabled:Z(r,1),className:`w-full p-4 border rounded-xl focus:ring-2 text-white text-lg font-medium ${Z(r,1)?"border-orange-500 bg-orange-500/20 focus:ring-orange-500 cursor-not-allowed text-orange-200":"border-gray-600 bg-gray-800 focus:ring-blue-500 focus:border-blue-500"}`,children:[e.jsx("option",{value:"cash",children:"ğŸ’° ÎœÎµÏ„ÏÎ·Ï„Î¬"}),e.jsx("option",{value:"pos",children:"ğŸ’³ POS"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center",children:[e.jsx(Me,{className:"h-4 w-4 mr-2"}),"ğŸ“… Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± Î Î»Î·ÏÏ‰Î¼Î®Ï‚"]}),e.jsx("input",{type:"date",value:((ps=j[r.id])==null?void 0:ps.installment1DueDate)||r.installment_1_due_date||"",onChange:O=>L(r.id,"installment1DueDate",O.target.value),disabled:Z(r,1),className:`w-full p-3 border rounded-xl focus:ring-2 focus:border-blue-500 text-white ${Z(r,1)?"border-orange-500 bg-orange-500/20 focus:ring-orange-500 cursor-not-allowed text-orange-200":"border-gray-600 bg-gray-800 focus:ring-blue-500"}`})]}),e.jsx("div",{className:"flex items-center space-x-3 pt-2",children:e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Z(r,1),onChange:()=>k(r.id,1),className:"w-4 h-4 text-orange-600 bg-gray-800 border-gray-600 rounded focus:ring-orange-500 focus:ring-2"}),e.jsxs("span",{className:"text-sm text-gray-300 flex items-center space-x-1",children:[e.jsx(qe,{className:"h-3 w-3"}),e.jsx("span",{children:"ÎšÎ»ÎµÎ¯Î´Ï‰Î¼Î± Î”ÏŒÏƒÎ·Ï‚"})]})]})}),Z(r,1)&&e.jsxs("div",{className:"mt-3 p-3 bg-orange-500/20 border border-orange-500/50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(qe,{className:"h-4 w-4 text-orange-400"}),e.jsx("span",{className:"text-sm font-bold text-orange-300",children:"ÎšÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½ÎµÏ‚ Î¤Î¹Î¼Î­Ï‚"})]}),e.jsxs("div",{className:"space-y-1 text-xs text-orange-200",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"ğŸ’° Î Î¿ÏƒÏŒ:"})," ",Re(r.installment_1_amount||0)]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"ğŸ’³ Î¤ÏÏŒÏ€Î¿Ï‚ Î Î»Î·ÏÏ‰Î¼Î®Ï‚:"})," ",r.installment_1_payment_method==="cash"?"ğŸ’° ÎœÎµÏ„ÏÎ·Ï„Î¬":"ğŸ’³ POS"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"ğŸ“… Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±:"})," ",r.installment_1_due_date||"Î”ÎµÎ½ Î¿ÏÎ¯ÏƒÏ„Î·ÎºÎµ"]})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-700 to-gray-800 rounded-2xl p-5 border border-gray-600 shadow-lg",children:[e.jsxs("label",{className:"block text-lg font-bold text-white mb-4 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"2ï¸âƒ£"}),"2Î· Î”ÏŒÏƒÎ·"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"number",value:((fs=j[r.id])==null?void 0:fs.installment2Amount)||r.installment_2_amount||"",onChange:O=>L(r.id,"installment2Amount",O.target.value),placeholder:"Î Î¿ÏƒÏŒ",disabled:Z(r,2),className:`w-full p-4 border rounded-xl focus:ring-2 text-white placeholder-gray-400 text-lg font-medium ${Z(r,2)?"border-orange-500 bg-orange-500/20 focus:ring-orange-500 cursor-not-allowed text-orange-200 placeholder-orange-300":"border-gray-600 bg-gray-800 focus:ring-blue-500 focus:border-blue-500"}`}),e.jsxs("select",{value:((Ls=j[r.id])==null?void 0:Ls.installment2PaymentMethod)||r.installment_2_payment_method||"cash",onChange:O=>L(r.id,"installment2PaymentMethod",O.target.value),disabled:Z(r,2),className:`w-full p-4 border rounded-xl focus:ring-2 text-white text-lg font-medium ${Z(r,2)?"border-orange-500 bg-orange-500/20 focus:ring-orange-500 cursor-not-allowed text-orange-200":"border-gray-600 bg-gray-800 focus:ring-blue-500 focus:border-blue-500"}`,children:[e.jsx("option",{value:"cash",children:"ğŸ’° ÎœÎµÏ„ÏÎ·Ï„Î¬"}),e.jsx("option",{value:"pos",children:"ğŸ’³ POS"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center",children:[e.jsx(Me,{className:"h-4 w-4 mr-2"}),"ğŸ“… Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± Î Î»Î·ÏÏ‰Î¼Î®Ï‚"]}),e.jsx("input",{type:"date",value:((ys=j[r.id])==null?void 0:ys.installment2DueDate)||r.installment_2_due_date||"",onChange:O=>L(r.id,"installment2DueDate",O.target.value),disabled:Z(r,2),className:`w-full p-3 border rounded-xl focus:ring-2 focus:border-blue-500 text-white ${Z(r,2)?"border-orange-500 bg-orange-500/20 focus:ring-orange-500 cursor-not-allowed text-orange-200":"border-gray-600 bg-gray-800 focus:ring-blue-500"}`})]}),e.jsx("div",{className:"flex items-center space-x-3 pt-2",children:e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Z(r,2),onChange:()=>k(r.id,2),className:"w-4 h-4 text-orange-600 bg-gray-800 border-gray-600 rounded focus:ring-orange-500 focus:ring-2"}),e.jsxs("span",{className:"text-sm text-gray-300 flex items-center space-x-1",children:[e.jsx(qe,{className:"h-3 w-3"}),e.jsx("span",{children:"ÎšÎ»ÎµÎ¯Î´Ï‰Î¼Î± Î”ÏŒÏƒÎ·Ï‚"})]})]})}),Z(r,2)&&e.jsxs("div",{className:"mt-3 p-3 bg-orange-500/20 border border-orange-500/50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(qe,{className:"h-4 w-4 text-orange-400"}),e.jsx("span",{className:"text-sm font-bold text-orange-300",children:"ÎšÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½ÎµÏ‚ Î¤Î¹Î¼Î­Ï‚"})]}),e.jsxs("div",{className:"space-y-1 text-xs text-orange-200",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"ğŸ’° Î Î¿ÏƒÏŒ:"})," ",Re(r.installment_2_amount||0)]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"ğŸ’³ Î¤ÏÏŒÏ€Î¿Ï‚ Î Î»Î·ÏÏ‰Î¼Î®Ï‚:"})," ",r.installment_2_payment_method==="cash"?"ğŸ’° ÎœÎµÏ„ÏÎ·Ï„Î¬":"ğŸ’³ POS"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"ğŸ“… Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±:"})," ",r.installment_2_due_date||"Î”ÎµÎ½ Î¿ÏÎ¯ÏƒÏ„Î·ÎºÎµ"]})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-700 to-gray-800 rounded-2xl p-5 border border-gray-600 shadow-lg",children:[e.jsxs("label",{className:"block text-lg font-bold text-white mb-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"3ï¸âƒ£"}),"3Î· Î”ÏŒÏƒÎ·"]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:((Fs=j[r.id])==null?void 0:Fs.deleteThirdInstallment)||r.ultimate_third_installment_deleted||!1,onChange:()=>Ce(r.id),className:"w-4 h-4 text-red-600 bg-gray-800 border-gray-600 rounded focus:ring-red-500 focus:ring-2"}),e.jsxs("span",{className:"text-sm text-red-300 flex items-center space-x-1",children:[e.jsx(Ye,{className:"h-3 w-3"}),e.jsx("span",{children:"Î”Î¹Î±Î³ÏÎ±Ï†Î® 3Î·Ï‚ Î”ÏŒÏƒÎ·Ï‚"})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"number",value:((mt=j[r.id])==null?void 0:mt.installment3Amount)||r.installment_3_amount||"",onChange:O=>L(r.id,"installment3Amount",O.target.value),placeholder:"Î Î¿ÏƒÏŒ",disabled:Z(r,3)||((Gs=j[r.id])==null?void 0:Gs.deleteThirdInstallment)||r.ultimate_third_installment_deleted,className:`w-full p-4 border rounded-xl focus:ring-2 text-white placeholder-gray-400 text-lg font-medium ${Z(r,3)?"border-orange-500 bg-orange-500/20 focus:ring-orange-500 cursor-not-allowed text-orange-200 placeholder-orange-300":(Os=j[r.id])!=null&&Os.deleteThirdInstallment||r.ultimate_third_installment_deleted?"border-red-500 bg-red-500/20 focus:ring-red-500 cursor-not-allowed text-red-200 placeholder-red-300":"border-gray-600 bg-gray-800 focus:ring-blue-500 focus:border-blue-500"}`}),e.jsxs("select",{value:((es=j[r.id])==null?void 0:es.installment3PaymentMethod)||r.installment_3_payment_method||"cash",onChange:O=>L(r.id,"installment3PaymentMethod",O.target.value),disabled:Z(r,3)||((T=j[r.id])==null?void 0:T.deleteThirdInstallment)||r.ultimate_third_installment_deleted,className:`w-full p-4 border rounded-xl focus:ring-2 text-white text-lg font-medium ${Z(r,3)?"border-orange-500 bg-orange-500/20 focus:ring-orange-500 cursor-not-allowed text-orange-200":(Ke=j[r.id])!=null&&Ke.deleteThirdInstallment||r.ultimate_third_installment_deleted?"border-red-500 bg-red-500/20 focus:ring-red-500 cursor-not-allowed text-red-200":"border-gray-600 bg-gray-800 focus:ring-blue-500 focus:border-blue-500"}`,children:[e.jsx("option",{value:"cash",children:"ğŸ’° ÎœÎµÏ„ÏÎ·Ï„Î¬"}),e.jsx("option",{value:"pos",children:"ğŸ’³ POS"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center",children:[e.jsx(Me,{className:"h-4 w-4 mr-2"}),"ğŸ“… Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± Î Î»Î·ÏÏ‰Î¼Î®Ï‚"]}),e.jsx("input",{type:"date",value:((Oe=j[r.id])==null?void 0:Oe.installment3DueDate)||r.installment_3_due_date||"",onChange:O=>L(r.id,"installment3DueDate",O.target.value),disabled:Z(r,3)||((xt=j[r.id])==null?void 0:xt.deleteThirdInstallment)||r.ultimate_third_installment_deleted,className:`w-full p-3 border rounded-xl focus:ring-2 focus:border-blue-500 text-white ${Z(r,3)?"border-orange-500 bg-orange-500/20 focus:ring-orange-500 cursor-not-allowed text-orange-200":(gt=j[r.id])!=null&&gt.deleteThirdInstallment||r.ultimate_third_installment_deleted?"border-red-500 bg-red-500/20 focus:ring-red-500 cursor-not-allowed text-red-200":"border-gray-600 bg-gray-800 focus:ring-blue-500"}`})]}),e.jsx("div",{className:"flex items-center space-x-3 pt-2",children:e.jsxs("label",{className:`flex items-center space-x-2 ${(ht=j[r.id])!=null&&ht.deleteThirdInstallment||r.ultimate_third_installment_deleted?"cursor-not-allowed opacity-50":"cursor-pointer"}`,children:[e.jsx("input",{type:"checkbox",checked:Z(r,3),onChange:()=>k(r.id,3),disabled:((Ve=j[r.id])==null?void 0:Ve.deleteThirdInstallment)||r.ultimate_third_installment_deleted,className:"w-4 h-4 text-orange-600 bg-gray-800 border-gray-600 rounded focus:ring-orange-500 focus:ring-2"}),e.jsxs("span",{className:"text-sm text-gray-300 flex items-center space-x-1",children:[e.jsx(qe,{className:"h-3 w-3"}),e.jsx("span",{children:"ÎšÎ»ÎµÎ¯Î´Ï‰Î¼Î± Î”ÏŒÏƒÎ·Ï‚"})]})]})}),Z(r,3)&&e.jsxs("div",{className:"mt-3 p-3 bg-orange-500/20 border border-orange-500/50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(qe,{className:"h-4 w-4 text-orange-400"}),e.jsx("span",{className:"text-sm font-bold text-orange-300",children:"ÎšÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½ÎµÏ‚ Î¤Î¹Î¼Î­Ï‚"})]}),e.jsxs("div",{className:"space-y-1 text-xs text-orange-200",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"ğŸ’° Î Î¿ÏƒÏŒ:"})," ",Re(r.installment_3_amount||0)]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"ğŸ’³ Î¤ÏÏŒÏ€Î¿Ï‚ Î Î»Î·ÏÏ‰Î¼Î®Ï‚:"})," ",r.installment_3_payment_method==="cash"?"ğŸ’° ÎœÎµÏ„ÏÎ·Ï„Î¬":"ğŸ’³ POS"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"ğŸ“… Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±:"})," ",r.installment_3_due_date||"Î”ÎµÎ½ Î¿ÏÎ¯ÏƒÏ„Î·ÎºÎµ"]})]})]})]})]})]}),e.jsxs("div",{className:"mt-6 p-6 bg-gradient-to-r from-blue-500/30 to-blue-600/30 rounded-2xl border border-blue-500/50 shadow-xl",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-bold text-blue-300 text-lg",children:"ğŸ’° Î£ÏÎ½Î¿Î»Î¿ Î”ÏŒÏƒÎµÏ‰Î½:"}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-green-400 to-green-500 bg-clip-text text-transparent",children:Re(Number(((ut=j[r.id])==null?void 0:ut.installment1Amount)||r.installment_1_amount||0)+Number(((Rs=j[r.id])==null?void 0:Rs.installment2Amount)||r.installment_2_amount||0)+((zs=j[r.id])!=null&&zs.deleteThirdInstallment||r.ultimate_third_installment_deleted?0:Number(((ss=j[r.id])==null?void 0:ss.installment3Amount)||r.installment_3_amount||0)))})]}),e.jsxs("div",{className:"text-blue-200 mt-2 font-medium",children:["ğŸ“Š Î‘Ï€ÏŒ ",Re(r.requested_price)," (Î Î±ÎºÎ­Ï„Î¿ Ultimate)",(((bt=j[r.id])==null?void 0:bt.deleteThirdInstallment)||r.ultimate_third_installment_deleted)&&e.jsx("span",{className:"text-red-300 ml-2",children:"- 3Î· Î”ÏŒÏƒÎ· Î”Î¹Î±Î³ÏÎ±Î¼Î¼Î­Î½Î·"})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsxs("button",{onClick:()=>{var Ss,Ws,Ps,Bs,v,ke,b,F,Hs,As,Le;const O=parseFloat(((Ss=j[r.id])==null?void 0:Ss.installment1Amount)||r.installment_1_amount||"0"),Je=parseFloat(((Ws=j[r.id])==null?void 0:Ws.installment2Amount)||r.installment_2_amount||"0"),jt=(Ps=j[r.id])!=null&&Ps.deleteThirdInstallment||r.ultimate_third_installment_deleted?0:parseFloat(((Bs=j[r.id])==null?void 0:Bs.installment3Amount)||r.installment_3_amount||"0"),zt=((v=j[r.id])==null?void 0:v.installment1PaymentMethod)||r.installment_1_payment_method||"cash",Kt=((ke=j[r.id])==null?void 0:ke.installment2PaymentMethod)||r.installment_2_payment_method||"cash",or=((b=j[r.id])==null?void 0:b.installment3PaymentMethod)||r.installment_3_payment_method||"cash",ir=((F=j[r.id])==null?void 0:F.installment1DueDate)||r.installment_1_due_date,dr=((Hs=j[r.id])==null?void 0:Hs.installment2DueDate)||r.installment_2_due_date,cr=(As=j[r.id])!=null&&As.deleteThirdInstallment||r.ultimate_third_installment_deleted?void 0:((Le=j[r.id])==null?void 0:Le.installment3DueDate)||r.installment_3_due_date;_(r.id,O,Je,jt,zt,Kt,or,ir,dr,cr)},className:"px-8 py-4 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-2xl hover:from-blue-700 hover:to-blue-800 transition-all duration-200 flex items-center space-x-3 shadow-2xl hover:shadow-3xl transform hover:scale-110 font-bold text-lg",children:[e.jsx(us,{className:"h-5 w-5"}),e.jsx("span",{children:"ğŸ’¾ Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· Î”ÏŒÏƒÎµÏ‰Î½ & Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¹ÏÎ½"})]})})]}),e.jsxs("div",{className:"mt-8 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-2xl p-6 border border-purple-500/30 shadow-xl",children:[e.jsxs("h4",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"âš™ï¸"}),"Program Options"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx("button",{type:"button",onClick:()=>{var O;A(r.id)||L(r.id,"oldMembers",!((O=j[r.id])!=null&&O.oldMembers))},className:`w-full px-6 py-4 rounded-2xl font-bold transition-all duration-200 shadow-2xl transform hover:scale-105 text-lg ${A(r.id)?(ts=u(r.id))!=null&&ts.oldMembers?"bg-gradient-to-r from-green-600 to-green-700 text-white cursor-not-allowed border-2 border-yellow-400":"bg-gradient-to-r from-gray-600 to-gray-700 text-gray-300 cursor-not-allowed border-2 border-yellow-400":(pt=j[r.id])!=null&&pt.oldMembers?"bg-gradient-to-r from-green-600 to-green-700 text-white hover:from-green-700 hover:to-green-800 border-2 border-green-400":"bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:from-blue-700 hover:to-blue-800 border-2 border-blue-400"}`,disabled:A(r.id),children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("span",{children:"ğŸ‘´ Î Î±Î»Î±Î¹Î¬ Î¼Î­Î»Î·"}),(A(r.id)?(rs=u(r.id))==null?void 0:rs.oldMembers:(as=j[r.id])==null?void 0:as.oldMembers)&&e.jsx("span",{className:"text-green-200 text-xl",children:"âœ“"}),A(r.id)&&e.jsx("span",{className:"text-yellow-400",children:"ğŸ”’"})]})}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-700 to-gray-800 rounded-2xl p-5 border border-gray-600 shadow-lg",children:[e.jsxs("label",{className:"block text-lg font-bold text-white mb-4 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"ğŸ‹ï¸â€â™‚ï¸"}),"Kettlebell Points",A(r.id)&&e.jsx("span",{className:"text-yellow-400 ml-2",children:"ğŸ”’"})]}),e.jsx("input",{type:"number",value:A(r.id)?((js=u(r.id))==null?void 0:js.kettlebellPoints)||"":((Ae=j[r.id])==null?void 0:Ae.kettlebellPoints)||"",onChange:O=>{A(r.id)||L(r.id,"kettlebellPoints",O.target.value)},className:`w-full px-4 py-4 border rounded-xl focus:outline-none focus:ring-2 text-lg font-medium ${A(r.id)?"border-yellow-500 bg-yellow-500/20 focus:ring-yellow-500 cursor-not-allowed text-yellow-200 placeholder-yellow-300":"border-gray-600 bg-gray-800 focus:ring-purple-500 focus:border-purple-500 text-white placeholder-gray-400"}`,placeholder:"Î•Î¹ÏƒÎ¬Î³ÎµÏ„Îµ Î±ÏÎ¹Î¸Î¼ÏŒ...",disabled:A(r.id)})]}),e.jsx("button",{type:"button",onClick:()=>{var O;A(r.id)||L(r.id,"cash",!((O=j[r.id])!=null&&O.cash))},className:`w-full px-6 py-4 rounded-2xl font-bold transition-all duration-200 shadow-2xl transform hover:scale-105 text-lg ${A(r.id)?(ls=u(r.id))!=null&&ls.cash?"bg-gradient-to-r from-green-600 to-green-700 text-white cursor-not-allowed border-2 border-yellow-400":"bg-gradient-to-r from-gray-600 to-gray-700 text-gray-300 cursor-not-allowed border-2 border-yellow-400":(Qe=j[r.id])!=null&&Qe.cash?"bg-gradient-to-r from-green-600 to-green-700 text-white hover:from-green-700 hover:to-green-800 border-2 border-green-400":"bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:from-blue-700 hover:to-blue-800 border-2 border-blue-400"}`,disabled:A(r.id),children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("span",{children:"ğŸ’° ÎœÎµÏ„ÏÎ·Ï„Î¬"}),(A(r.id)?(Ks=u(r.id))==null?void 0:Ks.cash:(vs=j[r.id])==null?void 0:vs.cash)&&e.jsx("span",{className:"text-green-200 text-xl",children:"âœ“"}),A(r.id)&&e.jsx("span",{className:"text-yellow-400",children:"ğŸ”’"})]})}),e.jsx("button",{type:"button",onClick:()=>{var O;A(r.id)||L(r.id,"pos",!((O=j[r.id])!=null&&O.pos))},className:`w-full px-6 py-4 rounded-2xl font-bold transition-all duration-200 shadow-2xl transform hover:scale-105 text-lg ${A(r.id)?(Ie=u(r.id))!=null&&Ie.pos?"bg-gradient-to-r from-green-600 to-green-700 text-white cursor-not-allowed border-2 border-yellow-400":"bg-gradient-to-r from-gray-600 to-gray-700 text-gray-300 cursor-not-allowed border-2 border-yellow-400":(ws=j[r.id])!=null&&ws.pos?"bg-gradient-to-r from-green-600 to-green-700 text-white hover:from-green-700 hover:to-green-800 border-2 border-green-400":"bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:from-blue-700 hover:to-blue-800 border-2 border-blue-400"}`,disabled:A(r.id),children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("span",{children:"ğŸ’³ POS"}),(A(r.id)?(Vs=u(r.id))==null?void 0:Vs.pos:(ns=j[r.id])==null?void 0:ns.pos)&&e.jsx("span",{className:"text-green-200 text-xl",children:"âœ“"}),A(r.id)&&e.jsx("span",{className:"text-yellow-400",children:"ğŸ”’"})]})})]}),(((Ns=j[r.id])==null?void 0:Ns.cash)||((Ee=u(r.id))==null?void 0:Ee.cash))&&e.jsxs("div",{className:"mb-6 bg-gradient-to-r from-green-500/20 to-green-600/20 rounded-2xl p-5 border border-green-500/30",children:[e.jsxs("label",{className:"block text-lg font-bold text-white mb-4 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"ğŸ’°"}),"Î Î¿ÏƒÏŒ ÎœÎµÏ„ÏÎ·Ï„ÏÎ½ (â‚¬)",A(r.id)&&e.jsx("span",{className:"text-yellow-400 ml-2",children:"ğŸ”’"})]}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:A(r.id)?((Te=(os=u(r.id))==null?void 0:os.cashAmount)==null?void 0:Te.toString())||"":((ft=(is=j[r.id])==null?void 0:is.cashAmount)==null?void 0:ft.toString())||"",onChange:O=>{A(r.id)||L(r.id,"cashAmount",parseFloat(O.target.value)||0)},className:`w-full px-4 py-4 border rounded-xl focus:outline-none focus:ring-2 text-lg font-medium ${A(r.id)?"border-yellow-500 bg-yellow-500/20 focus:ring-yellow-500 cursor-not-allowed text-yellow-200 placeholder-yellow-300":"border-gray-600 bg-gray-800 focus:ring-green-500 focus:border-green-500 text-white placeholder-gray-400"}`,placeholder:"Î•Î¹ÏƒÎ¬Î³ÎµÏ„Îµ Ï€Î¿ÏƒÏŒ ÏƒÎµ â‚¬...",disabled:A(r.id)})]}),(((_s=j[r.id])==null?void 0:_s.pos)||((yt=u(r.id))==null?void 0:yt.pos))&&e.jsxs("div",{className:"mb-6 bg-gradient-to-r from-blue-500/20 to-blue-600/20 rounded-2xl p-5 border border-blue-500/30",children:[e.jsxs("label",{className:"block text-lg font-bold text-white mb-4 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"ğŸ’³"}),"Î Î¿ÏƒÏŒ POS (â‚¬)",A(r.id)&&e.jsx("span",{className:"text-yellow-400 ml-2",children:"ğŸ”’"})]}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:A(r.id)?((ye=(ks=u(r.id))==null?void 0:ks.posAmount)==null?void 0:ye.toString())||"":((cs=(ds=j[r.id])==null?void 0:ds.posAmount)==null?void 0:cs.toString())||"",onChange:O=>{A(r.id)||L(r.id,"posAmount",parseFloat(O.target.value)||0)},className:`w-full px-4 py-4 border rounded-xl focus:outline-none focus:ring-2 text-lg font-medium ${A(r.id)?"border-yellow-500 bg-yellow-500/20 focus:ring-yellow-500 cursor-not-allowed text-yellow-200 placeholder-yellow-300":"border-gray-600 bg-gray-800 focus:ring-blue-500 focus:border-blue-500 text-white placeholder-gray-400"}`,placeholder:"Î•Î¹ÏƒÎ¬Î³ÎµÏ„Îµ Ï€Î¿ÏƒÏŒ ÏƒÎµ â‚¬...",disabled:A(r.id)})]}),e.jsxs("div",{className:"mt-6 flex flex-wrap gap-4",children:[e.jsx("button",{onClick:()=>de(r.id,"approved"),className:`px-6 py-3 rounded-2xl text-lg font-bold transition-all duration-200 shadow-xl transform hover:scale-105 ${ae[r.id]==="approved"?"bg-gradient-to-r from-green-600 to-green-700 text-white border-2 border-green-400":"bg-gradient-to-r from-green-500/20 to-green-600/20 text-green-300 border-2 border-green-500/30 hover:from-green-500/30 hover:to-green-600/30"}`,children:"âœ… ÎˆÎ³ÎºÏÎ¹ÏƒÎ·"}),e.jsx("button",{onClick:()=>de(r.id,"rejected"),className:`px-6 py-3 rounded-2xl text-lg font-bold transition-all duration-200 shadow-xl transform hover:scale-105 ${ae[r.id]==="rejected"?"bg-gradient-to-r from-red-600 to-red-700 text-white border-2 border-red-400":"bg-gradient-to-r from-red-500/20 to-red-600/20 text-red-300 border-2 border-red-500/30 hover:from-red-500/30 hover:to-red-600/30"}`,children:"âŒ Î‘Ï€ÏŒÏÏÎ¹ÏˆÎ·"}),e.jsx("button",{onClick:()=>de(r.id,"pending"),className:`px-6 py-3 rounded-2xl text-lg font-bold transition-all duration-200 shadow-xl transform hover:scale-105 ${ae[r.id]==="pending"?"bg-gradient-to-r from-yellow-600 to-yellow-700 text-white border-2 border-yellow-400":"bg-gradient-to-r from-yellow-500/20 to-yellow-600/20 text-yellow-300 border-2 border-yellow-500/30 hover:from-yellow-500/30 hover:to-yellow-600/30"}`,children:"â³ Î‘Î½Î±Î¼Î¿Î½Î®"}),e.jsxs("button",{onClick:()=>I(r.id),disabled:me||ae[r.id]==="none",className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-2xl hover:from-purple-700 hover:to-purple-800 transition-all duration-200 text-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed flex items-center shadow-2xl hover:shadow-3xl transform hover:scale-105",children:[me?e.jsx(it,{className:"h-5 w-5 animate-spin mr-2"}):e.jsx(us,{className:"h-5 w-5 mr-2"}),"ğŸ’¾ Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· Program Options"]})]})]})]},r.id)})}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-8 max-w-md mx-4 border border-gray-600 shadow-2xl",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:e.jsx(qe,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"ğŸ”’ ÎšÎ»ÎµÎ¯Î´Ï‰Î¼Î± Î”ÏŒÏƒÎ·Ï‚"}),e.jsxs("p",{className:"text-gray-300 mb-6 text-lg",children:["Do you confirm locking installment ",l.installmentNumber,"?"]}),e.jsx("p",{className:"text-gray-400 mb-8 text-sm",children:"ÎœÏŒÎ»Î¹Ï‚ ÎºÎ»ÎµÎ¹Î´ÏÏƒÎµÏ„Îµ Î±Ï…Ï„Î® Ï„Î· Î´ÏŒÏƒÎ·, Î´ÎµÎ½ Î¸Î± Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Ï€Î»Î­Î¿Î½ Î½Î± ÎµÏ€ÎµÎ¾ÎµÏÎ³Î±ÏƒÏ„ÎµÎ¯Ï„Îµ Ï„Î¿ Ï€Î¿ÏƒÏŒ Î® Ï„Î·Î½ Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± Ï€Î»Î·ÏÏ‰Î¼Î®Ï‚."}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:pe,className:"flex-1 px-6 py-3 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-xl hover:from-gray-700 hover:to-gray-800 transition-all duration-200 font-medium shadow-lg hover:shadow-xl",children:"âŒ Cancel"}),e.jsxs("button",{onClick:be,className:"flex-1 px-6 py-3 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-xl hover:from-orange-700 hover:to-orange-800 transition-all duration-200 font-medium shadow-lg hover:shadow-xl flex items-center justify-center space-x-2",children:[e.jsx(rr,{className:"h-4 w-4"}),e.jsx("span",{children:"âœ… Yes, Lock"})]})]})]})})}),ne&&i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-8 max-w-md mx-4 border border-gray-600 shadow-2xl",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-red-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:e.jsx(Ye,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"ğŸ—‘ï¸ Î”Î¹Î±Î³ÏÎ±Ï†Î® 3Î·Ï‚ Î”ÏŒÏƒÎ·Ï‚"}),e.jsx("p",{className:"text-gray-300 mb-6 text-lg",children:"Do you confirm deleting the 3rd installment permanently?"}),e.jsx("p",{className:"text-gray-400 mb-8 text-sm",children:"ÎœÏŒÎ»Î¹Ï‚ Î´Î¹Î±Î³ÏÎ¬ÏˆÎµÏ„Îµ Ï„Î·Î½ 3Î· Î´ÏŒÏƒÎ·, Î´ÎµÎ½ Î¸Î± Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Ï€Î»Î­Î¿Î½ Î½Î± ÎµÏ€ÎµÎ¾ÎµÏÎ³Î±ÏƒÏ„ÎµÎ¯Ï„Îµ Ï„Î± ÏƒÏ„Î¿Î¹Ï‡ÎµÎ¯Î± Ï„Î·Ï‚ ÎºÎ±Î¹ Î¸Î± Î±Ï€Î¿ÎºÎ»ÎµÎ¹ÏƒÏ„ÎµÎ¯ Î±Ï€ÏŒ Ï„Î¿Î½ Ï…Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒ Ï„Î¿Ï… ÏƒÏ…Î½Î¿Î»Î¹ÎºÎ¿Ï Ï€Î¿ÏƒÎ¿Ï."}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:ct,className:"flex-1 px-6 py-3 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-xl hover:from-gray-700 hover:to-gray-800 transition-all duration-200 font-medium shadow-lg hover:shadow-xl",children:"âŒ Cancel"}),e.jsxs("button",{onClick:bs,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl hover:from-red-700 hover:to-red-800 transition-all duration-200 font-medium shadow-lg hover:shadow-xl flex items-center justify-center space-x-2",children:[e.jsx(Ye,{className:"h-4 w-4"}),e.jsx("span",{children:"âœ… Yes, Delete"})]})]})]})})})]})},jo=()=>{const[o,p]=c.useState(""),[w,P]=c.useState([]),[j,L]=c.useState([]),[_,K]=c.useState(null),[ee,re]=c.useState(!1),[U,me]=c.useState(!1),[ae,de]=c.useState(!1),[I,le]=c.useState(1),[B,M]=c.useState(1),[se,we]=c.useState(0),ue=10,ce=async(m=1)=>{try{re(!0);const[G,V]=await Promise.all([Wn(m,ue),Bn()]);L(G),we(V),M(Math.ceil(V/ue)),le(m)}catch(G){console.error("Error loading random users:",G),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Ï„Ï‰Î½ Ï‡ÏÎ·ÏƒÏ„ÏÎ½")}finally{re(!1)}};c.useEffect(()=>{ce(1)},[]);const g=async m=>{if(p(m),!m.trim()){P([]);return}try{me(!0);const G=await Hn(m);P(G)}catch(G){console.error("Error searching users:",G),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î·Î½ Î±Î½Î±Î¶Î®Ï„Î·ÏƒÎ·")}finally{me(!1)}},Ne=async m=>{try{de(!0);const G=await Yn(m);K(G)}catch(G){console.error("Error loading user details:",G),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Ï„Ï‰Î½ Î»ÎµÏ€Ï„Î¿Î¼ÎµÏÎµÎ¹ÏÎ½ Ï‡ÏÎ®ÏƒÏ„Î·")}finally{de(!1)}},l=()=>{I>1&&ce(I-1)},Pe=()=>{I<B&&ce(I+1)},ne=()=>{p(""),P([])},y=m=>new Date(m).toLocaleDateString("el-GR",{year:"numeric",month:"long",day:"numeric"}),i=m=>new Intl.NumberFormat("el-GR",{style:"currency",currency:"EUR"}).format(m),S=o?w:j;return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 rounded-xl p-4 sm:p-6 text-white mb-4 sm:mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg sm:text-2xl font-bold mb-2",children:"ğŸ‘¥ Î§ÏÎ®ÏƒÏ„ÎµÏ‚-Î Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚"}),e.jsx("p",{className:"text-purple-100 text-sm sm:text-base",children:"Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· ÎºÎ±Î¹ Î»ÎµÏ€Ï„Î¿Î¼Î­ÏÎµÎ¹ÎµÏ‚ Ï‡ÏÎ·ÏƒÏ„ÏÎ½"})]}),e.jsxs("button",{onClick:()=>ce(1),disabled:ee,className:"flex items-center space-x-2 px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-xl hover:bg-white/30 transition-all duration-200 font-semibold shadow-lg text-sm disabled:opacity-50",children:[e.jsx(Ts,{className:`h-4 w-4 ${ee?"animate-spin":""}`}),e.jsx("span",{children:"ğŸ”„ Î‘Î½Î±Î½Î­Ï‰ÏƒÎ·"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(He,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx("input",{type:"text",placeholder:"ğŸ” Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· Î¼Îµ ÏŒÎ½Î¿Î¼Î±, email Î® ID Ï‡ÏÎ®ÏƒÏ„Î·...",value:o,onChange:m=>g(m.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-900 placeholder-gray-500"})]})}),o&&e.jsx("button",{onClick:ne,className:"px-4 py-3 text-gray-400 hover:text-gray-600 transition-colors bg-gray-100 rounded-xl hover:bg-gray-200",children:e.jsx(We,{className:"h-5 w-5"})})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:o?`Î‘Ï€Î¿Ï„ÎµÎ»Î­ÏƒÎ¼Î±Ï„Î± Î±Î½Î±Î¶Î®Ï„Î·ÏƒÎ·Ï‚ (${w.length})`:`Î§ÏÎ®ÏƒÏ„ÎµÏ‚ (Î£ÎµÎ»Î¯Î´Î± ${I} Î±Ï€ÏŒ ${B})`})}),ee||U?e.jsx("div",{className:"p-8 text-center",children:e.jsxs("div",{className:"inline-flex items-center space-x-2 text-gray-500",children:[e.jsx(Ts,{className:"h-5 w-5 animate-spin"}),e.jsx("span",{children:"Î¦ÏŒÏÏ„Ï‰ÏƒÎ· Ï‡ÏÎ·ÏƒÏ„ÏÎ½..."})]})}):S.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(Gt,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎ±Î½ Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚"})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:S.map(m=>e.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>Ne(m.user_id),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:[m.first_name.charAt(0),m.last_name.charAt(0)]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900",children:[m.first_name," ",m.last_name]}),e.jsx("p",{className:"text-gray-600",children:m.email}),e.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",m.user_id]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm text-gray-500",children:["Î•Î³Î³ÏÎ±Ï†Î®: ",y(m.created_at)]}),e.jsx("button",{className:"mt-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm",children:"Î ÏÎ¿Î²Î¿Î»Î® Î›ÎµÏ€Ï„Î¿Î¼ÎµÏÎµÎ¹ÏÎ½"})]})]})},m.user_id))}),!o&&B>1&&e.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Î•Î¼Ï†Î¬Î½Î¹ÏƒÎ· ",(I-1)*ue+1,"-",Math.min(I*ue,se)," Î±Ï€ÏŒ ",se," Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:l,disabled:I===1,className:"flex items-center space-x-1 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:[e.jsx(co,{className:"h-4 w-4"}),e.jsx("span",{children:"Î ÏÎ¿Î·Î³Î¿ÏÎ¼ÎµÎ½Î·"})]}),e.jsxs("button",{onClick:Pe,disabled:I===B,className:"flex items-center space-x-1 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:[e.jsx("span",{children:"Î•Ï€ÏŒÎ¼ÎµÎ½Î·"}),e.jsx(mo,{className:"h-4 w-4"})]})]})]})})]}),_&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Î›ÎµÏ€Ï„Î¿Î¼Î­ÏÎµÎ¹ÎµÏ‚ Î§ÏÎ®ÏƒÏ„Î·"}),e.jsx("button",{onClick:()=>K(null),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:e.jsx(We,{className:"h-6 w-6"})})]})}),ae?e.jsx("div",{className:"p-8 text-center",children:e.jsxs("div",{className:"inline-flex items-center space-x-2 text-gray-500",children:[e.jsx(Ts,{className:"h-5 w-5 animate-spin"}),e.jsx("span",{children:"Î¦ÏŒÏÏ„Ï‰ÏƒÎ· Î»ÎµÏ€Ï„Î¿Î¼ÎµÏÎµÎ¹ÏÎ½..."})]})}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Be,{className:"h-5 w-5 mr-2"}),"Î’Î±ÏƒÎ¹ÎºÎ­Ï‚ Î Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"ÎŒÎ½Î¿Î¼Î±"}),e.jsxs("p",{className:"font-medium",children:[_.user_info.first_name," ",_.user_info.last_name]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),e.jsxs("p",{className:"font-medium flex items-center",children:[e.jsx(Pn,{className:"h-4 w-4 mr-1"}),_.user_info.email]})]}),_.user_info.phone&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Î¤Î·Î»Î­Ï†Ï‰Î½Î¿"}),e.jsxs("p",{className:"font-medium flex items-center",children:[e.jsx(An,{className:"h-4 w-4 mr-1"}),_.user_info.phone]})]}),_.user_info.date_of_birth&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± Î“Î­Î½Î½Î·ÏƒÎ·Ï‚"}),e.jsxs("p",{className:"font-medium flex items-center",children:[e.jsx(Me,{className:"h-4 w-4 mr-1"}),y(_.user_info.date_of_birth)]})]}),_.user_info.address&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Î”Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·"}),e.jsxs("p",{className:"font-medium flex items-center",children:[e.jsx(yl,{className:"h-4 w-4 mr-1"}),_.user_info.address]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Î•Î³Î³ÏÎ±Ï†Î®"}),e.jsxs("p",{className:"font-medium flex items-center",children:[e.jsx(dt,{className:"h-4 w-4 mr-1"}),y(_.user_info.created_at)]})]}),_.user_info.referral_code&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"ÎšÏ‰Î´Î¹ÎºÏŒÏ‚ Î Î±ÏÎ±Ï€Î¿Î¼Ï€Î®Ï‚"}),e.jsx("p",{className:"font-medium font-mono",children:_.user_info.referral_code})]})]})]}),e.jsxs("div",{className:"bg-green-50 rounded-xl p-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(fl,{className:"h-5 w-5 mr-2 text-green-600"}),"Î•Î½ÎµÏÎ³Î­Ï‚ Î£Ï…Î½Î´ÏÎ¿Î¼Î­Ï‚ (",_.active_memberships.length,")"]}),_.active_memberships.length===0?e.jsx("p",{className:"text-gray-600",children:"Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÎµÎ½ÎµÏÎ³Î­Ï‚ ÏƒÏ…Î½Î´ÏÎ¿Î¼Î­Ï‚"}):e.jsx("div",{className:"space-y-3",children:_.active_memberships.map(m=>e.jsx("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-gray-900",children:m.package_name}),e.jsx("p",{className:"text-sm text-gray-600",children:m.credits_remaining>0?`${m.credits_remaining} / ${m.credits_total} credits`:"Credits not available"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[y(m.start_date)," - ",y(m.end_date)]}),e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Î•Î½ÎµÏÎ³Î®"})]})]})},m.id))})]}),e.jsxs("div",{className:"bg-orange-50 rounded-xl p-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(dt,{className:"h-5 w-5 mr-2 text-orange-600"}),"Î•ÎºÎºÏÎµÎ¼Î® Î‘Î¹Ï„Î®Î¼Î±Ï„Î± Î£Ï…Î½Î´ÏÎ¿Î¼ÏÎ½ (",_.pending_requests.length,")"]}),_.pending_requests.length===0?e.jsx("p",{className:"text-gray-600",children:"Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÎµÎºÎºÏÎµÎ¼Î® Î±Î¹Ï„Î®Î¼Î±Ï„Î± ÏƒÏ…Î½Î´ÏÎ¿Î¼ÏÎ½"}):e.jsx("div",{className:"space-y-3",children:_.pending_requests.map(m=>e.jsx("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-gray-900",children:m.package_name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Î”Î¹Î¬ÏÎºÎµÎ¹Î±: ",m.duration_type," | Î¤Î¹Î¼Î®: â‚¬",m.requested_price,m.classes_count&&` | ÎœÎ±Î¸Î®Î¼Î±Ï„Î±: ${m.classes_count}`]}),m.has_installments&&e.jsx("div",{className:"mt-2 text-xs text-gray-500",children:e.jsxs("p",{children:["Î”ÏŒÏƒÎµÎ¹Ï‚: ",m.installment_1_amount&&`â‚¬${m.installment_1_amount}`,m.installment_2_amount&&`, â‚¬${m.installment_2_amount}`,m.installment_3_amount&&`, â‚¬${m.installment_3_amount}`]})})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:y(m.created_at)}),e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Î•ÎºÎºÏÎµÎ¼Î­Ï‚"})]})]})},m.id))})]}),e.jsxs("div",{className:"bg-blue-50 rounded-xl p-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Vn,{className:"h-5 w-5 mr-2 text-blue-600"}),"Î™ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ Î£Ï…Î½Î´ÏÎ¿Î¼ÏÎ½ (",_.all_memberships.length,")"]}),_.all_memberships.length===0?e.jsx("p",{className:"text-gray-600",children:"Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ Î¹ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ ÏƒÏ…Î½Î´ÏÎ¿Î¼ÏÎ½"}):e.jsx("div",{className:"space-y-3",children:_.all_memberships.map(m=>e.jsx("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-gray-900",children:m.package_name}),e.jsx("p",{className:"text-sm text-gray-600",children:m.credits_remaining>0?`${m.credits_remaining} / ${m.credits_total} credits`:"Credits not available"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[y(m.start_date)," - ",y(m.end_date)]}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${m.is_active?"bg-green-100 text-green-800":m.status==="expired"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:m.is_active?"Î•Î½ÎµÏÎ³Î®":m.status})]})]})},m.id))})]}),e.jsxs("div",{className:"bg-yellow-50 rounded-xl p-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(vl,{className:"h-5 w-5 mr-2 text-yellow-600"}),"Î™ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ Î Î»Î·ÏÏ‰Î¼ÏÎ½ (",_.payment_history.length,")"]}),e.jsx("div",{className:"mb-4 p-4 bg-white rounded-lg border border-yellow-200",children:e.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["Î£Ï…Î½Î¿Î»Î¹ÎºÏŒ Ï€Î¿ÏƒÏŒ: ",i(_.total_paid)]})}),_.payment_history.length===0?e.jsx("p",{className:"text-gray-600",children:"Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ Î¹ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ Ï€Î»Î·ÏÏ‰Î¼ÏÎ½"}):e.jsx("div",{className:"space-y-3",children:_.payment_history.map(m=>e.jsx("div",{className:"bg-white rounded-lg p-4 border border-yellow-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:[i(m.amount)," ",m.currency]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[m.payment_method&&`ÎœÎ­Î¸Î¿Î´Î¿Ï‚: ${m.payment_method}`,m.transaction_id&&` | ID: ${m.transaction_id}`,m.notes&&` | ${m.notes}`]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:y(m.created_at)}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${m.status==="approved"?"bg-green-100 text-green-800":m.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:m.status})]})]})},m.id))})]}),e.jsxs("div",{className:"bg-orange-50 rounded-xl p-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(ot,{className:"h-5 w-5 mr-2 text-orange-600"}),"Kettlebell Points"]}),e.jsx("div",{className:"mb-4 p-4 bg-white rounded-lg border border-orange-200",children:e.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[_.kettlebell_points.total_points," Points"]})}),_.kettlebell_points.points_history.length===0?e.jsx("p",{className:"text-gray-600",children:"Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ Î¹ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ points"}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("h5",{className:"font-semibold text-gray-900",children:"Î™ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ Points:"}),_.kettlebell_points.points_history.slice(0,10).map(m=>e.jsx("div",{className:"bg-white rounded-lg p-3 border border-orange-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:["+",m.points," points"]}),m.program_id&&e.jsxs("p",{className:"text-sm text-gray-600",children:["Program ID: ",m.program_id]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:y(m.created_at)})]})},m.id)),_.kettlebell_points.points_history.length>10&&e.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["... ÎºÎ±Î¹ ",_.kettlebell_points.points_history.length-10," Î±ÎºÏŒÎ¼Î±"]})]})]})]})]})})]})};class vo extends c.Component{constructor(){super(...arguments);Et(this,"state",{hasError:!1});Et(this,"handleRefresh",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0}),window.location.reload()});Et(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})})}static getDerivedStateFromError(w){return{hasError:!0,error:w}}componentDidCatch(w,P){console.error("ErrorBoundary caught an error:",w,P),this.setState({error:w,errorInfo:P}),console.error("Production error:",{error:w,errorInfo:P})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(nr,{className:"h-8 w-8 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"ÎšÎ¬Ï„Î¹ Ï€Î®Î³Îµ ÏƒÏ„ÏÎ±Î²Î¬"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Î Î±ÏÎ¿Ï…ÏƒÎ¹Î¬ÏƒÏ„Î·ÎºÎµ Î­Î½Î± Î±Ï€ÏÎ¿ÏƒÎ´ÏŒÎºÎ·Ï„Î¿ ÏƒÏ†Î¬Î»Î¼Î± ÏƒÏ„Î·Î½ ÎµÏ†Î±ÏÎ¼Î¿Î³Î®. Î Î±ÏÎ±ÎºÎ±Î»Ï Î´Î¿ÎºÎ¹Î¼Î¬ÏƒÏ„Îµ Î½Î± Î±Î½Î±Î½ÎµÏÏƒÎµÏ„Îµ Ï„Î· ÏƒÎµÎ»Î¯Î´Î±."}),!1,e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:this.handleReset,className:"flex-1 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium",children:"Î”Î¿ÎºÎ¹Î¼Î® ÎÎ±Î½Î¬"}),e.jsxs("button",{onClick:this.handleRefresh,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center justify-center space-x-2",children:[e.jsx(Ts,{className:"h-4 w-4"}),e.jsx("span",{children:"Î‘Î½Î±Î½Î­Ï‰ÏƒÎ· Î£ÎµÎ»Î¯Î´Î±Ï‚"})]})]})]})}):this.props.children}}const bl=["Mike","Jordan"],wo=100,pl=async o=>{if(!o||o==="undefined"||o==="00000000-0000-0000-0000-000000000001")try{const{data:p,error:w}=await D.from("user_profiles").select("id").eq("role","admin").limit(1).single();return w||!p?(console.error("No admin user found:",w),null):p.id}catch(p){return console.error("Error getting admin user:",p),null}return o},Lo=()=>{var Sr,Pr,Ar,Cr,$r,Dr,Mr,Ur,Ir,Er,Tr,Lr,Fr,Gr,Or,Rr,zr,Kr,Vr,Wr,Br,Hr,Yr,Qr,Jr,Xr,Zr,qr,ea,sa,ta,ra,aa;const{user:o}=jl(),[p,w]=c.useState("personal-training"),[P,j]=c.useState([]),[L,_]=c.useState([]),[K,ee]=c.useState(1),[re]=c.useState(10),[U,me]=c.useState({"personal-training":!1,"membership-packages":!1,"ultimate-subscriptions":!1,"pilates-schedule":!1,"kettlebell-points":!1,"cash-register":!1,"users-information":!1}),ae=c.useMemo(()=>{const s=(K-1)*re,t=s+re;return P.slice(s,t)},[P,K,re]);Math.ceil(P.length/re);const[de]=c.useState(null),[I,le]=c.useState(null),[B,M]=c.useState(!1),[se,we]=c.useState(!1),[ue,ce]=c.useState(!1),[g,Ne]=c.useState({code:"",selectedUserId:""}),[l,Pe]=c.useState("individual"),[ne,y]=c.useState("personal"),[i,S]=c.useState([]),[m,G]=c.useState(null),[V,q]=c.useState(null),[A,u]=c.useState(0),[k,be]=c.useState(1),[pe,Ce]=c.useState(2),[bs,ct]=c.useState(!1),[Z,r]=c.useState(null),[Q,X]=c.useState(null),[fe,$e]=c.useState({}),[Ue,_e]=c.useState(""),[ve,ze]=c.useState("dropdown"),[ps]=c.useState(""),[fs]=c.useState("all"),[Ls]=c.useState(!0),[ys,Fs]=c.useState(new Set),[mt,Gs]=c.useState(new Set),[Os,es]=c.useState(""),[T,Ke]=c.useState({}),[Oe,xt]=c.useState([]),[gt,ht]=c.useState(0),[Ve,ut]=c.useState(""),[Rs,zs]=c.useState([]),[ss,bt]=c.useState(""),[ts,pt]=c.useState(""),[rs,as]=c.useState(1),js=10,[Ae,ls]=c.useState(""),[Qe,Ks]=c.useState(""),[vs,Ie]=c.useState(null),[ws,Vs]=c.useState("dropdown"),[ns,Ns]=c.useState(""),[Ee,os]=c.useState(""),[Te,is]=c.useState(""),[ft,_s]=c.useState(!1),[yt,ks]=c.useState(!1),[ye,ds]=c.useState("none"),[cs,O]=c.useState([]),[Je,jt]=c.useState(!1),[zt,Kt]=c.useState(""),[or,ir]=c.useState(!1),[dr,cr]=c.useState(1),[Ss,Ws]=c.useState(new Set),[Ps,Bs]=c.useState({}),v=s=>Ss.has(s),ke=s=>Ps[s]||null,b=s=>_t.has(s),F=s=>kt[s]||null;c.useEffect(()=>{u(V?V*4:0)},[V]),c.useEffect(()=>{l==="individual"&&(G(null),q(null),u(0)),l==="combination"&&y("personal")},[l]),c.useEffect(()=>{(l==="group"&&i.length>0||l==="combination"&&g.selectedUserId)&&(m||(console.log("[AdminPanel] Auto-setting default group room to 3 for",l),G("3")))},[l,i.length,g.selectedUserId]),c.useEffect(()=>{var s,t;if((l==="individual"||l==="combination")&&g.selectedUserId){const a=ke(g.selectedUserId);a&&(es(a.kettlebellPoints||""),os(((s=a.cashAmount)==null?void 0:s.toString())||""),is(((t=a.posAmount)==null?void 0:t.toString())||""))}},[g.selectedUserId,l]);const[Hs,As]=c.useState([{id:"tmp-1",date:`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}-${String(new Date().getDate()).padStart(2,"0")}`,startTime:"18:00",type:"personal",trainer:"Mike",room:"Î‘Î¯Î¸Î¿Ï…ÏƒÎ± Mike",group:"2Î‘Ï„Î¿Î¼Î±Group",notes:""}]),[Le,Vt]=c.useState("new"),[vt,Cs]=c.useState([]),[mr,xr]=c.useState(!1);c.useEffect(()=>{(l==="individual"||l==="combination")&&g.selectedUserId&&Le==="existing"&&jr(g.selectedUserId)},[g.selectedUserId,Le,l]);const[wl,Nl]=c.useState([]),[_l,Wt]=c.useState([]),[Fe,kl]=c.useState(null),[Xe,wt]=c.useState(null),[Bt,Ys]=c.useState(""),[Nt,Sl]=c.useState([]),[Ze,$s]=c.useState(1),[Ds,Pl]=c.useState(""),Qs=6,[$,gr]=c.useState({}),[Al,Cl]=c.useState({}),[Ms,hr]=c.useState({}),[_t,ur]=c.useState(new Set),[kt,br]=c.useState({}),[$l,Ht]=c.useState(!1),[St,Yt]=c.useState(null),[Dl,Qt]=c.useState(!1),[Js,Jt]=c.useState(null),[Ml,pr]=c.useState([]),Ul=[{id:"personal-training",name:"Personal Training Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î±",icon:Me},{id:"membership-packages",name:"Î Î±ÎºÎ­Ï„Î± Î£Ï…Î½Î´ÏÎ¿Î¼ÏÎ½",icon:tr},{id:"ultimate-subscriptions",name:"ğŸ‘‘ Ultimate Î£Ï…Î½Î´ÏÎ¿Î¼Î­Ï‚",icon:Be},{id:"pilates-schedule",name:"Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Pilates",icon:dt},{id:"kettlebell-points",name:"Kettlebell Points",icon:ot},{id:"cash-register",name:"Î¤Î±Î¼ÎµÎ¯Î¿",icon:lr},{id:"users-information",name:"Î§ÏÎ®ÏƒÏ„ÎµÏ‚-Î Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚",icon:Gt}],Il=["ÎšÏ…ÏÎ¹Î±ÎºÎ®","Î”ÎµÏ…Ï„Î­ÏÎ±","Î¤ÏÎ¯Ï„Î·","Î¤ÎµÏ„Î¬ÏÏ„Î·","Î Î­Î¼Ï€Ï„Î·","Î Î±ÏÎ±ÏƒÎºÎµÏ…Î®","Î£Î¬Î²Î²Î±Ï„Î¿"],El=s=>{const t=["user1@freegym.gr","user2@freegym.gr"],a=["PERSONAL2024","KICKBOX2024"],n=!!s.email&&t.includes(s.email),d=!!s.personalTrainingCode&&a.includes(s.personalTrainingCode);return n||d},fr=P.filter(s=>{if(!Ue)return!0;const t=Ue.toLowerCase();return s.firstName.toLowerCase().includes(t)||s.lastName.toLowerCase().includes(t)||s.email.toLowerCase().includes(t)||`${s.firstName} ${s.lastName}`.toLowerCase().includes(t)}),yr=P.filter(s=>{if(!ns)return!0;const t=ns.toLowerCase();return s.firstName.toLowerCase().includes(t)||s.lastName.toLowerCase().includes(t)||s.email.toLowerCase().includes(t)||`${s.firstName} ${s.lastName}`.toLowerCase().includes(t)});L.filter(s=>{const t=!ps||(()=>{const n=ps.toLowerCase();return s.user.firstName.toLowerCase().includes(n)||s.user.lastName.toLowerCase().includes(n)||s.user.email.toLowerCase().includes(n)||`${s.user.firstName} ${s.user.lastName}`.toLowerCase().includes(n)})(),a=fs==="all"||s.status===fs;return t&&a}),c.useEffect(()=>{ee(1)},[ps,fs]);const Tl=["06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00"],Ll=async()=>{try{console.log("[AdminPanel] Checking admin role in database...");const{data:s,error:t}=await D.from("user_profiles").select("user_id, role, first_name, last_name, email").eq("user_id",o==null?void 0:o.id).single();return t?(console.error("[AdminPanel] Error checking admin profile:",t),!1):(console.log("[AdminPanel] Admin profile in database:",s),console.log("[AdminPanel] Admin role in database:",s==null?void 0:s.role),(s==null?void 0:s.role)==="admin")}catch(s){return console.error("[AdminPanel] Exception checking admin role:",s),!1}},Fl=async()=>{try{console.log("[AdminPanel] Testing if we can create data...");const s={user_id:o==null?void 0:o.id,month:1,year:2e3,schedule_data:{sessions:[]},status:"pending",created_by:o==null?void 0:o.id},{data:t,error:a}=await D.from("personal_training_schedules").insert(s).select();return a?(console.log("[AdminPanel] Cannot create data - RLS blocking:",a.message),!1):t&&t.length>0?(await D.from("personal_training_schedules").delete().eq("id",t[0].id),console.log("[AdminPanel] Can create data - RLS working correctly"),!0):!1}catch(s){return console.error("[AdminPanel] Exception testing data creation:",s),!1}},Gl=async(s,t)=>{if(!t){console.log("[AdminPanel] No admin ID available for test data creation");return}try{console.log("[AdminPanel] Creating test schedule for user:",s.email);const a={user_id:s.id,month:new Date().getMonth()+1,year:new Date().getFullYear(),schedule_data:{sessions:[{id:"test-1",date:`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}-${String(new Date().getDate()).padStart(2,"0")}`,startTime:"18:00",endTime:"19:00",type:"personal",trainer:"Mike",room:"Î‘Î¯Î¸Î¿Ï…ÏƒÎ± Mike",notes:"Test session created by admin"}],notes:"Test program created by admin",specialInstructions:"This is test data"},status:"pending",created_by:t},{data:n,error:d}=await D.from("personal_training_schedules").insert(a).select();d?console.error("[AdminPanel] Error creating test schedule:",d):(console.log("[AdminPanel] Test schedule created successfully:",n),setTimeout(()=>{Xt()},1e3))}catch(a){console.error("[AdminPanel] Exception creating test schedule:",a)}},Xt=c.useCallback(async()=>{console.log("[AdminPanel] ===== DATA LOADING STARTED ====="),console.log("[AdminPanel] Current user:",o==null?void 0:o.email,"Role:",o==null?void 0:o.role);try{M(!0),console.log("[AdminPanel] Querying user_profiles table...");const{data:s,error:t}=await D.from("user_profiles").select("*").order("created_at",{ascending:!1});if(console.log("[AdminPanel] User profiles query result - rows:",s==null?void 0:s.length,"error:",t),t)throw console.error("[AdminPanel] User profiles error:",t),t;console.log("[AdminPanel] Querying personal_training_schedules table..."),console.log("[AdminPanel] Current auth user ID:",o==null?void 0:o.id),console.log("[AdminPanel] Current auth user role:",o==null?void 0:o.role),console.log("[AdminPanel] Attempting to query personal_training_schedules...");let a=[],n=null;const{data:d,error:h}=await D.from("personal_training_schedules").select("id,user_id,month,year,schedule_data,status,created_by,created_at,updated_at,trainer_name,accepted_at,declined_at").order("created_at",{ascending:!1});if(h){console.log("[AdminPanel] Direct query failed:",h);const{data:f,error:J}=await D.from("personal_training_schedules").select("id, user_id, status").limit(10);if(J){console.log("[AdminPanel] Limited query also failed:",J);const{count:oe,error:R}=await D.from("personal_training_schedules").select("*",{count:"exact",head:!0});console.log("[AdminPanel] Count query result:",oe,"error:",R)}else console.log("[AdminPanel] Limited query succeeded:",f),a=f||[]}else console.log("[AdminPanel] Direct query succeeded:",d),a=d||[];if(n=h,console.log("[AdminPanel] Schedules query result - rows:",a==null?void 0:a.length,"error:",n),(a==null?void 0:a.length)===0&&!n){console.log("[AdminPanel] Query succeeded but returned 0 rows - checking RLS policies...");const f=await Ll();console.log("[AdminPanel] Is admin in database:",f);const{count:J,error:oe}=await D.from("personal_training_schedules").select("*",{count:"exact",head:!0});console.log("[AdminPanel] Total rows in table (bypassing RLS):",J,"error:",oe),J&&J>0&&(console.warn("[AdminPanel] RLS is blocking access to existing data! Table has",J,"rows but query returns 0."),console.warn("[AdminPanel] Admin role might not be properly configured in RLS policies."),console.warn("[AdminPanel] Please run the SQL script: database/fix_admin_rls_policies.sql"))}if(n){console.error("[AdminPanel] Schedules query failed with error:",n),console.log("[AdminPanel] Error code:",n.code),console.log("[AdminPanel] Error message:",n.message),console.log("[AdminPanel] Error details:",n.details),console.log("[AdminPanel] Error hint:",n.hint),console.log("[AdminPanel] Attempting to check table existence...");const{data:f,error:J}=await D.from("personal_training_schedules").select("count").limit(1);console.log("[AdminPanel] Table check result:",f,"error:",J)}if(n&&(console.error("[AdminPanel] Schedules error:",n),console.log("[AdminPanel] RLS might be blocking access. Checking if we can insert test data..."),console.log("[AdminPanel] Continuing with empty schedules due to RLS restrictions")),!s||s.length===0){console.log("[AdminPanel] No users found in database - setting empty states"),j([]),_([]);return}console.log("[AdminPanel] Transforming user profiles...");const N=s.map(f=>({id:f.user_id,email:f.email||`user-${f.user_id.slice(0,8)}@example.com`,firstName:f.first_name||"",lastName:f.last_name||"",profile_photo:f.profile_photo||"",profile_photo_locked:f.profile_photo_locked||!1,dob:f.dob||"",address:f.address||"",emergency_contact:f.emergency_contact||"",dob_locked:f.dob_locked||!1,hasPersonalTrainingCode:!1,personalTrainingCode:void 0,packageType:void 0}));console.log("[AdminPanel] Transformed users count:",N.length),j(N),me(f=>({...f,"personal-training":!0})),console.log("[AdminPanel] Creating program statuses from schedules..."),console.log("[AdminPanel] Schedules data:",a);const E=(a||[]).map(f=>{console.log("[AdminPanel] Processing schedule:",f.id,"for user:",f.user_id);const J=N.find(R=>R.id===f.user_id);if(!J)return console.warn(`[AdminPanel] User not found for schedule ${f.id}, user_id: ${f.user_id}`),null;const oe={user:J,schedule:{id:f.id,userId:f.user_id,month:f.month,year:f.year,status:f.status,scheduleData:f.schedule_data,createdBy:f.created_by,createdAt:f.created_at,updatedAt:f.updated_at,acceptedAt:f.accepted_at,declinedAt:f.declined_at},status:f.status};return console.log("[AdminPanel] Created program status:",oe),oe}).filter(f=>f!==null);console.log("[AdminPanel] Final program statuses count:",E.length),E.length===0&&N.length>0&&(console.log("[AdminPanel] No schedules found. Creating test data to verify system..."),await Fl()?await Gl(N[0],o==null?void 0:o.id):(console.warn("[AdminPanel] Cannot create test data due to RLS restrictions."),console.warn("[AdminPanel] Please fix RLS policies by running: database/fix_admin_rls_policies.sql"))),_(E),console.log("[AdminPanel] Checking personal training codes...");const{data:H,error:C}=await D.from("personal_training_codes").select("*").limit(5);console.log("[AdminPanel] Personal training codes check - rows:",H==null?void 0:H.length,"error:",C),await Ol(N),me(f=>({...f,"personal-training":!0})),console.log("[AdminPanel] ===== DATA LOADING COMPLETED SUCCESSFULLY =====")}catch(s){console.error("[AdminPanel] ===== DATA LOADING FAILED ====="),console.error("[AdminPanel] Error details:",s);const t=s instanceof Error?s.message:"Unknown error";x.error(`Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Ï„Ï‰Î½ Ï‡ÏÎ·ÏƒÏ„ÏÎ½: ${t}`),j([]),_([])}finally{M(!1)}},[o==null?void 0:o.email,o==null?void 0:o.role]),Ol=async s=>{try{const{data:t,error:a}=await D.from("personal_training_codes").select("user_id, code, package_type, sessions_remaining").eq("is_active",!0);if(a){console.error("Error fetching personal training codes:",a),j(s);return}const n=s.map(d=>{const h=t==null?void 0:t.find(N=>N.user_id===d.id);return h?{...d,hasPersonalTrainingCode:!0,personalTrainingCode:h.code,packageType:h.package_type}:d});j(n)}catch(t){console.error("Error checking personal training codes:",t)}},[Rl,Us]=c.useState({});c.useEffect(()=>{if(console.log("[AdminPanel] useEffect triggered - user:",o==null?void 0:o.email,"role:",o==null?void 0:o.role,"activeTab:",p),!o){console.log("[AdminPanel] No user logged in");return}if(o.role!=="admin"){console.warn("[AdminPanel] User is not admin! Role:",o.role,"Email:",o.email);return}if(Rl[p]){console.log(`[AdminPanel] ${p} is already loading, skipping...`);return}p==="personal-training"&&!U["personal-training"]?(console.log("[AdminPanel] Loading data for personal-training tab"),Us(s=>({...s,[p]:!0})),Xt().finally(()=>Us(s=>({...s,[p]:!1})))):p==="membership-packages"&&!U["membership-packages"]?(console.log("[AdminPanel] Loading membership packages"),Us(s=>({...s,[p]:!0})),vr().finally(()=>Us(s=>({...s,[p]:!1})))):p==="kettlebell-points"&&!U["kettlebell-points"]?(console.log("[AdminPanel] Loading kettlebell points"),Us(s=>({...s,[p]:!0})),At().finally(()=>Us(s=>({...s,[p]:!1})))):console.log(`[AdminPanel] ${p} data already loaded, skipping reload`)},[o==null?void 0:o.id,p]);const zl=()=>{if(!I)return;const s={id:Date.now().toString(),date:`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}-${String(new Date().getDate()).padStart(2,"0")}`,startTime:"09:00",type:"personal",trainer:"Mike",room:"Î‘Î¯Î¸Î¿Ï…ÏƒÎ± Mike",notes:""},t={...I,scheduleData:{...I.scheduleData,sessions:[...I.scheduleData.sessions,s]}};le(t)},Xs=(s,t,a)=>{if(!I)return;const n=I.scheduleData.sessions.map(h=>h.id===s?{...h,[t]:a}:h),d={...I,scheduleData:{...I.scheduleData,sessions:n}};le(d)},Kl=s=>{if(!I)return;const t=I.scheduleData.sessions.filter(n=>n.id!==s),a={...I,scheduleData:{...I.scheduleData,sessions:t}};le(a)},Vl=async()=>{if(!(!I||!de))try{M(!0),x.success(`Î¤Î¿ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î³Î¹Î± Ï„Î¿Î½ ${de.firstName} ${de.lastName} Î±Ï€Î¿Î¸Î·ÎºÎµÏÏ„Î·ÎºÎµ!`),we(!1)}catch{x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î·Î½ Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· Ï„Î¿Ï… Ï€ÏÎ¿Î³ÏÎ¬Î¼Î¼Î±Ï„Î¿Ï‚")}finally{M(!1)}},Wl=async()=>{if(ye==="none"||!o){x.error("Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ Î¼Î¹Î± ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· Î­Î³ÎºÏÎ¹ÏƒÎ·Ï‚");return}try{M(!0);const s=l==="individual"||l==="combination"?[g.selectedUserId]:i;if(s.length===0){x.error("Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½Î¿Î¹ Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚");return}if(l==="group"){if(!m||!V){x.error("Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ ÎŸÎ¼Î±Î´Î¹ÎºÎ® Î‘Î¯Î¸Î¿Ï…ÏƒÎ± ÎºÎ±Î¹ ÏƒÏ…Ï‡Î½ÏŒÏ„Î·Ï„Î± ÎµÎ²Î´Î¿Î¼Î¬Î´Î±Ï‚");return}if(i.length===0){x.error("Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ Ï„Î¿Ï…Î»Î¬Ï‡Î¹ÏƒÏ„Î¿Î½ Î­Î½Î±Î½ Ï‡ÏÎ®ÏƒÏ„Î· Î³Î¹Î± Ï„Î¿ Î¿Î¼Î±Î´Î¹ÎºÏŒ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î±");return}}if(l==="combination"&&pe>0&&(!m||!V)){x.error("Î“Î¹Î± ÏƒÏ…Î½Î´Ï…Î±ÏƒÎ¼Î­Î½Î¿ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î¼Îµ Î¿Î¼Î±Î´Î¹ÎºÎ­Ï‚ ÏƒÎµÏƒÎ¯ÎµÏ‚, Ï€Î±ÏÎ±ÎºÎ±Î»Ï ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ ÎŸÎ¼Î±Î´Î¹ÎºÎ® Î‘Î¯Î¸Î¿Ï…ÏƒÎ± ÎºÎ±Î¹ ÏƒÏ…Ï‡Î½ÏŒÏ„Î·Ï„Î± ÎµÎ²Î´Î¿Î¼Î¬Î´Î±Ï‚");return}for(const n of s){const d=v(n),h=d?ke(n):T[n];if(!h)continue;await gl(n,ye||"pending",{oldMembersUsed:h.oldMembers||!1,kettlebellPoints:h.kettlebellPoints?parseInt(h.kettlebellPoints):0,cashAmount:h.cashAmount||0,posAmount:h.posAmount||0,createdBy:o.id,groupRoomSize:l==="group"||l==="combination"?parseInt(m):null,weeklyFrequency:l==="group"||l==="combination"?V:null,monthlyTotal:l==="group"||l==="combination"?A:null,notes:`Program options saved with ${ye} status${d?" (from frozen state)":""}${l==="group"||l==="combination"?` - ÎŸÎ¼Î±Î´Î¹ÎºÎ® Î‘Î¯Î¸Î¿Ï…ÏƒÎ±: ${m} Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚, ${V} Ï†Î¿ÏÎ­Ï‚/ÎµÎ²Î´Î¿Î¼Î¬Î´Î±`:""}`})?console.log(`Program approval state saved for user ${n}: ${ye}${d?" (from frozen state)":""}`):console.warn(`Failed to save program approval state for user ${n}`)}if(ye==="approved")await Bl(s);else if(ye==="rejected")console.log("Program options rejected - no actions executed"),x("Program Options Î±Ï€Î¿ÏÏÎ¯Ï†Î¸Î·ÎºÎ±Î½ - Î´ÎµÎ½ ÎµÎºÏ„ÎµÎ»Î­ÏƒÏ„Î·ÎºÎ±Î½ ÎµÎ½Î­ÏÎ³ÎµÎ¹ÎµÏ‚",{icon:"â„¹ï¸"});else if(ye==="pending"){console.log("Program options pending - saving locally and freezing UI");const n={...Ps},d=new Set(Ss);for(const h of s){const N=T[h];N&&(n[h]={oldMembers:N.oldMembers,first150Members:N.first150Members,kettlebellPoints:N.kettlebellPoints,cash:N.cash,pos:N.pos,cashAmount:N.cashAmount,posAmount:N.posAmount,groupRoomSize:l==="group"||l==="combination"?parseInt(m):null,weeklyFrequency:l==="group"||l==="combination"?V:null,monthlyTotal:l==="group"||l==="combination"?A:null},d.add(h))}Bs(n),Ws(d),x("Program Options Ï„Î¿Ï€Î¿Î¸ÎµÏ„Î®Î¸Î·ÎºÎ±Î½ ÏƒÏ„Î·Î½ Î±Î½Î±Î¼Î¿Î½Î® - Î¿Î¹ ÎµÏ€Î¹Î»Î¿Î³Î­Ï‚ Ï€Î±Î³ÏÎ¸Î·ÎºÎ±Î½",{icon:"â³"})}if(ds("none"),ye==="approved"||ye==="rejected"){const n=new Set(Ss),d={...Ps};for(const h of s)v(h)&&(n.delete(h),delete d[h]);Ws(n),Bs(d)}const t=s.some(n=>v(n)),a={approved:t?"ÎµÎ³ÎºÏÎ¯Î¸Î·ÎºÎµ ÎºÎ±Î¹ ÎµÎºÏ„ÎµÎ»Î­ÏƒÏ„Î·ÎºÎ±Î½ Î¿Î¹ ÎµÎ½Î­ÏÎ³ÎµÎ¹ÎµÏ‚ (Î±Ï€ÏŒ frozen state)":"ÎµÎ³ÎºÏÎ¯Î¸Î·ÎºÎµ ÎºÎ±Î¹ ÎµÎºÏ„ÎµÎ»Î­ÏƒÏ„Î·ÎºÎ±Î½ Î¿Î¹ ÎµÎ½Î­ÏÎ³ÎµÎ¹ÎµÏ‚",rejected:t?"Î±Ï€Î¿ÏÏÎ¯Ï†Î¸Î·ÎºÎµ (Î±Ï€ÏŒ frozen state)":"Î±Ï€Î¿ÏÏÎ¯Ï†Î¸Î·ÎºÎµ",pending:"Ï„Î¿Ï€Î¿Î¸ÎµÏ„Î®Î¸Î·ÎºÎµ ÏƒÏ„Î·Î½ Î±Î½Î±Î¼Î¿Î½Î®"};x.success(`Program Options ${a[ye]} ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚!`)}catch(s){console.error("Error saving program options:",s),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î·Î½ Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· Ï„Ï‰Î½ Program Options")}finally{M(!1)}},Bl=async s=>{console.log("Executing approved program actions for users:",s);try{for(const t of s){const a=v(t),n=a?ke(t):T[t];if(!n)continue;n.oldMembers&&(await Lt(t,(o==null?void 0:o.id)||"")?(console.log(`[APPROVED] Old Members marked as used for user: ${t}${a?" (from frozen state)":""}`),Fs(H=>new Set([...H,t])),Gs(H=>new Set([...H,t])),Ke(H=>({...H,[t]:{...H[t],oldMembers:!1,first150Members:!1,cash:!1,pos:!1,cashAmount:void 0,posAmount:void 0}}))):console.warn(`[APPROVED] Failed to mark Old Members as used for user: ${t}${a?" (from frozen state)":""}`));const d=n.kettlebellPoints&&n.kettlebellPoints.trim()!==""&&parseInt(n.kettlebellPoints)||0;d>0?await Tt(t,d,void 0,(o==null?void 0:o.id)||"")?console.log(`[APPROVED] Kettlebell Points saved for user: ${t}, Points: ${d}${a?" (from frozen state)":""}`):console.warn(`[APPROVED] Failed to save Kettlebell Points for user: ${t}${a?" (from frozen state)":""}`):console.log(`[APPROVED] Kettlebell Points set to 0 for user: ${t}${a?" (from frozen state)":""}`);const h=n.cashAmount&&n.cashAmount>0?n.cashAmount:0;h>0?await Ft(t,h,"cash",void 0,(o==null?void 0:o.id)||"","Cash transaction from approved program creation")?console.log(`[APPROVED] Cash transaction saved for user: ${t}, Amount: â‚¬${h}${a?" (from frozen state)":""}`):console.warn(`[APPROVED] Failed to save Cash transaction for user: ${t}${a?" (from frozen state)":""}`):console.log(`[APPROVED] Cash amount set to 0 for user: ${t}${a?" (from frozen state)":""}`);const N=n.posAmount&&n.posAmount>0?n.posAmount:0;N>0?await Ft(t,N,"pos",void 0,(o==null?void 0:o.id)||"","POS transaction from approved program creation")?console.log(`[APPROVED] POS transaction saved for user: ${t}, Amount: â‚¬${N}${a?" (from frozen state)":""}`):console.warn(`[APPROVED] Failed to save POS transaction for user: ${t}${a?" (from frozen state)":""}`):console.log(`[APPROVED] POS amount set to 0 for user: ${t}${a?" (from frozen state)":""}`)}x.success("ÎˆÎ³Î¹Î½Î±Î½ ÏŒÎ»ÎµÏ‚ Î¿Î¹ Î±Ï€Î±ÏÎ±Î¯Ï„Î·Ï„ÎµÏ‚ ÎµÎ½Î­ÏÎ³ÎµÎ¹ÎµÏ‚ Î³Î¹Î± Ï„Î± ÎµÎ³ÎºÎµÎºÏÎ¹Î¼Î­Î½Î± Ï€ÏÎ¿Î³ÏÎ¬Î¼Î¼Î±Ï„Î±!")}catch(t){console.error("Error executing approved program actions:",t),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î·Î½ ÎµÎºÏ„Î­Î»ÎµÏƒÎ· Ï„Ï‰Î½ ÎµÎ½ÎµÏÎ³ÎµÎ¹ÏÎ½")}},ge=()=>Le==="existing"?vt:Hs,Ge=s=>{Le==="existing"?Cs(s):As(s)},jr=async s=>{var t;if(s){xr(!0);try{console.log("[AdminPanel] Loading existing sessions for user:",s);const{data:a,error:n}=await D.from("personal_training_schedules").select("schedule_data, created_at").eq("user_id",s).order("created_at",{ascending:!1}).limit(1);if(n){console.error("[AdminPanel] Error loading existing sessions:",n),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Ï„Ï‰Î½ Ï…Ï€Î±ÏÏ‡ÏŒÎ½Ï„Ï‰Î½ ÏƒÎµÏƒÎ¹ÏÎ½"),Cs([]);return}a&&a.length>0&&((t=a[0].schedule_data)!=null&&t.sessions)?(console.log("[AdminPanel] Found existing sessions:",a[0].schedule_data.sessions),Cs(a[0].schedule_data.sessions),x.success(`Î¦Î¿ÏÏ„ÏÎ¸Î·ÎºÎ±Î½ ${a[0].schedule_data.sessions.length} Ï…Ï€Î¬ÏÏ‡Î¿Ï…ÏƒÎµÏ‚ ÏƒÎµÏƒÎ¯ÎµÏ‚`)):(console.log("[AdminPanel] No existing sessions found for user"),Cs([]),x("Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎ±Î½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…ÏƒÎµÏ‚ ÏƒÎµÏƒÎ¯ÎµÏ‚ Î³Î¹Î± Î±Ï…Ï„ÏŒÎ½ Ï„Î¿Î½ Ï‡ÏÎ®ÏƒÏ„Î·",{icon:"â„¹ï¸"}))}catch(a){console.error("[AdminPanel] Exception loading existing sessions:",a),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Ï„Ï‰Î½ Ï…Ï€Î±ÏÏ‡ÏŒÎ½Ï„Ï‰Î½ ÏƒÎµÏƒÎ¹ÏÎ½"),Cs([])}finally{xr(!1)}}},Hl=async()=>{var t,a,n;const s=l==="individual"||l==="combination"?[g.selectedUserId]:i;if(s.length===0){x.error("Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ Ï‡ÏÎ®ÏƒÏ„Î·/ÎµÏ‚");return}try{M(!0),console.log("[ADMIN] Starting to create personal training program..."),console.log("[ADMIN] User type:",ne);for(const H of s){const C=P.find(te=>te.id===H);if(!C){x.error(`Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎµ Î¿ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚ Î¼Îµ ID: ${H}`);continue}console.log("[ADMIN] Selected user:",C.firstName,C.lastName,"ID:",C.id),console.log("[ADMIN] Admin user ID:",o==null?void 0:o.id);let f=[];if(l==="group")if(ne==="paspartu"){const te=fe[C.id]||[];te.length>0?f=te.map((W,Y)=>({id:`group-session-${Y+1}`,date:W.date,startTime:W.startTime,endTime:W.endTime,type:"personal",trainer:W.trainer||"Mike",room:W.room||"Î‘Î¯Î¸Î¿Ï…ÏƒÎ± Mike",notes:`Group Paspartu Session ${Y+1} - ${W.notes||""}`})):(f=ge().map(Y=>({id:Y.id,date:Y.date,startTime:Y.startTime,type:Y.type,trainer:Y.trainer||"Mike",room:Y.room,notes:Y.notes+" (Group Paspartu)"})),console.log(`[ADMIN] Using ${f.length} current sessions for Group Paspartu user: ${C.email}`))}else f=[];else l==="combination"?f=ge().slice(0,k).map(W=>({id:W.id,date:W.date,startTime:W.startTime,type:W.type,trainer:W.trainer||"Mike",room:W.room,notes:W.notes+" (Personal - Î£Ï…Î½Î´Ï…Î±ÏƒÎ¼ÏŒÏ‚)"})):f=ge().map(W=>({id:W.id,date:W.date,startTime:W.startTime,type:W.type,trainer:W.trainer||"Mike",room:W.room,notes:W.notes}));const J={user_id:C.id,trainer_name:l==="group"?"Mike":((t=f[0])==null?void 0:t.trainer)||"Mike",month:new Date().getMonth()+1,year:new Date().getFullYear(),schedule_data:{sessions:f,notes:l==="group"?"Group program - ÎŸÎ¹ ÏƒÎµÏƒÎ¯ÎµÏ‚ Î¸Î± Ï€ÏÎ¿ÏƒÏ„ÎµÎ¸Î¿ÏÎ½ Î¼Î­ÏƒÏ‰ Ï„Î¿Ï… Group Assignment Interface":l==="combination"?`Combination program - ${k} Personal + ${pe} Group sessions`:"",trainer:l==="group"?"Mike":((a=f[0])==null?void 0:a.trainer)||"Mike",specialInstructions:l==="group"?"ÎŸÎ¼Î±Î´Î¹ÎºÏŒ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î± - ÎŸÎ¹ Î»ÎµÏ€Ï„Î¿Î¼Î­ÏÎµÎ¹ÎµÏ‚ Ï„Ï‰Î½ ÏƒÎµÏƒÎ¯Ï‰Î½ Î´Î¹Î±Ï‡ÎµÎ¹ÏÎ¯Î¶Î¿Î½Ï„Î±Î¹ Î¾ÎµÏ‡Ï‰ÏÎ¹ÏƒÏ„Î¬":l==="combination"?`Î£Ï…Î½Î´Ï…Î±ÏƒÎ¼Î­Î½Î¿ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î± - Î ÎµÏÎ¹Î»Î±Î¼Î²Î¬Î½ÎµÎ¹ ${k} Î±Ï„Î¿Î¼Î¹ÎºÎ­Ï‚ ÏƒÎµÏƒÎ¯ÎµÏ‚ ÎºÎ±Î¹ ${pe} Î¿Î¼Î±Î´Î¹ÎºÎ­Ï‚ ÏƒÎµÏƒÎ¯ÎµÏ‚`:"",groupRoomSize:l==="group"||l==="combination"?parseInt(m):null,weeklyFrequency:l==="group"||l==="combination"?V:null,monthlyTotal:l==="group"||l==="combination"?A:null,combinationPersonalSessions:l==="combination"?k:null,combinationGroupSessions:l==="combination"?pe:null},status:"accepted",created_by:o==null?void 0:o.id,user_type:ne,is_flexible:ne==="paspartu",training_type:l,group_room_size:l==="group"||l==="combination"?parseInt(m):null,weekly_frequency:l==="group"||l==="combination"?V:null,monthly_total:l==="group"||l==="combination"?A:null};console.log("[ADMIN] Schedule payload:",J),console.log("[ADMIN] Inserting schedule into personal_training_schedules...");const{data:oe,error:R}=await D.from("personal_training_schedules").insert(J).select().single();if(R)throw console.error("[ADMIN] Schedule insertion error:",R),R;if(console.log("[ADMIN] Schedule inserted successfully for user:",C.email),l==="combination"&&f.length>0){console.log("[ADMIN] Creating group_sessions for combination individual sessions...",f);const te=f.map(he=>{const hs=he.startTime,[Mt,Ut]=hs.split(":").map(Number),It=`${((Mt+1)%24).toString().padStart(2,"0")}:${Ut.toString().padStart(2,"0")}`;return{session_date:he.date,start_time:he.startTime,end_time:It,trainer:he.trainer,room:he.room,group_type:null,notes:he.notes+" (Individual - Combination Program)"}});console.log("[ADMIN] Individual group sessions to insert:",te);const{data:W,error:Y}=await D.from("group_sessions").insert(te.map(he=>({program_id:oe.id,user_id:C.id,session_date:he.session_date,start_time:he.start_time,end_time:he.end_time,trainer:he.trainer,room:he.room,group_type:he.group_type,notes:he.notes,is_active:!0,created_by:(o==null?void 0:o.id)||""})));Y?(console.error("[ADMIN] Error creating group_sessions for combination individual sessions:",Y),console.error("[ADMIN] Error details:",{message:Y.message,details:Y.details,hint:Y.hint,code:Y.code}),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Ï„Ï‰Î½ Î±Ï„Î¿Î¼Î¹ÎºÏÎ½ ÏƒÎµÏƒÎ¯Ï‰Î½ Ï„Î¿Ï… ÏƒÏ…Î½Î´Ï…Î±ÏƒÎ¼Î¿Ï")):(console.log("[ADMIN] Created group_sessions for combination individual sessions:",W),console.log("[ADMIN] Individual sessions created successfully"))}else console.log("[ADMIN] Skipping individual sessions creation:",{trainingType:l,scheduleSessionsLength:f.length,willCreate:l==="combination"&&f.length>0});const ie=T[C.id];if(ie&&(ie.oldMembers&&(await Lt(C.id,(o==null?void 0:o.id)||"")?console.log("[ADMIN] Old Members marked as used for user:",C.email):console.warn("[ADMIN] Failed to mark Old Members as used for user:",C.email)),ie.kettlebellPoints&&parseInt(ie.kettlebellPoints)>0&&(await Tt(C.id,parseInt(ie.kettlebellPoints),oe.id,(o==null?void 0:o.id)||"")?console.log("[ADMIN] Kettlebell Points saved for user:",C.email,"Points:",ie.kettlebellPoints):console.warn("[ADMIN] Failed to save Kettlebell Points for user:",C.email))),ne==="paspartu"){console.log("[ADMIN] Handling Paspartu user - replacing old schedule and managing deposits...");const{error:te}=await D.rpc("replace_paspartu_schedule",{p_user_id:C.id,p_new_schedule_id:oe.id});te?(console.error("[ADMIN] Error replacing old Paspartu schedule:",te),console.warn("[ADMIN] Failed to replace old schedule, but new schedule was created successfully")):console.log("[ADMIN] Old Paspartu schedule replaced successfully for user:",C.email);let W=5,Y=0;l==="combination"?(Y=k+pe,console.log(`[ADMIN] Combination Paspartu: ${k} personal + ${pe} group = ${Y} used deposits`)):l==="individual"?(Y=0,console.log("[ADMIN] Individual Paspartu: Credit 5 lessons, no deduction (original behavior)")):l==="group"&&(Y=0,console.log("[ADMIN] Group Paspartu: Credit 5 lessons, no deduction (same as Individual)")),Y>W&&(console.warn(`[ADMIN] Warning: Used deposits (${Y}) exceeds total deposits (${W}). Setting to max.`),Y=W);const{error:he}=await D.rpc("reset_lesson_deposit_for_new_program",{p_user_id:C.id,p_total_lessons:W,p_created_by:o==null?void 0:o.id});if(he)console.error("[ADMIN] Lesson deposit reset error:",he),console.warn("[ADMIN] Failed to reset lesson deposit, but schedule was created successfully");else if(console.log(`[ADMIN] Lesson deposit reset successfully for Paspartu user: ${C.email}`),console.log(`[ADMIN] Deposits: ${W} total, ${Y} will be used, ${W-Y} remaining`),Y>0){const{error:hs}=await D.from("lesson_deposits").update({used_lessons:Y,updated_at:new Date().toISOString()}).eq("user_id",C.id);hs?console.error("[ADMIN] Error updating used deposits:",hs):console.log(`[ADMIN] Updated used deposits to ${Y} for user: ${C.email}`)}}if(ne==="paspartu"){console.log("[ADMIN] Ensuring lesson deposit exists for Paspartu user:",C.email);const{data:te}=await D.from("lesson_deposits").select("id").eq("user_id",C.id).single();if(te)console.log("[ADMIN] Lesson deposit already exists for Paspartu user:",C.email);else{const{error:W}=await D.from("lesson_deposits").insert({user_id:C.id,total_lessons:5,used_lessons:0});W?console.error("[ADMIN] Error creating lesson deposit:",W):console.log("[ADMIN] Lesson deposit created successfully for Paspartu user:",C.email)}}console.log("[ADMIN] Creating Personal Training membership...");const{data:gs,error:st}=await D.from("membership_packages").select("id").eq("name","Personal Training").eq("is_active",!0).single();if(st||!gs){console.error("[ADMIN] Error finding Personal Training package:",st),console.warn("[ADMIN] Personal Training package not found, skipping membership creation");continue}const Dt={user_id:C.id,package_id:gs.id,duration_type:"lesson",start_date:`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}-${String(new Date().getDate()).padStart(2,"0")}`,end_date:(()=>{const te=new Date;return te.setDate(te.getDate()+30),`${te.getFullYear()}-${String(te.getMonth()+1).padStart(2,"0")}-${String(te.getDate()).padStart(2,"0")}`})(),is_active:!0,approved_by:o==null?void 0:o.id,approved_at:new Date().toISOString()},{error:tt}=await D.from("memberships").insert(Dt);tt?(console.error("[ADMIN] Membership insertion error:",tt),console.warn("[ADMIN] Failed to create membership, but schedule was created successfully")):console.log("[ADMIN] Personal Training membership created successfully for user:",C.email)}const d=s.map(H=>{const C=P.find(f=>f.id===H);return C?`${C.firstName} ${C.lastName}`:"Î†Î³Î½Ï‰ÏƒÏ„Î¿Ï‚"}).join(", "),h=ne==="personal"?"Personal":"Paspartu",N=l==="individual"?"Î‘Ï„Î¿Î¼Î¹ÎºÏŒ":l==="combination"?"Î£Ï…Î½Î´Ï…Î±ÏƒÎ¼Î­Î½Î¿":"ÎŸÎ¼Î±Î´Î¹ÎºÏŒ",E=l==="individual"||l==="combination"?"Ï„Î¿Î½ Ï‡ÏÎ®ÏƒÏ„Î·":"Ï„Î¿Ï…Ï‚ Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚";if(x.success(`Î¤Î¿ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î± ${N} ${h} Training Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î®Î¸Î·ÎºÎµ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚ Î³Î¹Î± ${E}: ${d}!`),(l==="group"||l==="combination")&&s.length>0&&Object.keys(fe).length>0){console.log("[AdminPanel] Creating group sessions for selected slots:",fe);for(const H of s){const C=fe[H];if(C&&C.length>0){const{data:f}=await D.from("personal_training_schedules").select("id").eq("user_id",H).in("training_type",["group","combination"]).order("created_at",{ascending:!1}).limit(1);if(f&&f.length>0){const J=f[0].id,oe=C.map(ie=>({session_date:ie.date,start_time:ie.startTime,end_time:ie.endTime,trainer:ie.trainer,room:ie.room,group_type:ie.groupType,notes:ie.notes||"Group session created by admin"})),R=await Ln(H,J,oe,(o==null?void 0:o.id)||"");if(R.success){if(console.log(`[AdminPanel] Created ${R.createdCount} group sessions for user ${H}`),R.blockedSessions&&R.blockedSessions.length>0){const ie=R.blockedSessions.length,gs=R.createdCount||0;x.error(`Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î®Î¸Î·ÎºÎ±Î½ ${gs} ÏƒÎµÏƒÎ¯ÎµÏ‚, Î±Î»Î»Î¬ ${ie} ÏƒÎµÏƒÎ¯ÎµÏ‚ Î±Ï€Î¿ÎºÎ»ÎµÎ¯ÏƒÏ„Î·ÎºÎ±Î½ Î»ÏŒÎ³Ï‰ Î³ÎµÎ¼Î¬Ï„Î¿Ï… capacity. Î›ÎµÏ€Ï„Î¿Î¼Î­ÏÎµÎ¹ÎµÏ‚: ${R.blockedSessions.slice(0,2).join(", ")}${ie>2?"...":""}`)}}else console.error("[AdminPanel] Error creating group sessions:",R.error),(n=R.error)!=null&&n.includes("capacity")?x.error(`Î”ÎµÎ½ Î¼Ï€Î¿ÏÎ¿ÏÎ½ Î½Î± Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î·Î¸Î¿ÏÎ½ ÏƒÎµÏƒÎ¯ÎµÏ‚: ${R.error}`):x.error(`Î£Ï†Î¬Î»Î¼Î± Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î±Ï‚ ÏƒÎµÏƒÎ¯Ï‰Î½: ${R.error}`)}}}x.success("Î¤Î¿ Î¿Î¼Î±Î´Î¹ÎºÏŒ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î± ÎºÎ±Î¹ Î¿Î¹ Î±Î½Î±Î¸Î­ÏƒÎµÎ¹Ï‚ Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î®Î¸Î·ÎºÎ±Î½ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚!")}else(l==="group"||l==="combination")&&s.length>0&&x(`Î¤Î¿ ${l==="combination"?"ÏƒÏ…Î½Î´Ï…Î±ÏƒÎ¼Î­Î½Î¿":"Î¿Î¼Î±Î´Î¹ÎºÏŒ"} Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î®Î¸Î·ÎºÎµ. ${l==="combination"?"ÎœÏ€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± ÎºÎ¬Î½ÎµÏ„Îµ Î¿Î¼Î±Î´Î¹ÎºÎ­Ï‚ Î±Î½Î±Î¸Î­ÏƒÎµÎ¹Ï‚ Î±ÏÎ³ÏŒÏ„ÎµÏÎ± Î±Ï€ÏŒ Ï„Î¿ Group Programs Overview.":"ÎœÏ€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± ÎºÎ¬Î½ÎµÏ„Îµ Î±Î½Î±Î¸Î­ÏƒÎµÎ¹Ï‚ Î±ÏÎ³ÏŒÏ„ÎµÏÎ± Î±Ï€ÏŒ Ï„Î¿ Group Programs Overview."}`,{icon:"â„¹ï¸"});ce(!1),Ne({code:"",selectedUserId:""}),Pe("individual"),y("personal"),S([]),$e({}),G(null),q(null),u(0),_e(""),ze("dropdown"),As([{id:"tmp-1",date:new Date().toISOString().split("T")[0],startTime:"18:00",type:"personal",trainer:"Mike",room:"Î‘Î¯Î¸Î¿Ï…ÏƒÎ± Mike",group:"2Î‘Ï„Î¿Î¼Î±Group",notes:""}]),Vt("new"),Cs([]),Xt()}catch(d){if(console.error("[ADMIN] Error creating personal training program:",d),d&&typeof d=="object"&&"code"in d){const h=d;h.code==="23505"?x.error("Î¤Î¿ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ Î®Î´Î· Î³Î¹Î± Î±Ï…Ï„ÏŒÎ½ Ï„Î¿Î½ Ï‡ÏÎ®ÏƒÏ„Î·."):h.code==="23503"?x.error("Î ÏÏŒÎ²Î»Î·Î¼Î± Î¼Îµ Ï„Î± Î´ÎµÎ´Î¿Î¼Î­Î½Î± Ï‡ÏÎ®ÏƒÏ„Î·. Î•Î»Î­Î³Î¾Ï„Îµ ÏŒÏ„Î¹ Î¿ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹."):h.code==="PGRST301"?x.error("Î ÏÏŒÎ²Î»Î·Î¼Î± Î±Ï…Î¸ÎµÎ½Ï„Î¹ÎºÎ¿Ï€Î¿Î¯Î·ÏƒÎ·Ï‚. ÎšÎ¬Î½Ï„Îµ ÎµÏ€Î±Î½Î±ÏƒÏÎ½Î´ÎµÏƒÎ·."):x.error(`Î£Ï†Î¬Î»Î¼Î± Î²Î¬ÏƒÎ·Ï‚ Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½: ${h.message||"Î†Î³Î½Ï‰ÏƒÏ„Î¿ ÏƒÏ†Î¬Î»Î¼Î±"}`)}else x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Ï„Î¿Ï… Ï€ÏÎ¿Î³ÏÎ¬Î¼Î¼Î±Ï„Î¿Ï‚")}finally{M(!1)}};if(!o||o.role!=="admin")return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Î”ÎµÎ½ Î­Ï‡ÎµÏ„Îµ Î´Î¹ÎºÎ±Î¯Ï‰Î¼Î± Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ·Ï‚"}),e.jsx("p",{className:"text-gray-600",children:"ÎœÏŒÎ½Î¿ Î¿Î¹ Î´Î¹Î±Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î­Ï‚ Î¼Ï€Î¿ÏÎ¿ÏÎ½ Î½Î± Î­Ï‡Î¿Ï…Î½ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· ÏƒÎµ Î±Ï…Ï„Î® Ï„Î· ÏƒÎµÎ»Î¯Î´Î±."})]})});const vr=c.useCallback(async()=>{try{M(!0);const s=await eo(),t=["Personal Training","Premium","Î’Î±ÏƒÎ¹ÎºÏŒ + Ï€ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÎ® Ï€ÏÎ¿Ï€ÏŒÎ½Î·ÏƒÎ·","VIP","Premium + ÏŒÎ»Î± Ï„Î± Ï€ÏÎ¿Î½ÏŒÎ¼Î¹Î±","ÎŒÎ»Î± Î±Ï€ÏŒ Ï„Î¿ premium","Î‘Ï€ÎµÏÎ¹ÏŒÏÎ¹ÏƒÏ„Î· Ï€ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÎ® Ï€ÏÎ¿Ï€ÏŒÎ½Î·ÏƒÎ·","Î’Î±ÏƒÎ¹ÎºÏŒ","Î ÏÏŒÏƒÎ²Î±ÏƒÎ· ÏƒÎµ ÏŒÎ»ÎµÏ‚ Ï„Î¹Ï‚ Î±Î¯Î¸Î¿Ï…ÏƒÎµÏ‚","ÎŒÎ»ÎµÏ‚ Î¿Î¹ Î¿Î¼Î±Î´Î¹ÎºÎ­Ï‚ Ï„Î¬Î¾ÎµÎ¹Ï‚"],a=s.filter(d=>!t.includes(d.name)&&!t.some(h=>{var N;return(N=d.description)==null?void 0:N.includes(h)}));Nl(a),me(d=>({...d,"membership-packages":!0}));const n=await so();pr(n)}catch(s){console.error("Error loading membership packages:",s),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Ï„Ï‰Î½ Ï€Î±ÎºÎ­Ï„Ï‰Î½")}finally{M(!1)}},[]),wr=async s=>{try{const t=await io(s);Wt(t)}catch(t){console.error("Error loading package durations:",t),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Ï„Ï‰Î½ ÎµÏ€Î¹Î»Î¿Î³ÏÎ½ Î´Î¹Î¬ÏÎºÎµÎ¹Î±Ï‚")}},Is=async()=>{try{const s=await to();Sl(s),$s(1)}catch(s){console.error("Error loading membership requests:",s),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Ï„Ï‰Î½ Î±Î¹Ï„Î·Î¼Î¬Ï„Ï‰Î½")}},Zs=()=>Nt.filter(t=>{var d,h,N,E;const a=((d=t.package)==null?void 0:d.name)==="Free Gym"||((h=t.package)==null?void 0:h.name)==="Pilates",n=Ds===""||`${((N=t.user)==null?void 0:N.first_name)||""} ${((E=t.user)==null?void 0:E.last_name)||""}`.toLowerCase().includes(Ds.toLowerCase());return a&&n}).sort((t,a)=>new Date(a.created_at).getTime()-new Date(t.created_at).getTime()),Yl=()=>{const s=Zs(),t=(Ze-1)*Qs,a=t+Qs;return s.slice(t,a)},ms=()=>{const s=Zs();return Math.ceil(s.length/Qs)},Ql=()=>{$s(s=>Math.max(s-1,1))},Jl=()=>{$s(s=>Math.min(s+1,ms()))},Xl=()=>{$s(1)},Zl=()=>{$s(ms())},ql=s=>{Pl(s.target.value),$s(1)},en=s=>{kl(s),s.name==="Pilates"?Wt(Ml):wr(s.id)},sn=s=>{wt(s),Ys(s.price.toString())},tn=async()=>{if(!Xe||!Bt)return;const s=parseFloat(Bt);if(isNaN(s)||s<0){x.error("Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÎ¹ÏƒÎ¬Î³ÎµÏ„Îµ Î­Î³ÎºÏ…ÏÎ· Ï„Î¹Î¼Î®");return}try{M(!0),(Fe==null?void 0:Fe.name)==="Pilates"?await ao(Xe.duration_type,s)&&(Wt(a=>a.map(n=>n.id===Xe.id?{...n,price:s}:n)),pr(a=>a.map(n=>n.id===Xe.id?{...n,price:s}:n)),wt(null),Ys(""),x.success("Î— Ï„Î¹Î¼Î® Pilates ÎµÎ½Î·Î¼ÎµÏÏÎ¸Î·ÎºÎµ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚")):await lo(Xe.id,s)&&(wt(null),Ys(""),wr((Fe==null?void 0:Fe.id)||""))}catch(t){console.error("Error updating price:",t)}finally{M(!1)}},rn=async s=>{var t;try{M(!0);const a=Nt.find(d=>d.id===s);((t=a==null?void 0:a.package)==null?void 0:t.name)==="Ultimate"?await no(s)&&(x.success("Î¤Î¿ Ultimate Î±Î¯Ï„Î·Î¼Î± ÎµÎ³ÎºÏÎ¯Î¸Î·ÎºÎµ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚! Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î®Î¸Î·ÎºÎ±Î½ 2 ÏƒÏ…Î½Î´ÏÎ¿Î¼Î­Ï‚: Pilates + Open Gym"),Is()):await oo(s)&&(x.success("Î¤Î¿ Î±Î¯Ï„Î·Î¼Î± ÎµÎ³ÎºÏÎ¯Î¸Î·ÎºÎµ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚!"),Is())}catch(a){console.error("Error approving request:",a),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î·Î½ Î­Î³ÎºÏÎ¹ÏƒÎ· Ï„Î¿Ï… Î±Î¹Ï„Î®Î¼Î±Ï„Î¿Ï‚")}finally{M(!1)}},an=async s=>{const t=prompt("Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÎ¹ÏƒÎ¬Î³ÎµÏ„Îµ Ï„Î¿Î½ Î»ÏŒÎ³Î¿ Î±Ï€ÏŒÏÏÎ¹ÏˆÎ·Ï‚:");if(t)try{M(!0),await hl(s,t)&&(x.success("Î¤Î¿ Î±Î¯Ï„Î·Î¼Î± Î±Ï€Î¿ÏÏÎ¯Ï†Î¸Î·ÎºÎµ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚!"),Is())}catch(a){console.error("Error rejecting request:",a),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î·Î½ Î±Ï€ÏŒÏÏÎ¹ÏˆÎ· Ï„Î¿Ï… Î±Î¹Ï„Î®Î¼Î±Ï„Î¿Ï‚")}finally{M(!1)}},Se=(s,t,a)=>{gr(n=>({...n,[s]:{...n[s],[t]:a}}))},ln=(s,t,a)=>{Cl(n=>({...n,[s]:{...n[s],[t]:a}}))},Pt=(s,t)=>{hr(a=>({...a,[s]:t}))},Nr=async s=>{const t=Ms[s];if(t==="none"||!o){x.error("Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ Î¼Î¹Î± ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· Î­Î³ÎºÏÎ¹ÏƒÎ·Ï‚");return}try{M(!0);const a=$[s];if(!a){x.error("Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÎµÏ€Î¹Î»Î¿Î³Î­Ï‚ Î³Î¹Î± Î±Ï…Ï„ÏŒ Ï„Î¿ Î±Î¯Ï„Î·Î¼Î±");return}const n=Nt.find(h=>h.id===s);if(!n){x.error("Î‘Î¯Ï„Î·Î¼Î± Î´ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎµ");return}if(await gl(n.user_id,t||"pending",{oldMembersUsed:a.oldMembers||!1,kettlebellPoints:a.kettlebellPoints?parseInt(a.kettlebellPoints):0,cashAmount:a.cashAmount||0,posAmount:a.posAmount||0,createdBy:o.id,notes:`Program options saved for membership request ${s} with ${t} status`})){if(console.log(`Program approval state saved for membership request: ${s}`),t==="pending"){const N=new Set(_t),E={...kt};N.add(s),E[s]=a,ur(N),br(E),x("Program Options Ï„Î¿Ï€Î¿Î¸ÎµÏ„Î®Î¸Î·ÎºÎ±Î½ ÏƒÏ„Î·Î½ Î±Î½Î±Î¼Î¿Î½Î® - Î¿Î¹ ÎµÏ€Î¹Î»Î¿Î³Î­Ï‚ Ï€Î±Î³ÏÎ¸Î·ÎºÎ±Î½",{icon:"â³"})}else if(t==="approved"&&await nn(s,n.user_id,a),b(s)){const N=new Set(_t),E={...kt};N.delete(s),delete E[s],ur(N),br(E)}hr(N=>({...N,[s]:"none"}));const h={approved:"ÎµÎ³ÎºÏÎ¯Î¸Î·ÎºÎµ ÎºÎ±Î¹ ÎµÎºÏ„ÎµÎ»Î­ÏƒÏ„Î·ÎºÎ±Î½ Î¿Î¹ ÎµÎ½Î­ÏÎ³ÎµÎ¹ÎµÏ‚",rejected:"Î±Ï€Î¿ÏÏÎ¯Ï†Î¸Î·ÎºÎµ",pending:"Ï„Î¿Ï€Î¿Î¸ÎµÏ„Î®Î¸Î·ÎºÎµ ÏƒÏ„Î·Î½ Î±Î½Î±Î¼Î¿Î½Î®"};x.success(`Program Options ${h[t]} ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚!`)}else x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î·Î½ Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· Ï„Ï‰Î½ Program Options")}catch(a){console.error("Error saving request program options:",a),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î·Î½ Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· Ï„Ï‰Î½ Program Options")}finally{M(!1)}},nn=async(s,t,a)=>{console.log("Executing approved program actions for membership request:",s);try{a.oldMembers&&(await Lt(t,(o==null?void 0:o.id)||"")?console.log(`[APPROVED] Old Members marked as used for membership request: ${s}`):console.warn(`[APPROVED] Failed to mark Old Members as used for membership request: ${s}`)),a.first150Members&&(await Lt(t,(o==null?void 0:o.id)||"")?console.log(`[APPROVED] First 150 Members - Old Members marked as used for membership request: ${s}`):console.warn(`[APPROVED] First 150 Members - Failed to mark Old Members as used for membership request: ${s}`),console.log(`[APPROVED] First 150 Members selected - Cash set to 45â‚¬ and POS locked for membership request: ${s}`)),a.kettlebellPoints&&parseInt(a.kettlebellPoints)>0&&(await Tt(t,parseInt(a.kettlebellPoints),void 0,(o==null?void 0:o.id)||"")?console.log(`[APPROVED] Kettlebell Points saved for membership request: ${s}, Points: ${a.kettlebellPoints}`):console.warn(`[APPROVED] Failed to save Kettlebell Points for membership request: ${s}`)),a.cashAmount&&a.cashAmount>0&&(await Ft(t,a.cashAmount,"cash",void 0,(o==null?void 0:o.id)||"","Cash transaction from approved membership request")?console.log(`[APPROVED] Cash transaction saved for membership request: ${s}, Amount: â‚¬${a.cashAmount}`):console.warn(`[APPROVED] Failed to save Cash transaction for membership request: ${s}`)),a.posAmount&&a.posAmount>0&&(await Ft(t,a.posAmount,"pos",void 0,(o==null?void 0:o.id)||"","POS transaction from approved membership request")?console.log(`[APPROVED] POS transaction saved for membership request: ${s}, Amount: â‚¬${a.posAmount}`):console.warn(`[APPROVED] Failed to save POS transaction for membership request: ${s}`)),x.success("ÎˆÎ³Î¹Î½Î±Î½ ÏŒÎ»ÎµÏ‚ Î¿Î¹ Î±Ï€Î±ÏÎ±Î¯Ï„Î·Ï„ÎµÏ‚ ÎµÎ½Î­ÏÎ³ÎµÎ¹ÎµÏ‚ Î³Î¹Î± Ï„Î¿ ÎµÎ³ÎºÎµÎºÏÎ¹Î¼Î­Î½Î¿ Î±Î¯Ï„Î·Î¼Î±!")}catch(n){console.error("Error executing approved program actions for membership request:",n),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î·Î½ ÎµÎºÏ„Î­Î»ÎµÏƒÎ· Ï„Ï‰Î½ ÎµÎ½ÎµÏÎ³ÎµÎ¹ÏÎ½")}},At=c.useCallback(async()=>{try{M(!0);const[s,t]=await Promise.all([Qn(ss||void 0,ts||void 0),Jn(ss||void 0,ts||void 0)]);ht(s),xt(t),me(a=>({...a,"kettlebell-points":!0}))}catch(s){console.error("Error loading kettlebell points data:",s),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Ï„Ï‰Î½ Kettlebell Points")}finally{M(!1)}},[ss,ts]),on=async s=>{try{const a=(await qn(s)).reduce((n,d)=>n+d.points,0);es(a.toString())}catch(t){console.error("Error loading user kettlebell points:",t),es("")}},dn=s=>{if(!s.trim()){zs([]);return}const t=Oe.filter(a=>a.user_name.toLowerCase().includes(s.toLowerCase())||a.user_email.toLowerCase().includes(s.toLowerCase()));zs(t)},_r=s=>{ut(s),dn(s),as(1)},Ct=Math.ceil(Oe.length/js),$t=(rs-1)*js,kr=$t+js,cn=Oe.slice($t,kr),mn=()=>{as(s=>Math.max(s-1,1))},xn=()=>{as(s=>Math.min(s+1,Ct))};c.useEffect(()=>{p==="membership-packages"&&(vr(),Is())},[p]),c.useEffect(()=>{p==="kettlebell-points"&&At()},[p]),c.useEffect(()=>{(async()=>{if(o)try{const{data:t,error:a}=await D.from("user_old_members_usage").select("user_id");if(a){console.error("Error loading old members usage:",a);return}const n=new Set((t==null?void 0:t.map(d=>d.user_id))||[]);Fs(n),Gs(n)}catch(t){console.error("Exception loading old members usage:",t)}})()},[o]);const xs=async()=>{try{jt(!0);const s=await qs(()=>ro(),"Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Ultimate Î±Î¹Ï„Î·Î¼Î¬Ï„Ï‰Î½");s.length>wo&&(console.log(`[AdminPanel] Large Ultimate dataset detected: ${s.length} items`),x(`Î¦Î¿ÏÏ„ÏÎ¸Î·ÎºÎ±Î½ ${s.length} Ultimate Î±Î¹Ï„Î®Î¼Î±Ï„Î±. Î§ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯Ï„Î±Î¹ ÏƒÎµÎ»Î¹Î´Î¿Ï€Î¿Î¯Î·ÏƒÎ·.`,{icon:"ğŸ‘‘"})),O(s),me(t=>({...t,"ultimate-subscriptions":!0}))}catch(s){et(s,"Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Ultimate Î±Î¹Ï„Î·Î¼Î¬Ï„Ï‰Î½")}finally{jt(!1)}},gn=async s=>{try{await qs(async()=>{const{error:t}=await D.from("membership_requests").delete().eq("id",s);if(t)throw t;return!0},"Î´Î¹Î±Î³ÏÎ±Ï†Î® Ultimate Î±Î¹Ï„Î®Î¼Î±Ï„Î¿Ï‚"),x.success("Î¤Î¿ Ultimate Î±Î¯Ï„Î·Î¼Î± Î´Î¹Î±Î³ÏÎ¬Ï†Î·ÎºÎµ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚"),await xs()}catch(t){et(t,"Î´Î¹Î±Î³ÏÎ±Ï†Î® Ultimate Î±Î¹Ï„Î®Î¼Î±Ï„Î¿Ï‚")}},hn=async s=>{var t;try{M(!0);const a=cs.find(d=>d.id===s);((t=a==null?void 0:a.package)==null?void 0:t.name)==="Ultimate"&&(await qs(async()=>{const{approveUltimateMembershipRequest:d}=await Cn(async()=>{const{approveUltimateMembershipRequest:N}=await import("./membershipApi-BFxPW0vq.js");return{approveUltimateMembershipRequest:N}},__vite__mapDeps([0,1,2])),h=await d(s);if(!h)throw new Error("Approval failed");return h},"Î­Î³ÎºÏÎ¹ÏƒÎ· Ultimate Î±Î¹Ï„Î®Î¼Î±Ï„Î¿Ï‚"),x.success("Î¤Î¿ Ultimate Î±Î¯Ï„Î·Î¼Î± ÎµÎ³ÎºÏÎ¯Î¸Î·ÎºÎµ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚! Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î®Î¸Î·ÎºÎ±Î½ 2 ÏƒÏ…Î½Î´ÏÎ¿Î¼Î­Ï‚: Pilates + Open Gym"),xs())}catch(a){et(a,"Î­Î³ÎºÏÎ¹ÏƒÎ· Ultimate Î±Î¹Ï„Î®Î¼Î±Ï„Î¿Ï‚")}finally{M(!1)}},un=async s=>{const t=prompt("Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÎ¹ÏƒÎ¬Î³ÎµÏ„Îµ Ï„Î¿Î½ Î»ÏŒÎ³Î¿ Î±Ï€ÏŒÏÏÎ¹ÏˆÎ·Ï‚:");if(t)try{M(!0),await qs(async()=>{const a=await hl(s,t);if(!a)throw new Error("Rejection failed");return a},"Î±Ï€ÏŒÏÏÎ¹ÏˆÎ· Ultimate Î±Î¹Ï„Î®Î¼Î±Ï„Î¿Ï‚"),x.success("Î¤Î¿ Ultimate Î±Î¯Ï„Î·Î¼Î± Î±Ï€Î¿ÏÏÎ¯Ï†Î¸Î·ÎºÎµ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚!"),xs()}catch(a){et(a,"Î±Ï€ÏŒÏÏÎ¹ÏˆÎ· Ultimate Î±Î¹Ï„Î®Î¼Î±Ï„Î¿Ï‚")}finally{M(!1)}},Zt=(s,t)=>{Yt({requestId:s,installmentNumber:t}),Ht(!0)},bn=async()=>{if(St){const{requestId:s,installmentNumber:t}=St;try{const a=Nt.find(N=>N.id===s);if(a){const N=$[s]||{},E={};t===1?(E.installment_1_amount=parseFloat(N.installment1Amount||a.installment_1_amount||0),E.installment_1_payment_method=N.installment1PaymentMethod||a.installment_1_payment_method||"cash",E.installment_1_due_date=N.installment1DueDate||a.installment_1_due_date):t===2?(E.installment_2_amount=parseFloat(N.installment2Amount||a.installment_2_amount||0),E.installment_2_payment_method=N.installment2PaymentMethod||a.installment_2_payment_method||"cash",E.installment_2_due_date=N.installment2DueDate||a.installment_2_due_date):t===3&&(E.installment_3_amount=parseFloat(N.installment3Amount||a.installment_3_amount||0),E.installment_3_payment_method=N.installment3PaymentMethod||a.installment_3_payment_method||"cash",E.installment_3_due_date=N.installment3DueDate||a.installment_3_due_date);const{error:H}=await D.from("membership_requests").update(E).eq("id",s);if(H){console.error("[AdminPanel] Error saving values before lock:",H),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î·Î½ Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· Ï„Ï‰Î½ Ï„Î¹Î¼ÏÎ½");return}console.log("[AdminPanel] Saved values before locking:",E)}const n=await pl(o==null?void 0:o.id),{error:d}=await D.rpc("lock_installment",{p_request_id:s,p_installment_number:t,p_locked_by:n});if(d){console.error(`Error locking installment ${t}:`,d),x.error(`Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î¿ ÎºÎ»ÎµÎ¯Î´Ï‰Î¼Î± Ï„Î·Ï‚ ${t}Î·Ï‚ Î´ÏŒÏƒÎ·Ï‚`);return}const h=`installment${t}Locked`;Se(s,h,!0),x.success(`${t}Î· Î´ÏŒÏƒÎ· ÎºÎ»ÎµÎ¹Î´ÏÎ¸Î·ÎºÎµ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚ Î¼Îµ Ï„Î¹Ï‚ Ï„ÏÎ­Ï‡Î¿Ï…ÏƒÎµÏ‚ Ï„Î¹Î¼Î­Ï‚`),await Is()}catch(a){console.error("Exception locking installment:",a),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î¿ ÎºÎ»ÎµÎ¯Î´Ï‰Î¼Î± Ï„Î·Ï‚ Î´ÏŒÏƒÎ·Ï‚")}Ht(!1),Yt(null)}},pn=()=>{Ht(!1),Yt(null)},fn=s=>{Jt(s),Qt(!0)},yn=async()=>{if(Js){try{const s=await pl(o==null?void 0:o.id);console.log("Deleting third installment for request:",Js,"by user:",s);const{error:t}=await D.rpc("delete_third_installment_permanently",{p_request_id:Js,p_deleted_by:s});if(t){console.error("Error deleting third installment:",t),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Î´Î¹Î±Î³ÏÎ±Ï†Î® Ï„Î·Ï‚ 3Î·Ï‚ Î´ÏŒÏƒÎ·Ï‚");return}Se(Js,"deleteThirdInstallment",!0),x.success("3Î· Î´ÏŒÏƒÎ· Î´Î¹Î±Î³ÏÎ¬Ï†Î·ÎºÎµ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚"),await Is()}catch(s){console.error("Exception deleting third installment:",s),x.error("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Î´Î¹Î±Î³ÏÎ±Ï†Î® Ï„Î·Ï‚ 3Î·Ï‚ Î´ÏŒÏƒÎ·Ï‚")}Qt(!1),Jt(null)}},jn=()=>{Qt(!1),Jt(null)},xe=(s,t)=>{const a=`installment_${t}_locked`,n=s[a]===!0;return console.log(`[AdminPanel] isInstallmentLocked check for request ${s.id}, installment ${t}: locked = ${n}, field = ${a}, value = ${s[a]}`),s[a]!==void 0&&s[a]!==null?n:(console.log(`[AdminPanel] Field ${a} is undefined/null, checking old locked_installments table...`),!1)},vn=async(s,t,a,n,d,h,N,E,H,C)=>{try{const f={installment_1_amount:t,installment_2_amount:a,installment_3_amount:n,installment_1_payment_method:d,installment_2_payment_method:h,installment_3_payment_method:N};E&&(f.installment_1_due_date=E),H&&(f.installment_2_due_date=H),C&&(f.installment_3_due_date=C);const J=$[s];if(J){const oe=R=>!R||R==="undefined"?null:R;if(J.installment1Locked){const{error:R}=await D.rpc("lock_installment",{p_request_id:s,p_installment_number:1,p_locked_by:oe(o==null?void 0:o.id)});R&&console.error("Error locking installment 1:",R)}if(J.installment2Locked){const{error:R}=await D.rpc("lock_installment",{p_request_id:s,p_installment_number:2,p_locked_by:oe(o==null?void 0:o.id)});R&&console.error("Error locking installment 2:",R)}if(J.installment3Locked){const{error:R}=await D.rpc("lock_installment",{p_request_id:s,p_installment_number:3,p_locked_by:oe(o==null?void 0:o.id)});R&&console.error("Error locking installment 3:",R)}if(J.deleteThirdInstallment){const R=oe(o==null?void 0:o.id);if(R){const{error:ie}=await D.rpc("delete_third_installment_permanently",{request_id:s,deleted_by_user_id:R==="00000000-0000-0000-0000-000000000001"?null:R});ie&&console.error("Error deleting third installment:",ie)}else console.error("No valid user ID for third installment deletion")}}await qs(async()=>{const{error:oe}=await D.from("membership_requests").update(f).eq("id",s);if(oe)throw oe;return!0},"ÎµÎ½Î·Î¼Î­ÏÏ‰ÏƒÎ· Î´ÏŒÏƒÎµÏ‰Î½"),x.success("ÎŸÎ¹ Î´ÏŒÏƒÎµÎ¹Ï‚ ÎºÎ±Î¹ Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯ÎµÏ‚ ÎµÎ½Î·Î¼ÎµÏÏÎ¸Î·ÎºÎ±Î½ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚"),await xs()}catch(f){et(f,"ÎµÎ½Î·Î¼Î­ÏÏ‰ÏƒÎ· Î´ÏŒÏƒÎµÏ‰Î½")}};c.useEffect(()=>{p==="ultimate-subscriptions"&&!U["ultimate-subscriptions"]&&(console.log("[AdminPanel] Loading Ultimate Subscriptions data..."),xs())},[p]),c.useEffect(()=>{p==="ultimate-subscriptions"&&cs.length===0&&!Je&&(console.log("[AdminPanel] Ultimate Subscriptions tab active but no data, reloading..."),xs())},[p,cs.length,Je]);const qs=async(s,t="operation",a=3)=>{for(let n=1;n<=a;n++)try{return await s()}catch(d){if(console.error(`[AdminPanel] Database ${t} failed (attempt ${n}/${a}):`,d),n===a){const N=`Î£Ï†Î¬Î»Î¼Î± ÏƒÏÎ½Î´ÎµÏƒÎ·Ï‚ Î¼Îµ Ï„Î· Î²Î¬ÏƒÎ· Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ ÎºÎ±Ï„Î¬ ${t}. Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÎ»Î­Î³Î¾Ï„Îµ Ï„Î· ÏƒÏÎ½Î´ÎµÏƒÎ® ÏƒÎ±Ï‚ ÎºÎ±Î¹ Î´Î¿ÎºÎ¹Î¼Î¬ÏƒÏ„Îµ Î¾Î±Î½Î¬.`;throw x.error(N),d}const h=1e3*n;console.log(`[AdminPanel] Retrying ${t} in ${h}ms...`),await new Promise(N=>setTimeout(N,h))}throw new Error(`Failed to complete ${t} after ${a} attempts`)},et=(s,t)=>{var a,n,d;console.error(`[AdminPanel] Database error in ${t}:`,s),(a=s.message)!=null&&a.includes("network")||(n=s.message)!=null&&n.includes("connection")?x.error("Î ÏÏŒÎ²Î»Î·Î¼Î± ÏƒÏÎ½Î´ÎµÏƒÎ·Ï‚ Î´Î¹ÎºÏ„ÏÎ¿Ï…. Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÎ»Î­Î³Î¾Ï„Îµ Ï„Î· ÏƒÏÎ½Î´ÎµÏƒÎ® ÏƒÎ±Ï‚."):(d=s.message)!=null&&d.includes("timeout")?x.error("Î— Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î± Î´Î¹Î®ÏÎºÎ·ÏƒÎµ Ï€Î¿Î»Ï. Î Î±ÏÎ±ÎºÎ±Î»Ï Î´Î¿ÎºÎ¹Î¼Î¬ÏƒÏ„Îµ Î¾Î±Î½Î¬."):x.error(`Î Î±ÏÎ¿Ï…ÏƒÎ¹Î¬ÏƒÏ„Î·ÎºÎµ ÏƒÏ†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ ${t}. Î Î±ÏÎ±ÎºÎ±Î»Ï Î´Î¿ÎºÎ¹Î¼Î¬ÏƒÏ„Îµ Î¾Î±Î½Î¬.`)};c.useEffect(()=>{g.selectedUserId&&on(g.selectedUserId)},[g.selectedUserId]);const wn=async()=>{if(!Ae||!Qe){Ie({type:"error",message:"Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ Ï‡ÏÎ®ÏƒÏ„Î· ÎºÎ±Î¹ ÎµÎ¹ÏƒÎ¬Î³ÎµÏ„Îµ Î±ÏÎ¹Î¸Î¼ÏŒ points"});return}const s=parseInt(Qe);if(s<=0){Ie({type:"error",message:"ÎŸ Î±ÏÎ¹Î¸Î¼ÏŒÏ‚ Ï„Ï‰Î½ points Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± ÎµÎ¯Î½Î±Î¹ Î¼ÎµÎ³Î±Î»ÏÏ„ÎµÏÎ¿Ï‚ Î±Ï€ÏŒ 0"});return}try{Ie(null),M(!0);const t=P.find(d=>d.id===Ae);if(!t){Ie({type:"error",message:"Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎµ Î¿ ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½Î¿Ï‚ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚"});return}if(console.log("[OpenGym] Starting Open Gym action for user:",t.email,"Extra Service:",s),!await Tt(Ae,s,void 0,(o==null?void 0:o.id)||"")){Ie({type:"error",message:"Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î·Î½ Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· Ï„Ï‰Î½ Kettlebell Points"});return}if(console.log("[OpenGym] Kettlebell Points saved successfully"),!await Nn(Ae)){Ie({type:"error",message:"Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Ï„Î·Ï‚ Free Gym ÏƒÏ…Î½Î´ÏÎ¿Î¼Î®Ï‚"});return}console.log("[OpenGym] Free Gym membership created successfully"),Ie({type:"success",message:`Î•Ï€Î¹Ï„Ï…Ï‡Î®Ï‚ ÎµÏ†Î±ÏÎ¼Î¿Î³Î® Open Gym Î³Î¹Î± ${t.firstName} ${t.lastName}! Î•Î½ÎµÏÎ³Î¿Ï€Î¿Î¹Î®Î¸Î·ÎºÎµ Î· 1Î¼Î·Î½Î· Free Gym ÏƒÏ…Î½Î´ÏÎ¿Î¼Î®.`}),ls(""),Ks(""),Ns(""),x.success(`Open Gym ÎµÏ†Î±ÏÎ¼Î¿Î³Î® ÎµÏ€Î¹Ï„Ï…Ï‡Î®Ï‚ Î³Î¹Î± ${t.firstName} ${t.lastName}`)}catch(t){console.error("[OpenGym] Error during Open Gym action:",t),Ie({type:"error",message:"Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î·Î½ ÎµÎºÏ„Î­Î»ÎµÏƒÎ· Ï„Î·Ï‚ ÎµÎ½Î­ÏÎ³ÎµÎ¹Î±Ï‚ Open Gym"})}finally{M(!1)}},Nn=async s=>{try{const{data:t,error:a}=await D.from("membership_packages").select("id").eq("name","Free Gym").eq("is_active",!0).single();if(a||!t)return console.error("[OpenGym] Error finding Free Gym package:",a),!1;const n=new Date,d=new Date;d.setMonth(d.getMonth()+1);const{error:h}=await D.from("memberships").insert({user_id:s,package_id:t.id,start_date:n.toISOString().split("T")[0],end_date:d.toISOString().split("T")[0],is_active:!0,expires_at:d.toISOString(),source_package_name:"Open Gym"});return h?(console.error("[OpenGym] Error creating Free Gym membership:",h),!1):!0}catch(t){return console.error("[OpenGym] Exception creating Free Gym membership:",t),!1}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 rounded-xl shadow-xl p-4 sm:p-8 text-white",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-3xl font-bold mb-2",children:"ğŸ‹ï¸â€â™‚ï¸ Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Î“Ï…Î¼Î½Î±ÏƒÏ„Î·ÏÎ¯Î¿Ï…"}),e.jsxs("p",{className:"text-blue-100 text-sm sm:text-lg",children:["ÎšÎ±Î»ÏÏ‚ Î®ÏÎ¸ÎµÏ‚, ",e.jsx("span",{className:"font-semibold",children:o.firstName}),"!"]})]}),e.jsx("div",{className:"bg-white/20 rounded-xl p-3 sm:p-4 backdrop-blur-sm self-start sm:self-auto",children:e.jsx(Gt,{className:"h-8 w-8 sm:h-12 sm:w-12"})})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex overflow-x-auto space-x-2 sm:space-x-8 px-3 sm:px-6",children:Ul.map(s=>{const t=s.icon;return e.jsxs("button",{onClick:()=>w(s.id),className:`py-3 sm:py-4 px-2 sm:px-1 border-b-3 font-semibold text-xs sm:text-sm flex items-center space-x-2 sm:space-x-3 transition-all duration-200 whitespace-nowrap ${p===s.id?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[e.jsx(t,{className:`h-4 w-4 sm:h-5 sm:w-5 ${p===s.id?"text-blue-500":"text-gray-400"}`}),e.jsx("span",{className:"hidden sm:inline",children:s.name}),e.jsx("span",{className:"sm:hidden",children:s.name.split(" ")[0]})]},s.id)})})}),e.jsxs("div",{className:"p-3 sm:p-6",children:[B&&e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Î¦ÏŒÏÏ„Ï‰ÏƒÎ· Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ Ï‡ÏÎ®ÏƒÏ„Î·â€¦ Î‘Ï…Ï„ÏŒ Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î´Î¹Î±ÏÎºÎ­ÏƒÎµÎ¹ Î»Î¯Î³Î± Î´ÎµÏ…Ï„ÎµÏÏŒÎ»ÎµÏ€Ï„Î±."})]}),p==="personal-training"&&!B&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl p-4 sm:p-6 text-white mb-4 sm:mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg sm:text-2xl font-bold mb-2",children:"ğŸ’ª Personal Training Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î±"}),e.jsx("p",{className:"text-purple-100 text-sm sm:text-base",children:"Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Ï€ÏÎ¿Î³ÏÎ±Î¼Î¼Î¬Ï„Ï‰Î½ Ï€ÏÎ¿Ï€ÏŒÎ½Î·ÏƒÎ·Ï‚"})]}),e.jsxs("button",{onClick:()=>ce(!0),className:"flex items-center space-x-2 sm:space-x-3 px-4 sm:px-6 py-2 sm:py-3 bg-white/20 backdrop-blur-sm text-white rounded-xl hover:bg-white/30 transition-all duration-200 font-semibold shadow-lg text-sm sm:text-base",children:[e.jsx(Me,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.jsx("span",{children:"ğŸ‹ï¸â€â™‚ï¸ Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Î ÏÎ¿Î³ÏÎ¬Î¼Î¼Î±Ï„Î¿Ï‚"})]})]})}),de&&I&&!El({email:de.email,personalTrainingCode:de.personalTrainingCode})&&e.jsxs("div",{className:"bg-gradient-to-br from-white to-blue-50 border-2 border-blue-200 rounded-xl shadow-xl p-4 sm:p-8",id:"schedule-editor",children:[e.jsxs("div",{className:"flex flex-col space-y-4 sm:space-y-0 sm:flex-row sm:items-center sm:justify-between mb-6 sm:mb-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 sm:p-6 rounded-xl shadow-lg flex-1 sm:flex-none",children:[e.jsxs("h3",{className:"text-lg sm:text-2xl font-bold mb-1 sm:mb-2",children:["ğŸ‹ï¸â€â™‚ï¸ Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î³Î¹Î± ",de.firstName," ",de.lastName]}),e.jsxs("p",{className:"text-blue-100 text-sm sm:text-lg",children:["ğŸ“… ",Il[I.month-1]," ",I.year]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 sm:space-x-2 sm:gap-0",children:se?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:zl,className:"flex items-center space-x-1 px-3 py-2 bg-green-100 text-green-700 rounded-md hover:bg-green-200 transition-colors text-sm",children:[e.jsx(Ot,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Î£ÎµÏƒÎ¯Î±Ï‚"}),e.jsx("span",{className:"sm:hidden",children:"Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ·"})]}),e.jsxs("button",{onClick:Vl,className:"flex items-center space-x-1 px-3 py-2 bg-primary-100 text-primary-700 rounded-md hover:bg-primary-200 transition-colors text-sm",children:[e.jsx(us,{className:"h-4 w-4"}),e.jsx("span",{children:"Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·"})]}),e.jsx("button",{onClick:()=>we(!1),className:"flex items-center space-x-1 px-3 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors text-sm",children:e.jsx("span",{children:"Î‘ÎºÏÏÏ‰ÏƒÎ·"})})]}):e.jsxs("button",{onClick:()=>we(!0),className:"flex items-center space-x-1 px-3 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors text-sm",children:[e.jsx(cl,{className:"h-4 w-4"}),e.jsx("span",{children:"Î•Ï€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î±"})]})})]}),e.jsx("div",{className:"space-y-3 sm:space-y-4",children:I.scheduleData.sessions.map(s=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 sm:p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Î—Î¼Î­ÏÎ±"}),se?e.jsx("input",{type:"date",value:s.date,onChange:t=>Xs(s.id,"date",t.target.value),className:"w-full border border-gray-300 rounded px-2 py-2 text-sm",lang:"el"}):e.jsx("p",{className:"text-xs sm:text-sm text-gray-900",children:new Date(s.date).toLocaleDateString("el-GR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"ÎÏÎ± ÎˆÎ½Î±ÏÎ¾Î·Ï‚"}),se?e.jsx("select",{value:s.startTime,onChange:t=>Xs(s.id,"startTime",t.target.value),className:"w-full border border-gray-300 rounded px-2 py-2 text-sm",children:Tl.map(t=>e.jsx("option",{value:t,children:t},t))}):e.jsx("p",{className:"text-xs sm:text-sm text-gray-900",children:s.startTime})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Î¤ÏÏ€Î¿Ï‚"}),se?e.jsxs("select",{value:s.type,onChange:t=>Xs(s.id,"type",t.target.value),className:"w-full border border-gray-300 rounded px-2 py-2 text-sm",children:[e.jsx("option",{value:"personal",children:"Personal Training"}),e.jsx("option",{value:"kickboxing",children:"Kick Boxing"}),e.jsx("option",{value:"combo",children:"Combo"})]}):e.jsx("p",{className:"text-xs sm:text-sm text-gray-900 capitalize",children:s.type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Î ÏÎ¿Ï€Î¿Î½Î·Ï„Î®Ï‚"}),se?e.jsx("select",{value:s.trainer,onChange:t=>Xs(s.id,"trainer",t.target.value),className:"w-full border border-gray-300 rounded px-2 py-2 text-sm",children:bl.map(t=>e.jsx("option",{value:t,children:t},t))}):e.jsx("p",{className:"text-xs sm:text-sm text-gray-900",children:s.trainer})]}),e.jsx("div",{className:"flex items-end sm:col-span-2 lg:col-span-1",children:se&&e.jsxs("button",{onClick:()=>Kl(s.id),className:"flex items-center space-x-1 px-3 py-2 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors text-sm w-full sm:w-auto",children:[e.jsx(Ye,{className:"h-4 w-4"}),e.jsx("span",{children:"Î”Î¹Î±Î³ÏÎ±Ï†Î®"})]})})]}),s.notes&&e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Î£Î·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚"}),se?e.jsx("input",{type:"text",value:s.notes,onChange:t=>Xs(s.id,"notes",t.target.value),className:"w-full border border-gray-300 rounded px-2 py-2 text-sm",placeholder:"Î£Î·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚ Î³Î¹Î± Ï„Î· ÏƒÎ­ÏƒÎ¹Î±"}):e.jsx("p",{className:"text-xs sm:text-sm text-gray-900",children:s.notes})]})]},s.id))}),e.jsxs("div",{className:"mt-4 sm:mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Î“ÎµÎ½Î¹ÎºÎ­Ï‚ Î£Î·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚"}),se?e.jsx("textarea",{value:I.scheduleData.notes||"",onChange:s=>{const t={...I,scheduleData:{...I.scheduleData,notes:s.target.value}};le(t)},className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",rows:3,placeholder:"Î“ÎµÎ½Î¹ÎºÎ­Ï‚ ÏƒÎ·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚ Î³Î¹Î± Ï„Î¿ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î±..."}):e.jsx("p",{className:"text-sm text-gray-900",children:I.scheduleData.notes||"Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÏƒÎ·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚"})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-xl shadow-lg border-2 border-orange-200",children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 sm:mb-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg sm:text-2xl font-bold text-orange-800 mb-2",children:"ğŸ‹ï¸â€â™‚ï¸ Open Gym"}),e.jsx("p",{className:"text-orange-600 text-sm sm:text-base",children:"Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· ÎµÎ¾Ï„ÏÎ± Ï…Ï€Î·ÏÎµÏƒÎ¹ÏÎ½ ÎºÎ±Î¹ Free Gym ÏƒÏ…Î½Î´ÏÎ¿Î¼ÏÎ½"})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:["ğŸ‘¤ Î•Ï€Î¹Î»Î¿Î³Î® Î§ÏÎ®ÏƒÏ„Î·",e.jsxs("span",{className:"ml-2 text-xs bg-orange-100 text-orange-600 px-2 py-1 rounded",children:["Selected: ",Ae?"âœ…":"âŒ"]})]}),e.jsxs("div",{className:"flex space-x-3 mb-4",children:[e.jsx("button",{type:"button",onClick:()=>Vs("dropdown"),className:`px-4 py-2 text-sm font-semibold rounded-lg transition-all duration-200 ${ws==="dropdown"?"bg-orange-600 text-white shadow-lg":"bg-white text-orange-600 border-2 border-orange-200 hover:border-orange-400"}`,children:"ğŸ“‹ Dropdown"}),e.jsx("button",{type:"button",onClick:()=>Vs("search"),className:`px-4 py-2 text-sm font-semibold rounded-lg transition-all duration-200 ${ws==="search"?"bg-orange-600 text-white shadow-lg":"bg-white text-orange-600 border-2 border-orange-200 hover:border-orange-400"}`,children:"ğŸ” Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ·"})]}),ws==="dropdown"?e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",value:Ae,onChange:s=>ls(s.target.value),children:[e.jsx("option",{value:"",children:"-- Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Ï‡ÏÎ®ÏƒÏ„Î· --"}),P.map(s=>e.jsxs("option",{value:s.id,children:[s.firstName," ",s.lastName," (",s.email,")"]},s.id))]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 placeholder-gray-400",placeholder:"ğŸ” Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· Î¼Îµ ÏŒÎ½Î¿Î¼Î± Î® email...",value:ns,onChange:s=>Ns(s.target.value)}),ns&&e.jsx("div",{className:"max-h-48 overflow-y-auto border-2 border-orange-200 rounded-xl bg-white shadow-lg",children:yr.length>0?yr.map(s=>e.jsxs("div",{className:`p-4 hover:bg-orange-50 cursor-pointer border-b border-orange-100 last:border-b-0 transition-all duration-200 ${Ae===s.id?"bg-orange-100 border-l-4 border-l-orange-500":""}`,onClick:()=>{ls(s.id),Ns("")},children:[e.jsxs("div",{className:"font-semibold text-gray-900",children:[s.firstName," ",s.lastName]}),e.jsx("div",{className:"text-sm text-gray-600",children:s.email})]},s.id)):e.jsx("div",{className:"p-4 text-gray-500 text-sm text-center",children:"Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎ±Î½ Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚"})})]}),Ae&&e.jsx("div",{className:"mt-4 p-3 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"âœ“"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold text-gray-900",children:[(Sr=P.find(s=>s.id===Ae))==null?void 0:Sr.firstName," ",(Pr=P.find(s=>s.id===Ae))==null?void 0:Pr.lastName]}),e.jsx("div",{className:"text-sm text-gray-600",children:(Ar=P.find(s=>s.id===Ae))==null?void 0:Ar.email})]}),e.jsx("button",{onClick:()=>ls(""),className:"ml-auto text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(We,{className:"h-4 w-4"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Î•Î¾Ï„ÏÎ¬ Î¥Ï€Î·ÏÎµÏƒÎ¯Î±"}),e.jsx("input",{type:"number",min:"0",step:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Î•Î¹ÏƒÎ¬Î³ÎµÏ„Îµ Î±ÏÎ¹Î¸Î¼ÏŒ...",value:Qe,onChange:s=>Ks(s.target.value)})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:wn,disabled:!Ae||!Qe||parseInt(Qe)<=0,className:"px-6 py-3 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-xl hover:from-orange-600 hover:to-red-600 transition-all duration-200 font-semibold shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:from-orange-500 disabled:hover:to-red-500",children:"ğŸ‹ï¸â€â™‚ï¸ Î•Ï†Î±ÏÎ¼Î¿Î³Î® Open Gym"})}),vs&&e.jsx("div",{className:`p-3 rounded-lg text-sm font-medium ${vs.type==="success"?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"}`,children:vs.message})]})]})}),Ls&&e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-xl shadow-lg border-2 border-green-200",children:e.jsx("div",{className:"p-4 sm:p-6",children:e.jsx(Xn,{featureEnabled:Ls})})})]}),p==="membership-packages"&&!B&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Î Î±ÎºÎ­Ï„Ï‰Î½ Î£Ï…Î½Î´ÏÎ¿Î¼ÏÎ½"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Î•Î½Î·Î¼ÎµÏÏÏƒÏ„Îµ Ï„Î¹Ï‚ Ï„Î¹Î¼Î­Ï‚ Î³Î¹Î± ÎºÎ¬Î¸Îµ Ï€Î±ÎºÎ­Ï„Î¿ ÎºÎ±Î¹ Î´Î¹Î¬ÏÎºÎµÎ¹Î±"})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:wl.map(s=>e.jsxs("div",{className:`border-2 rounded-xl p-6 cursor-pointer transition-all duration-200 ${(Fe==null?void 0:Fe.id)===s.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>en(s),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[s.name==="Pilates"?e.jsx("span",{className:"text-2xl",children:"ğŸ§˜"}):e.jsx(ot,{className:"h-6 w-6 text-blue-500"}),e.jsx("h4",{className:"text-lg font-bold text-gray-900",children:s.name})]}),e.jsx(tr,{className:"h-5 w-5 text-gray-400"})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:s.description}),s.features&&e.jsx("ul",{className:"space-y-1",children:s.features.slice(0,3).map((t,a)=>e.jsxs("li",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full mr-2"}),t]},a))})]},s.id))})})]}),Fe&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Î¤Î¹Î¼Î­Ï‚ Î³Î¹Î± ",Fe.name]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Î•Î½Î·Î¼ÎµÏÏÏƒÏ„Îµ Ï„Î¹Ï‚ Ï„Î¹Î¼Î­Ï‚ Î³Î¹Î± ÎºÎ¬Î¸Îµ Î´Î¹Î¬ÏÎºÎµÎ¹Î±"})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_l.map(s=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(dt,{className:"h-4 w-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:ar(s.duration_type)}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.duration_days," Î·Î¼Î­ÏÎµÏ‚"]})]})]}),e.jsx("button",{onClick:()=>sn(s),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:e.jsx(cl,{className:"h-4 w-4"})})]}),(Xe==null?void 0:Xe.id)===s.id?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"number",value:Bt,onChange:t=>Ys(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"ÎÎ­Î± Ï„Î¹Î¼Î®",step:"0.01",min:"0"})}),e.jsx("button",{onClick:tn,disabled:B,className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm disabled:opacity-50",children:e.jsx(us,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>{wt(null),Ys("")},className:"px-3 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:e.jsx(We,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Re(s.price)}),e.jsx("div",{className:"text-sm text-gray-600",children:"EUR"})]})]},s.id))})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 px-8 py-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-white/10 rounded-xl backdrop-blur-sm",children:e.jsx(Be,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"Î‘Î¹Ï„Î®Î¼Î±Ï„Î± Î£Ï…Î½Î´ÏÎ¿Î¼ÏÎ½"}),e.jsx("p",{className:"text-slate-200 mt-1",children:"Î”Î¹Î±Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„ÎµÎ¯Ï„Îµ Ï„Î± Î±Î¹Ï„Î®Î¼Î±Ï„Î± ÏƒÏ…Î½Î´ÏÎ¿Î¼ÏÎ½ Î±Ï€ÏŒ Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(He,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· Î¼Îµ ÏŒÎ½Î¿Î¼Î± Ï‡ÏÎ®ÏƒÏ„Î·...",value:Ds,onChange:ql,className:"pl-12 pr-6 py-3 bg-white/10 border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 w-full lg:w-80 text-white placeholder-slate-300 backdrop-blur-sm"})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-slate-50 via-blue-50 to-indigo-50 border border-slate-200 rounded-xl p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"ÎŸÎ´Î·Î³Î¯ÎµÏ‚ Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ·Ï‚ Î‘Î¹Ï„Î·Î¼Î¬Ï„Ï‰Î½"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white rounded-lg p-4 border border-blue-100",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx(He,{className:"h-3 w-3 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-slate-800 mb-1",children:"Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· & Î Î»Î¿Î®Î³Î·ÏƒÎ·"}),e.jsxs("p",{className:"text-sm text-slate-600 leading-relaxed",children:["Î§ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÏ„Îµ Ï„Î¿ Ï€ÎµÎ´Î¯Î¿ Î±Î½Î±Î¶Î®Ï„Î·ÏƒÎ·Ï‚ Î³Î¹Î± Î½Î± Î²ÏÎµÎ¯Ï„Îµ Î³ÏÎ®Î³Î¿ÏÎ± Î±Î¹Ï„Î®Î¼Î±Ï„Î± Î¼Îµ ÏŒÎ½Î¿Î¼Î± Ï‡ÏÎ®ÏƒÏ„Î·. Î— Î»Î¯ÏƒÏ„Î± ÎµÎ¼Ï†Î±Î½Î¯Î¶ÎµÏ„Î±Î¹ ÏƒÎµ ",e.jsx("span",{className:"font-semibold text-blue-700",children:"6Î¬Î´ÎµÏ‚"})," - ÎµÎ»Î­Î³Î¾Ï„Îµ Ï„Î·Î½ ÎµÏ€ÏŒÎ¼ÎµÎ½Î· ÏƒÎµÎ»Î¯Î´Î± Î±Î½ Î´ÎµÎ½ Î²ÏÎµÎ¯Ï„Îµ Ï„Î¿ ÎµÏ€Î¹Î¸Ï…Î¼Î·Ï„ÏŒ Î±Î¯Ï„Î·Î¼Î±."]})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-lg p-4 border border-amber-200",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-amber-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx(lr,{className:"h-3 w-3 text-amber-600"})}),e.jsxs("div",{children:[e.jsxs("h5",{className:"font-semibold text-amber-800 mb-1 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-amber-500 rounded-full mr-2"}),"Î£Î·Î¼Î±Î½Ï„Î¹ÎºÎ® Î ÏÎ¿ÏƒÎ¿Ï‡Î® - Î”Î¹Î±Î´Î¹ÎºÎ±ÏƒÎ¯Î± Î Î»Î·ÏÏ‰Î¼Î®Ï‚"]}),e.jsxs("p",{className:"text-sm text-amber-700 leading-relaxed",children:[e.jsx("span",{className:"font-semibold",children:"Î Î¡Î©Î¤Î‘"})," Î±Ï€Î¿Î¸Î·ÎºÎµÏÎ¿Ï…Î¼Îµ Ï„Î± Ï‡ÏÎ®Î¼Î±Ï„Î± ÏƒÏ„Î¿ ÏƒÏÏƒÏ„Î·Î¼Î± (Cash Register) ÎºÎ±Î¹",e.jsx("span",{className:"font-semibold",children:" Î•Î Î•Î™Î¤Î‘"})," ÎµÏ€Î¹Î»Î­Î³Î¿Ï…Î¼Îµ Î³Î¹Î± Ï„Î¿ Î±Î¯Ï„Î·Î¼Î± Ï„Î¿Ï… Ï‡ÏÎ®ÏƒÏ„Î· ÎµÎ¬Î½ ÎµÎ³ÎºÏÎ¯Î½ÎµÏ„Î±Î¹ Î® Î±Ï€Î¿ÏÏÎ¯Ï€Ï„ÎµÏ„Î±Î¹."]})]})]})})]})]})]})}),e.jsx("div",{className:"p-8",children:Zs().length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(Be,{className:"h-10 w-10 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:Ds?"Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎ±Î½ Î±Ï€Î¿Ï„ÎµÎ»Î­ÏƒÎ¼Î±Ï„Î±":"Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Î±Î¹Ï„Î®Î¼Î±Ï„Î±"}),e.jsx("p",{className:"text-gray-500",children:Ds?`Î“Î¹Î± Ï„Î·Î½ Î±Î½Î±Î¶Î®Ï„Î·ÏƒÎ· "${Ds}"`:"Î”ÎµÎ½ Î­Ï‡Î¿Ï…Î½ Ï…Ï€Î¿Î²Î»Î·Î¸ÎµÎ¯ Î±Î¹Ï„Î®Î¼Î±Ï„Î± ÏƒÏ…Î½Î´ÏÎ¿Î¼ÏÎ½ Î±ÎºÏŒÎ¼Î±"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-slate-50 rounded-xl p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Me,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-slate-700",children:["Î•Î¼Ï†Î¬Î½Î¹ÏƒÎ· ",(Ze-1)*Qs+1,"-",Math.min(Ze*Qs,Zs().length)," Î±Ï€ÏŒ ",Zs().length," Î±Î¹Ï„Î®Î¼Î±Ï„Î±"]}),e.jsx("p",{className:"text-xs text-slate-500",children:"ÎŸÏÎ³Î±Î½Ï‰Î¼Î­Î½Î± ÏƒÎµ 6Î¬Î´ÎµÏ‚ Î³Î¹Î± ÎµÏÎºÎ¿Î»Î· Ï€Î»Î¿Î®Î³Î·ÏƒÎ·"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[ms()>3&&e.jsx("button",{onClick:Xl,disabled:Ze===1,className:"px-3 py-2 text-sm font-medium text-slate-600 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 hover:border-slate-400 disabled:opacity-40 disabled:cursor-not-allowed transition-all duration-200",title:"Î ÏÏÏ„Î· ÏƒÎµÎ»Î¯Î´Î±",children:"Â«Â«"}),e.jsxs("button",{onClick:Ql,disabled:Ze===1,className:"px-4 py-2 text-sm font-medium text-slate-600 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 hover:border-slate-400 disabled:opacity-40 disabled:cursor-not-allowed flex items-center space-x-2 transition-all duration-200",children:[e.jsx("span",{children:"â†"}),e.jsx("span",{children:"Î ÏÎ¿Î·Î³Î¿ÏÎ¼ÎµÎ½Î¿"})]}),e.jsxs("div",{className:"px-4 py-2 text-sm font-semibold text-slate-700 bg-slate-200 rounded-lg min-w-[120px] text-center",children:[Ze," / ",ms()]}),e.jsxs("button",{onClick:Jl,disabled:Ze>=ms(),className:"px-4 py-2 text-sm font-medium text-slate-600 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 hover:border-slate-400 disabled:opacity-40 disabled:cursor-not-allowed flex items-center space-x-2 transition-all duration-200",children:[e.jsx("span",{children:"Î•Ï€ÏŒÎ¼ÎµÎ½Î¿"}),e.jsx("span",{children:"â†’"})]}),ms()>3&&e.jsx("button",{onClick:Zl,disabled:Ze>=ms(),className:"px-3 py-2 text-sm font-medium text-slate-600 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 hover:border-slate-400 disabled:opacity-40 disabled:cursor-not-allowed transition-all duration-200",title:"Î¤ÎµÎ»ÎµÏ…Ï„Î±Î¯Î± ÏƒÎµÎ»Î¯Î´Î±",children:"Â»Â»"})]})]})}),e.jsx("div",{className:"space-y-6",children:Yl().map(s=>{var t,a,n,d,h,N,E,H,C,f,J,oe,R,ie,gs,st,Dt,tt,te,W,Y,he,hs,Mt,Ut,qt,It,la,na,oa,ia,da,ca,ma,xa,ga,ha,ua,ba,pa,fa,ya,ja,va,wa,Na,_a,ka,Sa,Pa,Aa,Ca,$a,Da,Ma,Ua,Ia,Ea,Ta,La,Fa,Ga,Oa,Ra,za,Ka,Va,Wa,Ba,Ha,Ya,Qa,Ja,Xa,Za,qa,el,sl,tl,rl,al,ll,nl,ol;return e.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl shadow-2xl border border-gray-600 p-8 hover:shadow-3xl transition-all duration-300 transform hover:scale-102",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-6 lg:space-y-0",children:[e.jsxs("div",{className:"flex items-start space-x-6",children:[e.jsxs("div",{className:"relative",children:[(t=s.user)!=null&&t.profile_photo?e.jsxs("div",{className:"w-16 h-16 rounded-2xl overflow-hidden shadow-2xl border-3 border-blue-400",children:[e.jsx("img",{src:s.user.profile_photo,alt:`${(a=s.user)==null?void 0:a.first_name} ${(n=s.user)==null?void 0:n.last_name}`,className:"w-full h-full object-cover",onError:z=>{z.currentTarget.style.display="none";const je=z.currentTarget.nextElementSibling;je&&(je.style.display="flex")}}),e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center hidden",children:e.jsx(Be,{className:"h-8 w-8 text-white"})})]}):e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-2xl",children:e.jsx(Be,{className:"h-8 w-8 text-white"})}),s.status==="pending"&&e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-full border-2 border-white shadow-lg animate-pulse"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h4",{className:"text-2xl font-bold text-white mb-2",children:[(d=s.user)==null?void 0:d.first_name," ",(h=s.user)==null?void 0:h.last_name]}),e.jsxs("p",{className:"text-gray-300 mb-3 flex items-center text-lg",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full mr-3"}),(N=s.user)==null?void 0:N.email]}),e.jsxs("div",{className:"flex items-center space-x-3 flex-wrap",children:[e.jsxs("span",{className:"inline-flex items-center px-4 py-2 rounded-xl text-sm font-bold bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg",children:[(E=s.package)==null?void 0:E.name," Package"]}),e.jsx("span",{className:"text-gray-400",children:"â€¢"}),e.jsx("span",{className:"text-gray-200 font-medium",children:ar(s.duration_type)}),s.has_installments&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-400",children:"â€¢"}),e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-xl text-sm font-medium bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg",children:"ğŸ’³ ÎœÎµ Î”ÏŒÏƒÎµÎ¹Ï‚"})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-8",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-4xl font-bold bg-gradient-to-r from-green-400 to-green-500 bg-clip-text text-transparent mb-2",children:Re(s.requested_price)}),e.jsxs("div",{className:"text-gray-300 flex items-center justify-end",children:[e.jsx(Me,{className:"h-4 w-4 mr-2 text-blue-400"}),e.jsx("span",{className:"font-medium",children:new Date(s.created_at).toLocaleDateString("el-GR")})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-3",children:[s.status==="pending"&&e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsxs("button",{onClick:()=>rn(s.id),disabled:B,className:"px-8 py-4 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-2xl hover:from-green-700 hover:to-green-800 transition-all duration-200 text-lg font-bold shadow-2xl hover:shadow-3xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-3 transform hover:scale-110",children:[e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"âœ… Î•Î³ÎºÏÎ¯Î½Ï‰"})]}),e.jsxs("button",{onClick:()=>an(s.id),disabled:B,className:"px-8 py-4 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-2xl hover:from-red-700 hover:to-red-800 transition-all duration-200 text-lg font-bold shadow-2xl hover:shadow-3xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-3 transform hover:scale-110",children:[e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),e.jsx("span",{children:"âŒ Î‘Ï€Î¿ÏÏÎ¯Ï€Ï„Ï‰"})]})]}),s.status==="approved"&&e.jsxs("div",{className:"flex items-center space-x-3 bg-gradient-to-r from-green-500/20 to-green-600/20 rounded-xl p-3 border border-green-500/30",children:[e.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),e.jsx("span",{className:"px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl text-sm font-bold shadow-lg",children:"âœ… Î•Î³ÎºÎµÎºÏÎ¹Î¼Î­Î½Î¿"})]}),s.status==="rejected"&&e.jsxs("div",{className:"flex items-center space-x-3 bg-gradient-to-r from-red-500/20 to-red-600/20 rounded-xl p-3 border border-red-500/30",children:[e.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full animate-pulse"}),e.jsx("span",{className:"px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl text-sm font-bold shadow-lg",children:"âŒ Î‘Ï€Î¿ÏÏÎ¹Ï†Î¸Î­Î½"})]}),e.jsxs("button",{onClick:()=>{window.confirm("Î•Î¯ÏƒÏ„Îµ ÏƒÎ¯Î³Î¿Ï…ÏÎ¿Î¹ ÏŒÏ„Î¹ Î¸Î­Î»ÎµÏ„Îµ Î½Î± Î´Î¹Î±Î³ÏÎ¬ÏˆÎµÏ„Îµ Î±Ï…Ï„ÏŒ Ï„Î¿ Î±Î¯Ï„Î·Î¼Î±; Î‘Ï…Ï„Î® Î· ÎµÎ½Î­ÏÎ³ÎµÎ¹Î± Î´ÎµÎ½ Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î±Î½Î±Î¹ÏÎµÎ¸ÎµÎ¯.")&&console.log("Delete request:",s.id)},className:"px-4 py-2 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl hover:from-red-700 hover:to-red-800 transition-all duration-200 text-sm font-medium flex items-center space-x-2 shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx(Ye,{className:"h-4 w-4"}),e.jsx("span",{children:"ğŸ—‘ï¸ Î”Î¹Î±Î³ÏÎ±Ï†Î®"})]})]})]})]}),(s.status==="pending"||s.status==="approved"&&b(s.id)||s.status==="rejected"&&b(s.id))&&e.jsx("div",{className:`border-t border-slate-200 ${b(s.id)?"bg-gradient-to-r from-yellow-50 to-amber-50":"bg-slate-50"}`,children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:`p-2 rounded-lg ${b(s.id)?"bg-yellow-100":"bg-slate-100"}`,children:e.jsx(tr,{className:`h-5 w-5 ${b(s.id)?"text-yellow-600":"text-slate-600"}`})}),e.jsxs("h5",{className:`text-lg font-semibold ${b(s.id)?"text-yellow-800":"text-slate-700"} flex items-center`,children:["Program Options",b(s.id)&&e.jsx("span",{className:"ml-2 px-2 py-1 bg-yellow-200 text-yellow-800 rounded-full text-xs font-medium",children:"ÎšÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½Î¿"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[((H=s.package)==null?void 0:H.name)!=="Pilates"&&e.jsx("div",{className:`p-3 rounded-lg border ${b(s.id)?"bg-yellow-100 border-yellow-300":"bg-white border-gray-200"}`,children:e.jsx("button",{onClick:()=>{var z;if(b(s.id)){x("ÎŸÎ¹ ÎµÏ€Î¹Î»Î¿Î³Î­Ï‚ ÎµÎ¯Î½Î±Î¹ Ï€Î±Î³Ï‰Î¼Î­Î½ÎµÏ‚ - Î±Î»Î»Î¬Î¾Ï„Îµ status Î³Î¹Î± Î½Î± Ï„Î¹Ï‚ Ï„ÏÎ¿Ï€Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ",{icon:"ğŸ”’"});return}Se(s.id,"oldMembers",!((z=$[s.id])!=null&&z.oldMembers))},className:`w-full p-3 rounded-lg text-left transition-colors ${(C=$[s.id])!=null&&C.oldMembers||(f=F(s.id))!=null&&f.oldMembers?"bg-green-100 text-green-800 border-2 border-green-300":b(s.id)?"bg-yellow-100 text-yellow-700 border-2 border-yellow-300 cursor-not-allowed":"bg-gray-100 text-gray-700 border-2 border-gray-300 hover:bg-gray-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"font-medium",children:[b(s.id)&&"ğŸ”’ ","ğŸ‘´ Î Î±Î»Î±Î¹Î¬ Î¼Î­Î»Î·"]}),(((J=$[s.id])==null?void 0:J.oldMembers)||((oe=F(s.id))==null?void 0:oe.oldMembers))&&e.jsx("span",{className:"text-green-600",children:"âœ“"})]})})}),((R=s.package)==null?void 0:R.name)!=="Pilates"&&(()=>{var De,rt,at,lt;const z=((De=$[s.id])==null?void 0:De.oldMembers)||((rt=F(s.id))==null?void 0:rt.oldMembers),je=((at=$[s.id])==null?void 0:at.first150Members)===!1||((lt=F(s.id))==null?void 0:lt.first150Members)===!1;return z&&!je})()&&e.jsxs("div",{className:`p-3 rounded-lg border ${b(s.id)?"bg-yellow-100 border-yellow-300":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"mb-3 text-xs text-gray-600 bg-blue-50 p-2 rounded-lg border border-blue-200",children:[e.jsx("span",{className:"font-medium",children:"â„¹ï¸ Î Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚:"})," Î™ÏƒÏ‡ÏÎµÎ¹ Î¼ÏŒÎ½Î¿ Î³Î¹Î± Ï„Î± Ï€ÏÏÏ„Î± 150 Ï€Î±Î»Î¹Î¬ Î¼Î­Î»Î· Ï„Î¿Ï… Î³Ï…Î¼Î½Î±ÏƒÏ„Î·ÏÎ¯Î¿Ï… Î¼Îµ Ï„Î¹Î¼Î® 45â‚¬ ÎµÏ„Î®ÏƒÎ¹Î¿Ï‚ (Ï€ÏÎ¿ÏƒÏ†Î¿ÏÎ¬), Ï„Î± Î¿Ï€Î¿Î¯Î± ÎµÎ¼Ï†Î±Î½Î¯Î¶Î¿Î½Ï„Î±Î¹ ÏƒÏ„Î·Î½ ÎºÎ±ÏÏ„Î­Î»Î± Î¤Î±Î¼ÎµÎ¯Î¿"]}),e.jsx("button",{onClick:()=>{if(b(s.id)){x("ÎŸÎ¹ ÎµÏ€Î¹Î»Î¿Î³Î­Ï‚ ÎµÎ¯Î½Î±Î¹ Ï€Î±Î³Ï‰Î¼Î­Î½ÎµÏ‚ - Î±Î»Î»Î¬Î¾Ï„Îµ status Î³Î¹Î± Î½Î± Ï„Î¹Ï‚ Ï„ÏÎ¿Ï€Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ",{icon:"ğŸ”’"});return}gr(z=>{var rt,at,lt,il,dl;const je={...z},De=!((rt=je[s.id])!=null&&rt.first150Members);return je[s.id]={...je[s.id],first150Members:De,cash:De?!0:((at=je[s.id])==null?void 0:at.cash)||!1,cashAmount:De?45:(lt=je[s.id])==null?void 0:lt.cashAmount,pos:De?!1:((il=je[s.id])==null?void 0:il.pos)||!1,posAmount:De?0:(dl=je[s.id])==null?void 0:dl.posAmount},je})},className:`w-full px-4 py-3 rounded-lg font-semibold transition-all duration-200 relative shadow-lg ${(ie=$[s.id])!=null&&ie.first150Members||(gs=F(s.id))!=null&&gs.first150Members?"bg-orange-500 text-white hover:bg-orange-600":"bg-blue-500 text-white hover:bg-blue-600"}`,children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("span",{children:"ğŸ† Î ÏÏÏ„Î± 150 ÎœÎ­Î»Î·"}),(((st=$[s.id])==null?void 0:st.first150Members)||((Dt=F(s.id))==null?void 0:Dt.first150Members))&&e.jsx("span",{className:"text-orange-200",children:"âœ“"}),b(s.id)&&e.jsx("span",{className:"text-yellow-600",children:"ğŸ”’"})]})})]}),((tt=s.package)==null?void 0:tt.name)!=="Pilates"&&e.jsxs("div",{className:`p-3 rounded-lg border ${b(s.id)?"bg-yellow-100 border-yellow-300":"bg-white border-gray-200"}`,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[b(s.id)&&"ğŸ”’ ","ğŸ‹ï¸ Kettlebell Points"]}),e.jsx("input",{type:"number",value:b(s.id)?((te=F(s.id))==null?void 0:te.kettlebellPoints)||"":((W=$[s.id])==null?void 0:W.kettlebellPoints)||"",onChange:z=>{b(s.id)||Se(s.id,"kettlebellPoints",z.target.value)},placeholder:"Î•Î¹ÏƒÎ¬Î³ÎµÏ„Îµ Ï€ÏŒÎ½Ï„Î¿Ï…Ï‚",className:`w-full p-2 border rounded-lg ${b(s.id)?"bg-yellow-100 border-yellow-300 cursor-not-allowed":"border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}`,disabled:b(s.id)})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-xl p-4 border-2 border-green-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("span",{className:"text-2xl",children:"ğŸ’³"}),e.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:[b(s.id)&&"ğŸ”’ ","SECTION Î Î›Î—Î¡Î©ÎœÎ©Î"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:`p-3 rounded-lg border ${b(s.id)?"bg-yellow-100 border-yellow-300":"bg-white border-gray-200"}`,children:[e.jsx("button",{onClick:()=>{var z,je,De;if(b(s.id)){x("ÎŸÎ¹ ÎµÏ€Î¹Î»Î¿Î³Î­Ï‚ ÎµÎ¯Î½Î±Î¹ Ï€Î±Î³Ï‰Î¼Î­Î½ÎµÏ‚ - Î±Î»Î»Î¬Î¾Ï„Îµ status Î³Î¹Î± Î½Î± Ï„Î¹Ï‚ Ï„ÏÎ¿Ï€Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ",{icon:"ğŸ”’"});return}if((z=$[s.id])!=null&&z.first150Members||(je=F(s.id))!=null&&je.first150Members){x('Î¤Î¿ ÎœÎµÏ„ÏÎ·Ï„Î¬ ÎµÎ¯Î½Î±Î¹ ÎºÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½Î¿ ÏŒÏ„Î±Î½ ÎµÎ¯Î½Î±Î¹ ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½Î¿ Ï„Î¿ "Î ÏÏÏ„Î± 150 ÎœÎ­Î»Î·"',{icon:"ğŸ”’"});return}Se(s.id,"cash",!((De=$[s.id])!=null&&De.cash))},className:`w-full p-3 rounded-lg text-left transition-colors ${(Y=$[s.id])!=null&&Y.first150Members||(he=F(s.id))!=null&&he.first150Members?"bg-gray-100 text-gray-500 border-2 border-gray-300 cursor-not-allowed":(hs=$[s.id])!=null&&hs.cash||(Mt=F(s.id))!=null&&Mt.cash?"bg-green-100 text-green-800 border-2 border-green-300":b(s.id)?"bg-yellow-100 text-yellow-700 border-2 border-yellow-300 cursor-not-allowed":"bg-gray-100 text-gray-700 border-2 border-gray-300 hover:bg-gray-200"}`,disabled:b(s.id)||((Ut=$[s.id])==null?void 0:Ut.first150Members)||((qt=F(s.id))==null?void 0:qt.first150Members),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"font-medium",children:[b(s.id)&&"ğŸ”’ ",(((It=$[s.id])==null?void 0:It.first150Members)||((la=F(s.id))==null?void 0:la.first150Members))&&"ğŸ”’ ","ğŸ’° ÎœÎµÏ„ÏÎ·Ï„Î¬"]}),(((na=$[s.id])==null?void 0:na.cash)||((oa=F(s.id))==null?void 0:oa.cash))&&!((ia=$[s.id])!=null&&ia.first150Members||(da=F(s.id))!=null&&da.first150Members)&&e.jsx("span",{className:"text-green-600",children:"âœ“"})]})}),(((ca=$[s.id])==null?void 0:ca.cash)||((ma=F(s.id))==null?void 0:ma.cash))&&!((xa=$[s.id])!=null&&xa.first150Members||(ga=F(s.id))!=null&&ga.first150Members)&&e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{type:"number",value:b(s.id)?((ha=F(s.id))==null?void 0:ha.cashAmount)||"":((ua=$[s.id])==null?void 0:ua.cashAmount)||"",onChange:z=>{b(s.id)||Se(s.id,"cashAmount",parseFloat(z.target.value)||0)},placeholder:"Î Î¿ÏƒÏŒ ÏƒÎµ â‚¬",className:`w-full p-2 border rounded-lg ${b(s.id)?"bg-yellow-100 border-yellow-300 cursor-not-allowed":"border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-green-500"}`,disabled:b(s.id)}),e.jsx("button",{onClick:()=>{b(s.id)},className:`mt-2 w-full px-3 py-1 text-sm rounded-lg ${b(s.id)?"bg-yellow-200 text-yellow-700 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,disabled:b(s.id),children:"âœ“ Î•Ï€Î¹Î»Î¿Î³Î®"})]})]}),e.jsxs("div",{className:`p-3 rounded-lg border ${b(s.id)?"bg-yellow-100 border-yellow-300":"bg-white border-gray-200"}`,children:[e.jsx("button",{onClick:()=>{var z,je,De;if(b(s.id)){x("ÎŸÎ¹ ÎµÏ€Î¹Î»Î¿Î³Î­Ï‚ ÎµÎ¯Î½Î±Î¹ Ï€Î±Î³Ï‰Î¼Î­Î½ÎµÏ‚ - Î±Î»Î»Î¬Î¾Ï„Îµ status Î³Î¹Î± Î½Î± Ï„Î¹Ï‚ Ï„ÏÎ¿Ï€Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ",{icon:"ğŸ”’"});return}if((z=$[s.id])!=null&&z.first150Members||(je=F(s.id))!=null&&je.first150Members){x('Î¤Î¿ POS ÎµÎ¯Î½Î±Î¹ ÎºÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½Î¿ ÏŒÏ„Î±Î½ ÎµÎ¯Î½Î±Î¹ ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½Î¿ Ï„Î¿ "Î ÏÏÏ„Î± 150 ÎœÎ­Î»Î·"',{icon:"ğŸ”’"});return}Se(s.id,"pos",!((De=$[s.id])!=null&&De.pos))},className:`w-full p-3 rounded-lg text-left transition-colors ${(ba=$[s.id])!=null&&ba.pos||(pa=F(s.id))!=null&&pa.pos?"bg-blue-100 text-blue-800 border-2 border-blue-300":b(s.id)?"bg-yellow-100 text-yellow-700 border-2 border-yellow-300 cursor-not-allowed":(fa=$[s.id])!=null&&fa.first150Members||(ya=F(s.id))!=null&&ya.first150Members?"bg-gray-100 text-gray-500 border-2 border-gray-300 cursor-not-allowed":"bg-gray-100 text-gray-700 border-2 border-gray-300 hover:bg-gray-200"}`,disabled:b(s.id)||((ja=$[s.id])==null?void 0:ja.first150Members)||((va=F(s.id))==null?void 0:va.first150Members),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"font-medium",children:[b(s.id)&&"ğŸ”’ ",(((wa=$[s.id])==null?void 0:wa.first150Members)||((Na=F(s.id))==null?void 0:Na.first150Members))&&"ğŸ”’ ","ğŸ’³ POS"]}),(((_a=$[s.id])==null?void 0:_a.pos)||((ka=F(s.id))==null?void 0:ka.pos))&&e.jsx("span",{className:"text-blue-600",children:"âœ“"})]})}),(((Sa=$[s.id])==null?void 0:Sa.pos)||((Pa=F(s.id))==null?void 0:Pa.pos))&&e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{type:"number",value:b(s.id)?((Aa=F(s.id))==null?void 0:Aa.posAmount)||"":((Ca=$[s.id])==null?void 0:Ca.posAmount)||"",onChange:z=>{b(s.id)||Se(s.id,"posAmount",parseFloat(z.target.value)||0)},placeholder:"Î Î¿ÏƒÏŒ ÏƒÎµ â‚¬",className:`w-full p-2 border rounded-lg ${b(s.id)?"bg-yellow-100 border-yellow-300 cursor-not-allowed":"border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}`,disabled:b(s.id)}),e.jsx("button",{onClick:()=>{b(s.id)},className:`mt-2 w-full px-3 py-1 text-sm rounded-lg ${b(s.id)?"bg-yellow-200 text-yellow-700 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,disabled:b(s.id),children:"âœ“ Î•Ï€Î¹Î»Î¿Î³Î®"})]})]})]})]}),s.has_installments&&xo((($a=s.package)==null?void 0:$a.name)||"",s.duration_type)&&e.jsxs("div",{className:`col-span-2 p-4 rounded-lg border ${b(s.id)?"bg-yellow-100 border-yellow-300":"bg-orange-50 border-orange-200"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("span",{className:"text-2xl",children:"ğŸ’³"}),e.jsxs("h4",{className:"text-lg font-semibold text-orange-800",children:[b(s.id)&&"ğŸ”’ ","Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Î”ÏŒÏƒÎµÏ‰Î½"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"1Î· Î”ÏŒÏƒÎ·"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"number",value:b(s.id)?((Da=F(s.id))==null?void 0:Da.installment1Amount)||"":((Ma=$[s.id])==null?void 0:Ma.installment1Amount)||s.installment_1_amount||"",onChange:z=>{b(s.id)||Se(s.id,"installment1Amount",z.target.value)},placeholder:"Î Î¿ÏƒÏŒ",disabled:b(s.id)||xe(s,1),className:`w-full p-2 border rounded-lg ${b(s.id)?"bg-yellow-100 border-yellow-300 cursor-not-allowed":xe(s,1)?"bg-orange-50 border-orange-300 cursor-not-allowed text-orange-600":"border-gray-300 focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}`}),e.jsxs("select",{value:b(s.id)?((Ua=F(s.id))==null?void 0:Ua.installment1PaymentMethod)||"cash":((Ia=$[s.id])==null?void 0:Ia.installment1PaymentMethod)||s.installment_1_payment_method||"cash",onChange:z=>{b(s.id)||Se(s.id,"installment1PaymentMethod",z.target.value)},disabled:b(s.id)||xe(s,1),className:`w-full p-2 border rounded-lg ${b(s.id)?"bg-yellow-100 border-yellow-300 cursor-not-allowed":xe(s,1)?"bg-orange-50 border-orange-300 cursor-not-allowed text-orange-600":"border-gray-300 focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}`,children:[e.jsx("option",{value:"cash",children:"ğŸ’° ÎœÎµÏ„ÏÎ·Ï„Î¬"}),e.jsx("option",{value:"pos",children:"ğŸ’³ POS"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"ğŸ“… Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± Î Î»Î·ÏÏ‰Î¼Î®Ï‚"}),e.jsx("input",{type:"date",value:b(s.id)?((Ea=F(s.id))==null?void 0:Ea.installment1DueDate)||"":((Ta=$[s.id])==null?void 0:Ta.installment1DueDate)||s.installment_1_due_date||"",onChange:z=>{b(s.id)||Se(s.id,"installment1DueDate",z.target.value)},disabled:b(s.id)||xe(s,1),className:`w-full p-2 border rounded-lg text-sm ${b(s.id)?"bg-yellow-100 border-yellow-300 cursor-not-allowed":xe(s,1)?"bg-orange-50 border-orange-300 cursor-not-allowed text-orange-600":"border-gray-300 focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}`}),e.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:xe(s,1),onChange:()=>Zt(s.id,1),className:"h-4 w-4 text-orange-600 border-gray-300 rounded",disabled:b(s.id)}),e.jsx("span",{className:"text-xs text-gray-600",children:"ÎšÎ»ÎµÎ¯Î´Ï‰Î¼Î± Î”ÏŒÏƒÎ·Ï‚"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"2Î· Î”ÏŒÏƒÎ·"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"number",value:b(s.id)?((La=F(s.id))==null?void 0:La.installment2Amount)||"":((Fa=$[s.id])==null?void 0:Fa.installment2Amount)||s.installment_2_amount||"",onChange:z=>{b(s.id)||Se(s.id,"installment2Amount",z.target.value)},placeholder:"Î Î¿ÏƒÏŒ",disabled:b(s.id)||xe(s,2),className:`w-full p-2 border rounded-lg ${b(s.id)?"bg-yellow-100 border-yellow-300 cursor-not-allowed":xe(s,2)?"bg-orange-50 border-orange-300 cursor-not-allowed text-orange-600":"border-gray-300 focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}`}),e.jsxs("select",{value:b(s.id)?((Ga=F(s.id))==null?void 0:Ga.installment2PaymentMethod)||"cash":((Oa=$[s.id])==null?void 0:Oa.installment2PaymentMethod)||s.installment_2_payment_method||"cash",onChange:z=>{b(s.id)||Se(s.id,"installment2PaymentMethod",z.target.value)},disabled:b(s.id)||xe(s,2),className:`w-full p-2 border rounded-lg ${b(s.id)?"bg-yellow-100 border-yellow-300 cursor-not-allowed":xe(s,2)?"bg-orange-50 border-orange-300 cursor-not-allowed text-orange-600":"border-gray-300 focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}`,children:[e.jsx("option",{value:"cash",children:"ğŸ’° ÎœÎµÏ„ÏÎ·Ï„Î¬"}),e.jsx("option",{value:"pos",children:"ğŸ’³ POS"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"ğŸ“… Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± Î Î»Î·ÏÏ‰Î¼Î®Ï‚"}),e.jsx("input",{type:"date",value:b(s.id)?((Ra=F(s.id))==null?void 0:Ra.installment2DueDate)||"":((za=$[s.id])==null?void 0:za.installment2DueDate)||s.installment_2_due_date||"",onChange:z=>{b(s.id)||Se(s.id,"installment2DueDate",z.target.value)},disabled:b(s.id)||xe(s,2),className:`w-full p-2 border rounded-lg text-sm ${b(s.id)?"bg-yellow-100 border-yellow-300 cursor-not-allowed":xe(s,2)?"bg-orange-50 border-orange-300 cursor-not-allowed text-orange-600":"border-gray-300 focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}`}),e.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:xe(s,2),onChange:()=>Zt(s.id,2),className:"h-4 w-4 text-orange-600 border-gray-300 rounded",disabled:b(s.id)}),e.jsx("span",{className:"text-xs text-gray-600",children:"ÎšÎ»ÎµÎ¯Î´Ï‰Î¼Î± Î”ÏŒÏƒÎ·Ï‚"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"3Î· Î”ÏŒÏƒÎ·"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"number",value:b(s.id)?((Ka=F(s.id))==null?void 0:Ka.installment3Amount)||"":((Va=$[s.id])==null?void 0:Va.installment3Amount)||s.installment_3_amount||"",onChange:z=>{b(s.id)||Se(s.id,"installment3Amount",z.target.value)},placeholder:"Î Î¿ÏƒÏŒ",disabled:b(s.id)||xe(s,3)||((Wa=$[s.id])==null?void 0:Wa.deleteThirdInstallment)||s.third_installment_deleted,className:`w-full p-2 border rounded-lg ${b(s.id)?"bg-yellow-100 border-yellow-300 cursor-not-allowed":xe(s,3)?"bg-orange-50 border-orange-300 cursor-not-allowed text-orange-600":(Ba=$[s.id])!=null&&Ba.deleteThirdInstallment||s.third_installment_deleted?"bg-red-50 border-red-300 cursor-not-allowed text-red-600":"border-gray-300 focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}`}),e.jsxs("select",{value:b(s.id)?((Ha=F(s.id))==null?void 0:Ha.installment3PaymentMethod)||"cash":((Ya=$[s.id])==null?void 0:Ya.installment3PaymentMethod)||s.installment_3_payment_method||"cash",onChange:z=>{b(s.id)||Se(s.id,"installment3PaymentMethod",z.target.value)},disabled:b(s.id)||xe(s,3)||((Qa=$[s.id])==null?void 0:Qa.deleteThirdInstallment)||s.third_installment_deleted,className:`w-full p-2 border rounded-lg ${b(s.id)?"bg-yellow-100 border-yellow-300 cursor-not-allowed":xe(s,3)?"bg-orange-50 border-orange-300 cursor-not-allowed text-orange-600":(Ja=$[s.id])!=null&&Ja.deleteThirdInstallment||s.third_installment_deleted?"bg-red-50 border-red-300 cursor-not-allowed text-red-600":"border-gray-300 focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}`,children:[e.jsx("option",{value:"cash",children:"ğŸ’° ÎœÎµÏ„ÏÎ·Ï„Î¬"}),e.jsx("option",{value:"pos",children:"ğŸ’³ POS"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"ğŸ“… Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± Î Î»Î·ÏÏ‰Î¼Î®Ï‚"}),e.jsx("input",{type:"date",value:b(s.id)?((Xa=F(s.id))==null?void 0:Xa.installment3DueDate)||"":((Za=$[s.id])==null?void 0:Za.installment3DueDate)||s.installment_3_due_date||"",onChange:z=>{b(s.id)||Se(s.id,"installment3DueDate",z.target.value)},disabled:b(s.id)||xe(s,3)||((qa=$[s.id])==null?void 0:qa.deleteThirdInstallment)||s.third_installment_deleted,className:`w-full p-2 border rounded-lg text-sm ${b(s.id)?"bg-yellow-100 border-yellow-300 cursor-not-allowed":xe(s,3)?"bg-orange-50 border-orange-300 cursor-not-allowed text-orange-600":(el=$[s.id])!=null&&el.deleteThirdInstallment||s.third_installment_deleted?"bg-red-50 border-red-300 cursor-not-allowed text-red-600":"border-gray-300 focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}`}),e.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:xe(s,3),onChange:()=>Zt(s.id,3),disabled:((sl=$[s.id])==null?void 0:sl.deleteThirdInstallment)||s.third_installment_deleted||b(s.id),className:"h-4 w-4 text-orange-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-xs text-gray-600",children:"ÎšÎ»ÎµÎ¯Î´Ï‰Î¼Î± Î”ÏŒÏƒÎ·Ï‚"})]}),e.jsx("button",{type:"button",onClick:()=>fn(s.id),disabled:b(s.id),className:`text-xs px-2 py-1 rounded-md ${b(s.id)?"bg-yellow-200 text-yellow-700 cursor-not-allowed":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:"Î”Î¹Î±Î³ÏÎ±Ï†Î® 3Î·Ï‚ Î”ÏŒÏƒÎ·Ï‚"})]})]})]})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-orange-100 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-orange-800",children:"Î£ÏÎ½Î¿Î»Î¿ Î”ÏŒÏƒÎµÏ‰Î½:"}),e.jsx("span",{className:"text-lg font-bold text-orange-900",children:Re((Number(((tl=$[s.id])==null?void 0:tl.installment1Amount)||0)||Number(((rl=F(s.id))==null?void 0:rl.installment1Amount)||0))+(Number(((al=$[s.id])==null?void 0:al.installment2Amount)||0)||Number(((ll=F(s.id))==null?void 0:ll.installment2Amount)||0))+(Number(((nl=$[s.id])==null?void 0:nl.installment3Amount)||0)||Number(((ol=F(s.id))==null?void 0:ol.installment3Amount)||0)))})]}),e.jsxs("div",{className:"text-sm text-orange-700 mt-1",children:["Î‘Ï€ÏŒ ",Re(s.requested_price)," (Î Î±ÎºÎ­Ï„Î¿ Ultimate)"]})]})]})]}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>Pt(s.id,"approved"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${Ms[s.id]==="approved"?"bg-green-600 text-white":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:"âœ… ÎˆÎ³ÎºÏÎ¹ÏƒÎ·"}),e.jsx("button",{onClick:()=>Pt(s.id,"rejected"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${Ms[s.id]==="rejected"?"bg-red-600 text-white":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:"âŒ Î‘Ï€ÏŒÏÏÎ¹ÏˆÎ·"}),e.jsx("button",{onClick:()=>Pt(s.id,"pending"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${Ms[s.id]==="pending"?"bg-yellow-600 text-white":"bg-yellow-100 text-yellow-700 hover:bg-yellow-200"}`,children:"â³ Î‘Î½Î±Î¼Î¿Î½Î®"}),e.jsxs("button",{onClick:()=>Nr(s.id),disabled:B||Ms[s.id]==="none",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[B?e.jsx(it,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(us,{className:"h-4 w-4 mr-2"}),"Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· Program Options"]})]})]})})]},s.id)})})]})})]})]}),p==="pilates-schedule"&&!B&&e.jsx(ho,{}),p==="cash-register"&&!B&&e.jsx(po,{}),p==="users-information"&&!B&&e.jsx(jo,{}),p==="kettlebell-points"&&!B&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-red-600 rounded-xl p-4 sm:p-6 text-white mb-4 sm:mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg sm:text-2xl font-bold mb-2",children:"ğŸ‹ï¸â€â™‚ï¸ Kettlebell Points Ranking"}),e.jsx("p",{className:"text-orange-100 text-sm sm:text-base",children:"Î£Ï…Î½Î¿Î»Î¹ÎºÎ¿Î¯ Î²Î±Î¸Î¼Î¿Î¯ ÎºÎ±Î¹ ÎºÎ±Ï„Î¬Ï„Î±Î¾Î· Ï‡ÏÎ·ÏƒÏ„ÏÎ½"})]}),e.jsxs("button",{onClick:At,className:"flex items-center space-x-2 px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-xl hover:bg-white/30 transition-all duration-200 font-semibold shadow-lg text-sm",children:[e.jsx(ot,{className:"h-4 w-4"}),e.jsx("span",{children:"ğŸ”„ Î‘Î½Î±Î½Î­Ï‰ÏƒÎ·"})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-blue-800 mb-2",children:"ğŸ“Š Î£Ï…Î½Î¿Î»Î¹ÎºÎ¿Î¯ Î’Î±Î¸Î¼Î¿Î¯"}),e.jsx("p",{className:"text-blue-600",children:"ÎŒÎ»Î¿Î¹ Î¿Î¹ Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚ ÏƒÏ…Î½Î¿Î»Î¹ÎºÎ¬"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-4xl font-bold text-blue-900",children:gt}),e.jsx("div",{className:"text-sm text-blue-600",children:"Î²Î±Î¸Î¼Î¿Î¯"})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"ğŸ† ÎšÎ±Ï„Î¬Ï„Î±Î¾Î· Î§ÏÎ·ÏƒÏ„ÏÎ½"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Î’Î±Î¸Î¼Î¿Î¯ Kettlebell Î±Î½Î¬ Ï‡ÏÎ®ÏƒÏ„Î·"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(He,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· Ï‡ÏÎ®ÏƒÏ„Î·...",value:Ve,onChange:s=>_r(s.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm"})]}),Ve&&e.jsx("button",{onClick:()=>_r(""),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(We,{className:"h-4 w-4"})}),e.jsxs("div",{className:"hidden sm:flex items-center space-x-2 ml-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Me,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"date",value:ss,onChange:s=>bt(s.target.value),className:"pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm"})]}),e.jsx("span",{className:"text-gray-500 text-sm",children:"â€”"}),e.jsxs("div",{className:"relative",children:[e.jsx(Me,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"date",value:ts,onChange:s=>pt(s.target.value),className:"pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm"})]}),e.jsx("button",{onClick:()=>{as(1),At()},className:"px-3 py-2 bg-orange-600 text-white rounded-lg text-sm hover:bg-orange-700",children:"Î¦Î¯Î»Ï„ÏÎ¿"})]})]})]})}),e.jsx("div",{className:"p-6",children:Oe.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(ot,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Î²Î±Î¸Î¼Î¿Î¯ Kettlebell Î±ÎºÏŒÎ¼Î±"}),e.jsx("p",{className:"text-sm mt-2",children:"ÎŸÎ¹ Î²Î±Î¸Î¼Î¿Î¯ Î¸Î± ÎµÎ¼Ï†Î±Î½Î¹ÏƒÏ„Î¿ÏÎ½ ÎµÎ´Ï ÏŒÏ„Î±Î½ Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î·Î¸Î¿ÏÎ½ Ï€ÏÎ¿Î³ÏÎ¬Î¼Î¼Î±Ï„Î± Î¼Îµ Kettlebell Points"})]}):e.jsxs("div",{className:"space-y-4",children:[(Ve?Rs:cn).map((s,t)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white ${t===0?"bg-yellow-500":t===1?"bg-gray-400":t===2?"bg-orange-500":"bg-blue-500"}`,children:Ve?Oe.findIndex(a=>a.user_id===s.user_id)+1:$t+t+1}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:s.user_name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.user_email}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.points_count," ",s.points_count===1?"Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î±":"Ï€ÏÎ¿Î³ÏÎ¬Î¼Î¼Î±Ï„Î±"," â€¢ Î¤ÎµÎ»ÎµÏ…Ï„Î±Î¯Î± ÎµÎ½Î·Î¼Î­ÏÏ‰ÏƒÎ·: ",new Date(s.last_updated).toLocaleDateString("el-GR")]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s.total_points}),e.jsx("div",{className:"text-sm text-gray-600",children:"Î²Î±Î¸Î¼Î¿Î¯"})]})]})},s.user_id)),Ve&&Rs.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(He,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎ±Î½ Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚ Î¼Îµ Î±Ï…Ï„ÏŒ Ï„Î¿ ÏŒÎ½Î¿Î¼Î±"}),e.jsx("p",{className:"text-sm mt-2",children:"Î”Î¿ÎºÎ¹Î¼Î¬ÏƒÏ„Îµ Î­Î½Î± Î´Î¹Î±Ï†Î¿ÏÎµÏ„Î¹ÎºÏŒ ÏŒÏÎ¿ Î±Î½Î±Î¶Î®Ï„Î·ÏƒÎ·Ï‚"})]}),!Ve&&Ct>1&&e.jsxs("div",{className:"flex items-center justify-between py-4 border-t border-gray-200",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Î•Î¼Ï†Î±Î½Î¯Î¶Î¿Î½Ï„Î±Î¹ ",$t+1,"-",Math.min(kr,Oe.length)," Î±Ï€ÏŒ ",Oe.length," Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:mn,disabled:rs===1,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"â† Î ÏÎ¿Î·Î³Î¿ÏÎ¼ÎµÎ½Î·"}),e.jsxs("span",{className:"px-3 py-2 text-sm text-gray-700",children:["Î£ÎµÎ»Î¯Î´Î± ",rs," Î±Ï€ÏŒ ",Ct]}),e.jsx("button",{onClick:xn,disabled:rs===Ct,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Î•Ï€ÏŒÎ¼ÎµÎ½Î· â†’"})]})]})]})})]})]}),p!=="personal-training"&&p!=="membership-packages"&&p!=="ultimate-subscriptions"&&p!=="pilates-schedule"&&p!=="kettlebell-points"&&p!=="cash-register"&&!B&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:e.jsx("p",{children:"Î‘Ï…Ï„Î® Î· ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î± Î¸Î± Ï…Î»Î¿Ï€Î¿Î¹Î·Î¸ÎµÎ¯ ÏƒÏÎ½Ï„Î¿Î¼Î±."})})]})]}),ue&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 backdrop-blur-sm p-2 sm:p-4",children:e.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-2xl max-w-4xl w-full max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-t-xl sm:rounded-t-2xl p-4 sm:p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg sm:text-2xl font-bold mb-1 sm:mb-2",children:"ğŸ‹ï¸â€â™‚ï¸ Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Î ÏÎ¿Î³ÏÎ¬Î¼Î¼Î±Ï„Î¿Ï‚"}),e.jsx("p",{className:"text-purple-100 text-sm sm:text-base",children:"Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î®ÏƒÏ„Îµ Î½Î­Î¿ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Personal Training"})]}),e.jsx("button",{onClick:()=>ce(!1),className:"text-white/80 hover:text-white hover:bg-white/20 rounded-full p-2 transition-all duration-200 flex-shrink-0 ml-2",children:e.jsx(We,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]})}),e.jsxs("div",{className:"p-4 sm:p-8",children:[e.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl p-4 sm:p-6 border border-indigo-200",children:[e.jsx("label",{className:"block text-base sm:text-lg font-bold text-indigo-800 mb-3 sm:mb-4 flex items-center",children:"ğŸ‹ï¸â€â™‚ï¸ Î¤ÏÏ€Î¿Ï‚ Î ÏÎ¿Ï€ÏŒÎ½Î·ÏƒÎ·Ï‚"}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>Pe("individual"),className:`px-4 sm:px-6 py-2 sm:py-3 text-sm font-semibold rounded-lg transition-all duration-200 ${l==="individual"?"bg-indigo-600 text-white shadow-lg":"bg-white text-indigo-600 border-2 border-indigo-200 hover:border-indigo-400"}`,children:"ğŸ‘¤ Î‘Ï„Î¿Î¼Î¹ÎºÏŒ"}),e.jsx("button",{type:"button",onClick:()=>Pe("group"),className:`px-4 sm:px-6 py-2 sm:py-3 text-sm font-semibold rounded-lg transition-all duration-200 ${l==="group"?"bg-indigo-600 text-white shadow-lg":"bg-white text-indigo-600 border-2 border-indigo-200 hover:border-indigo-400"}`,children:"ğŸ‘¥ Group"}),e.jsx("button",{type:"button",onClick:()=>Pe("combination"),className:`px-4 sm:px-6 py-2 sm:py-3 text-sm font-semibold rounded-lg transition-all duration-200 ${l==="combination"?"bg-indigo-600 text-white shadow-lg":"bg-white text-indigo-600 border-2 border-indigo-200 hover:border-indigo-400"}`,children:"ğŸ”€ Î£Ï…Î½Î´Ï…Î±ÏƒÎ¼ÏŒÏ‚"})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl p-4 sm:p-6 border border-blue-200",children:[e.jsx("label",{className:"block text-base sm:text-lg font-bold text-blue-800 mb-3 sm:mb-4 flex items-center",children:"ğŸ‘¥ Î¤ÏÏ€Î¿Ï‚ Î§ÏÎ®ÏƒÏ„Î·"}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>y("personal"),className:`px-4 sm:px-6 py-2 sm:py-3 text-sm font-semibold rounded-lg transition-all duration-200 ${ne==="personal"?"bg-blue-600 text-white shadow-lg":"bg-white text-blue-600 border-2 border-blue-200 hover:border-blue-400"}`,children:"ğŸ‹ï¸â€â™‚ï¸ Personal User"}),l!=="combination"&&e.jsx("button",{type:"button",onClick:()=>y("paspartu"),className:`px-4 sm:px-6 py-2 sm:py-3 text-sm font-semibold rounded-lg transition-all duration-200 ${ne==="paspartu"?"bg-blue-600 text-white shadow-lg":"bg-white text-blue-600 border-2 border-blue-200 hover:border-blue-400"}`,children:"ğŸ¯ Paspartu User"})]}),e.jsx("div",{className:"mt-3 text-sm text-blue-700",children:l==="combination"?e.jsx("span",{children:"ğŸ“‹ Combination Training: ÎœÏŒÎ½Î¿ Personal Users - ÎºÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½Î¿ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î¼Îµ ÏƒÏ…Î³ÎºÎµÎºÏÎ¹Î¼Î­Î½ÎµÏ‚ ÏÏÎµÏ‚"}):ne==="personal"?e.jsx("span",{children:"ğŸ“‹ Personal Users: Î Î±Î¯ÏÎ½Î¿Ï…Î½ ÎºÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½Î¿ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î¼Îµ ÏƒÏ…Î³ÎºÎµÎºÏÎ¹Î¼Î­Î½ÎµÏ‚ ÏÏÎµÏ‚"}):e.jsx("span",{children:"ğŸ’³ Paspartu Users: Î Î±Î¯ÏÎ½Î¿Ï…Î½ 5 Î¼Î±Î¸Î®Î¼Î±Ï„Î± ÎºÎ±Î¹ ÎµÏ€Î¹Î»Î­Î³Î¿Ï…Î½ ÎµÎ»ÎµÏÎ¸ÎµÏÎ± Ï„Î¹Ï‚ ÏÏÎµÏ‚"})})]}),l==="combination"&&e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-4 sm:p-6 border border-purple-200",children:[e.jsx("label",{className:"block text-base sm:text-lg font-bold text-purple-800 mb-3 sm:mb-4 flex items-center",children:"ğŸ”€ Î”Î¹Î±Î¼ÏŒÏÏ†Ï‰ÏƒÎ· Î£Ï…Î½Î´Ï…Î±ÏƒÎ¼Î¿Ï"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-purple-200",children:[e.jsx("label",{className:"block text-sm font-bold text-purple-700 mb-2",children:"ğŸ‘¤ Î‘Ï„Î¿Î¼Î¹ÎºÎ­Ï‚ Î£ÎµÏƒÎ¯ÎµÏ‚"}),e.jsx("select",{value:k,onChange:s=>be(parseInt(s.target.value)),className:"w-full px-3 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[1,2,3,4,5,6,7,8,9,10].map(s=>e.jsxs("option",{value:s,children:[s," ÏƒÎµÏƒÎ¯ÎµÏ‚"]},s))})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-purple-200",children:[e.jsx("label",{className:"block text-sm font-bold text-purple-700 mb-2",children:"ğŸ‘¥ ÎŸÎ¼Î±Î´Î¹ÎºÎ­Ï‚ Î£ÎµÏƒÎ¯ÎµÏ‚"}),e.jsx("select",{value:pe,onChange:s=>Ce(parseInt(s.target.value)),className:"w-full px-3 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[1,2,3,4,5].map(s=>e.jsxs("option",{value:s,children:[s," ",s===1?"Ï†Î¿ÏÎ¬":"Ï†Î¿ÏÎ­Ï‚","/ÎµÎ²Î´Î¿Î¼Î¬Î´Î±"]},s))})]})]}),e.jsxs("div",{className:"mt-3 text-sm text-purple-700 bg-purple-100 p-3 rounded-lg",children:[e.jsx("strong",{children:"ğŸ“Š Î£ÏÎ½Î¿Î»Î¿:"})," ",k," Î±Ï„Î¿Î¼Î¹ÎºÎ­Ï‚ ÏƒÎµÏƒÎ¯ÎµÏ‚ + ",pe," ",pe===1?"Ï†Î¿ÏÎ¬":"Ï†Î¿ÏÎ­Ï‚","/ÎµÎ²Î´Î¿Î¼Î¬Î´Î± Î¿Î¼Î±Î´Î¹ÎºÎ­Ï‚"]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200",children:[e.jsxs("label",{className:"block text-lg font-bold text-blue-800 mb-4 flex items-center",children:["ğŸ‘¤ ",l==="individual"?"Î•Ï€Î¹Î»Î¿Î³Î® Î§ÏÎ®ÏƒÏ„Î·":l==="combination"?"Î•Ï€Î¹Î»Î¿Î³Î® Î§ÏÎ®ÏƒÏ„Î· (Î£Ï…Î½Î´Ï…Î±ÏƒÎ¼ÏŒÏ‚)":"Î•Ï€Î¹Î»Î¿Î³Î® Î§ÏÎ·ÏƒÏ„ÏÎ½ (Group)",(l==="individual"||l==="combination")&&e.jsxs("span",{className:"ml-2 text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded",children:["Selected: ",g.selectedUserId?"âœ…":"âŒ"]})]}),e.jsxs("div",{className:"flex space-x-3 mb-4",children:[e.jsx("button",{type:"button",onClick:()=>ze("dropdown"),className:`px-4 py-2 text-sm font-semibold rounded-lg transition-all duration-200 ${ve==="dropdown"?"bg-blue-600 text-white shadow-lg":"bg-white text-blue-600 border-2 border-blue-200 hover:border-blue-400"}`,children:"ğŸ“‹ Dropdown"}),e.jsx("button",{type:"button",onClick:()=>ze("search"),className:`px-4 py-2 text-sm font-semibold rounded-lg transition-all duration-200 ${ve==="search"?"bg-blue-600 text-white shadow-lg":"bg-white text-blue-600 border-2 border-blue-200 hover:border-blue-400"}`,children:"ğŸ” Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ·"})]}),ve==="dropdown"?l==="individual"||l==="combination"?e.jsxs("select",{className:"w-full px-4 py-3 border-2 border-blue-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-gray-700",value:g.selectedUserId,onChange:s=>{console.log("[AdminPanel] User selected:",s.target.value),Ne({...g,selectedUserId:s.target.value})},children:[e.jsx("option",{value:"",children:"-- Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Ï‡ÏÎ®ÏƒÏ„Î· --"}),P.length>0?P.map(s=>e.jsxs("option",{value:s.id,children:[s.firstName," ",s.lastName," (",s.email,")"]},s.id)):e.jsx("option",{value:"",disabled:!0,children:"Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚"})]}):e.jsx("div",{className:"max-h-48 overflow-y-auto border-2 border-blue-200 rounded-xl bg-white",children:ae.length>0?ae.map(s=>e.jsx("div",{className:`p-3 hover:bg-blue-50 cursor-pointer border-b border-blue-100 last:border-b-0 transition-all duration-200 ${i.includes(s.id)?"bg-blue-100 border-l-4 border-l-blue-500":""}`,onClick:()=>{i.includes(s.id)?S(t=>t.filter(a=>a!==s.id)):S(t=>[...t,s.id])},children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:i.includes(s.id),onChange:()=>{},className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold text-gray-900",children:[s.firstName," ",s.lastName]}),e.jsx("div",{className:"text-sm text-gray-600",children:s.email})]})]})},s.id)):e.jsx("div",{className:"p-4 text-gray-500 text-sm text-center",children:"Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚"})}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"text",className:"w-full px-4 py-3 border-2 border-blue-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-gray-700 placeholder-gray-400",placeholder:"ğŸ” Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· Î¼Îµ ÏŒÎ½Î¿Î¼Î± Î® email...",value:Ue,onChange:s=>_e(s.target.value)}),Ue&&e.jsx("div",{className:"max-h-48 overflow-y-auto border-2 border-blue-200 rounded-xl bg-white shadow-lg",children:fr.length>0?fr.map(s=>e.jsxs("div",{className:`p-4 hover:bg-blue-50 cursor-pointer border-b border-blue-100 last:border-b-0 transition-all duration-200 ${l==="individual"||l==="combination"?g.selectedUserId===s.id?"bg-blue-100 border-l-4 border-l-blue-500":"":i.includes(s.id)?"bg-blue-100 border-l-4 border-l-blue-500":""}`,onClick:()=>{l==="individual"||l==="combination"?Ne({...g,selectedUserId:s.id}):i.includes(s.id)?S(t=>t.filter(a=>a!==s.id)):S(t=>[...t,s.id])},children:[l==="group"&&e.jsx("input",{type:"checkbox",checked:i.includes(s.id),onChange:()=>{},className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsxs("div",{className:"font-semibold text-gray-900",children:[s.firstName," ",s.lastName]}),e.jsx("div",{className:"text-sm text-gray-600",children:s.email})]},s.id)):e.jsx("div",{className:"p-4 text-gray-500 text-sm text-center",children:"Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎ±Î½ Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚"})})]}),(l==="individual"||l==="combination"?g.selectedUserId:i.length>0)&&e.jsx("div",{className:"mt-4 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-white text-sm",children:"âœ“"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-bold text-green-800",children:["âœ… ",l==="individual"||l==="combination"?"Î•Ï€Î¹Î»ÎµÎ³Î¼Î­Î½Î¿Ï‚:":"Î•Ï€Î¹Î»ÎµÎ³Î¼Î­Î½Î¿Î¹:"]}),l==="individual"||l==="combination"?e.jsxs("div",{className:"text-xs text-green-600",children:[(Cr=P.find(s=>s.id===g.selectedUserId))==null?void 0:Cr.firstName," ",($r=P.find(s=>s.id===g.selectedUserId))==null?void 0:$r.lastName," (",(Dr=P.find(s=>s.id===g.selectedUserId))==null?void 0:Dr.email,")"]}):e.jsxs("div",{className:"text-xs text-green-600",children:[i.map(s=>{const t=P.find(a=>a.id===s);return t?`${t.firstName} ${t.lastName}`:"Î†Î³Î½Ï‰ÏƒÏ„Î¿Ï‚"}).join(", ")," (",i.length," Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚)"]})]})]})})]}),(l==="group"&&i.length>0||l==="combination"&&g.selectedUserId)&&e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-xl p-4 sm:p-6 border border-orange-200 mt-4",children:[e.jsxs("h4",{className:"text-lg sm:text-xl font-bold text-orange-800 mb-4 sm:mb-6 flex items-center",children:["ğŸ  ",l==="combination"?"Î•Ï€Î¹Î»Î¿Î³Î­Ï‚ ÎŸÎ¼Î±Î´Î¹ÎºÎ®Ï‚ Î‘Î¯Î¸Î¿Ï…ÏƒÎ±Ï‚ (Î³Î¹Î± Group Sessions)":"Î•Ï€Î¹Î»Î¿Î³Î­Ï‚ ÎŸÎ¼Î±Î´Î¹ÎºÎ®Ï‚ Î‘Î¯Î¸Î¿Ï…ÏƒÎ±Ï‚"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"text-purple-600",children:"ğŸ’¡"}),e.jsxs("div",{className:"text-sm text-purple-700",children:[e.jsx("strong",{children:"ÎÎ­Î± Î›ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î±:"})," Î˜Î± ÎµÏ€Î¹Î»Î­Î¾ÎµÏ„Îµ Ï„Î¿ Group Size (2, 3, Î® 6 Î¬Ï„Î¿Î¼Î±) Î³Î¹Î± ÎºÎ¬Î¸Îµ ÏƒÎµÏƒÎ¯Î± Î¾ÎµÏ‡Ï‰ÏÎ¹ÏƒÏ„Î¬ ÏƒÏ„Î· Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· ÎŸÎ¼Î±Î´Î¹ÎºÏÎ½ Î‘Î½Î±Î¸Î­ÏƒÎµÏ‰Î½"]})]})}),e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-semibold text-orange-700 mb-3",children:"Î ÏŒÏƒÎµÏ‚ Ï†Î¿ÏÎ­Ï‚ Ï„Î·Î½ ÎµÎ²Î´Î¿Î¼Î¬Î´Î± Î¸Î± Ï€Î±ÏÎ±ÎºÎ¿Î»Î¿Ï…Î¸Î¿ÏÎ½ Î¿Î¹ Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚;"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[1,2,3,4,5].map(s=>e.jsx("button",{type:"button",onClick:()=>q(s),className:`p-3 rounded-lg border-2 transition-all duration-200 ${V===s?"bg-orange-600 text-white border-orange-600 shadow-lg":"bg-white text-orange-600 border-orange-300 hover:border-orange-500"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold",children:s}),e.jsxs("div",{className:"text-xs opacity-75",children:[s===1?"Ï†Î¿ÏÎ¬":"Ï†Î¿ÏÎ­Ï‚","/ÎµÎ²Î´Î¿Î¼Î¬Î´Î±"]})]})},s))})]})}),m&&V&&e.jsx("div",{className:"bg-orange-100 border border-orange-300 rounded-lg p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm font-medium text-orange-700 mb-1",children:"ÎœÎ·Î½Î¹Î±Î¯Î¿ Î£ÏÎ½Î¿Î»Î¿"}),e.jsxs("div",{className:"text-2xl font-bold text-orange-800",children:[A," ÏƒÏ…Î½ÎµÎ´ÏÎ¯ÎµÏ‚/Î¼Î®Î½Î±"]}),e.jsxs("div",{className:"text-xs text-orange-600 mt-1",children:["(",V," Ï†Î¿ÏÎ­Ï‚/ÎµÎ²Î´Î¿Î¼Î¬Î´Î± Ã— 4 ÎµÎ²Î´Î¿Î¼Î¬Î´ÎµÏ‚)"]})]})}),m&&V&&e.jsx(Zn,{selectedGroupRoom:m,weeklyFrequency:V,monthlyTotal:A,selectedUserIds:l==="combination"?[g.selectedUserId]:i,onSlotsChange:$e})]})]}),(l==="individual"||l==="combination"?g.selectedUserId:i.length>0)&&e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-4 sm:p-6 border border-purple-200 mt-4",children:[e.jsx("h4",{className:"text-lg sm:text-xl font-bold text-purple-800 mb-4 sm:mb-6 flex items-center",children:"âš™ï¸ Î•Ï€Î¹Î»Î¿Î³Î­Ï‚ Î ÏÎ¿Î³ÏÎ¬Î¼Î¼Î±Ï„Î¿Ï‚"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[!(l==="individual"||l==="combination"?ys.has(g.selectedUserId):i.some(s=>ys.has(s)))&&e.jsx("div",{className:`rounded-lg p-4 border ${(l==="individual"||l==="combination"?v(g.selectedUserId):i.some(s=>v(s)))?"bg-yellow-100 border-yellow-300":"bg-white border-gray-200"}`,children:e.jsx("button",{type:"button",onClick:()=>{const s=l==="individual"||l==="combination"?[g.selectedUserId]:i;if(s.some(a=>v(a))){x("ÎŸÎ¹ ÎµÏ€Î¹Î»Î¿Î³Î­Ï‚ ÎµÎ¯Î½Î±Î¹ Ï€Î±Î³Ï‰Î¼Î­Î½ÎµÏ‚ - Î±Î»Î»Î¬Î¾Ï„Îµ Ï„Î¿ status Î³Î¹Î± Î½Î± Ï„Î¹Ï‚ Ï„ÏÎ¿Ï€Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ",{icon:"ğŸ”’"});return}Ke(a=>{const n={...a};return s.forEach(d=>{var N,E,H,C,f,J;const h=!((N=n[d])!=null&&N.oldMembers);n[d]={...n[d],oldMembers:h,first150Members:h?(E=n[d])==null?void 0:E.first150Members:!1,cash:h?(H=n[d])==null?void 0:H.cash:!1,pos:h?(C=n[d])==null?void 0:C.pos:!1,cashAmount:h?(f=n[d])==null?void 0:f.cashAmount:void 0,posAmount:h?(J=n[d])==null?void 0:J.posAmount:void 0}}),n})},className:`w-full px-4 py-3 rounded-lg font-semibold transition-all duration-200 relative shadow-lg ${(l==="individual"||l==="combination")&&g.selectedUserId?v(g.selectedUserId)?(Mr=ke(g.selectedUserId))!=null&&Mr.oldMembers?"bg-green-500 text-white":"bg-blue-500 text-white":(Ur=T[g.selectedUserId])!=null&&Ur.oldMembers?"bg-green-500 text-white hover:bg-green-600":"bg-blue-500 text-white hover:bg-blue-600":i.some(s=>{var t;return(t=T[s])==null?void 0:t.oldMembers})?"bg-green-500 text-white hover:bg-green-600":"bg-blue-500 text-white hover:bg-blue-600"}`,children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("span",{children:"ğŸ‘´ Î Î±Î»Î±Î¹Î¬ Î¼Î­Î»Î·"}),((l==="individual"||l==="combination")&&g.selectedUserId?v(g.selectedUserId)?(Ir=ke(g.selectedUserId))==null?void 0:Ir.oldMembers:(Er=T[g.selectedUserId])==null?void 0:Er.oldMembers:i.some(s=>{var t;return(t=T[s])==null?void 0:t.oldMembers}))&&e.jsx("span",{className:"text-green-200",children:"âœ“"}),(l==="individual"?v(g.selectedUserId):i.some(s=>v(s)))&&e.jsx("span",{className:"text-yellow-600",children:"ğŸ”’"})]})})}),(()=>{const s=l==="individual"||l==="combination"?[g.selectedUserId]:i,t=s.some(d=>{var h;return(h=T[d])==null?void 0:h.oldMembers}),a=s.some(d=>ys.has(d)||mt.has(d)),n=s.some(d=>{var h;return((h=T[d])==null?void 0:h.oldMembers)===!1});return t&&!a&&!n})()&&e.jsxs("div",{className:`rounded-lg p-4 border ${(l==="individual"||l==="combination"?v(g.selectedUserId):i.some(s=>v(s)))?"bg-yellow-100 border-yellow-300":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"mb-3 text-xs text-gray-600 bg-blue-50 p-2 rounded-lg border border-blue-200",children:[e.jsx("span",{className:"font-medium",children:"â„¹ï¸ Î Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚:"})," Î™ÏƒÏ‡ÏÎµÎ¹ Î¼ÏŒÎ½Î¿ Î³Î¹Î± Ï„Î± Ï€ÏÏÏ„Î± 150 Ï€Î±Î»Î¹Î¬ Î¼Î­Î»Î· Ï„Î¿Ï… Î³Ï…Î¼Î½Î±ÏƒÏ„Î·ÏÎ¯Î¿Ï… Î¼Îµ Ï„Î¹Î¼Î® 45â‚¬ ÎµÏ„Î®ÏƒÎ¹Î¿Ï‚ (Ï€ÏÎ¿ÏƒÏ†Î¿ÏÎ¬), Ï„Î± Î¿Ï€Î¿Î¯Î± ÎµÎ¼Ï†Î±Î½Î¯Î¶Î¿Î½Ï„Î±Î¹ ÏƒÏ„Î·Î½ ÎºÎ±ÏÏ„Î­Î»Î± Î¤Î±Î¼ÎµÎ¯Î¿"]}),e.jsx("button",{type:"button",onClick:()=>{const s=l==="individual"||l==="combination"?[g.selectedUserId]:i;if(s.some(a=>v(a))){x("ÎŸÎ¹ ÎµÏ€Î¹Î»Î¿Î³Î­Ï‚ ÎµÎ¯Î½Î±Î¹ Ï€Î±Î³Ï‰Î¼Î­Î½ÎµÏ‚ - Î±Î»Î»Î¬Î¾Ï„Îµ Ï„Î¿ status Î³Î¹Î± Î½Î± Ï„Î¹Ï‚ Ï„ÏÎ¿Ï€Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ",{icon:"ğŸ”’"});return}Ke(a=>{const n={...a};return s.forEach(d=>{var N,E,H,C,f;const h=!((N=n[d])!=null&&N.first150Members);n[d]={...n[d],first150Members:h,cash:h?!0:((E=n[d])==null?void 0:E.cash)||!1,cashAmount:h?45:(H=n[d])==null?void 0:H.cashAmount,pos:h?!1:((C=n[d])==null?void 0:C.pos)||!1,posAmount:h?0:(f=n[d])==null?void 0:f.posAmount}}),n})},className:`w-full px-4 py-3 rounded-lg font-semibold transition-all duration-200 relative shadow-lg ${(l==="individual"||l==="combination")&&g.selectedUserId?v(g.selectedUserId)?(Tr=ke(g.selectedUserId))!=null&&Tr.first150Members?"bg-orange-500 text-white":"bg-blue-500 text-white":(Lr=T[g.selectedUserId])!=null&&Lr.first150Members?"bg-orange-500 text-white hover:bg-orange-600":"bg-blue-500 text-white hover:bg-blue-600":i.some(s=>{var t;return(t=T[s])==null?void 0:t.first150Members})?"bg-orange-500 text-white hover:bg-orange-600":"bg-blue-500 text-white hover:bg-blue-600"}`,children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("span",{children:"ğŸ† Î ÏÏÏ„Î± 150 ÎœÎ­Î»Î·"}),((l==="individual"||l==="combination")&&g.selectedUserId?v(g.selectedUserId)?(Fr=ke(g.selectedUserId))==null?void 0:Fr.first150Members:(Gr=T[g.selectedUserId])==null?void 0:Gr.first150Members:i.some(s=>{var t;return(t=T[s])==null?void 0:t.first150Members}))&&e.jsx("span",{className:"text-orange-200",children:"âœ“"}),(l==="individual"?v(g.selectedUserId):i.some(s=>v(s)))&&e.jsx("span",{className:"text-yellow-600",children:"ğŸ”’"})]})})]}),e.jsxs("div",{className:`rounded-lg p-4 border ${(l==="individual"||l==="combination"?v(g.selectedUserId):i.some(s=>v(s)))?"bg-yellow-100 border-yellow-300":"bg-white border-gray-200"}`,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["ğŸ‹ï¸â€â™‚ï¸ Kettlebell Points",(l==="individual"||l==="combination"?v(g.selectedUserId):i.some(s=>v(s)))&&e.jsx("span",{className:"text-yellow-600 ml-2",children:"ğŸ”’"})]}),e.jsx("input",{type:"number",value:(l==="individual"||l==="combination")&&g.selectedUserId&&v(g.selectedUserId)?((Or=ke(g.selectedUserId))==null?void 0:Or.kettlebellPoints)||"":Os,onChange:s=>{const t=l==="individual"?[g.selectedUserId]:i;if(t.some(n=>v(n))){x("ÎŸÎ¹ ÎµÏ€Î¹Î»Î¿Î³Î­Ï‚ ÎµÎ¯Î½Î±Î¹ Ï€Î±Î³Ï‰Î¼Î­Î½ÎµÏ‚ - Î±Î»Î»Î¬Î¾Ï„Îµ Ï„Î¿ status Î³Î¹Î± Î½Î± Ï„Î¹Ï‚ Ï„ÏÎ¿Ï€Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ",{icon:"ğŸ”’"});return}es(s.target.value),Ke(n=>{const d={...n};return t.forEach(h=>{d[h]={...d[h],kettlebellPoints:s.target.value||""}}),d})},className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 ${(l==="individual"?v(g.selectedUserId):i.some(s=>v(s)))?"border-yellow-300 bg-yellow-50 focus:ring-yellow-500":"border-gray-300 focus:ring-purple-500 focus:border-purple-500"}`,placeholder:"Î•Î¹ÏƒÎ¬Î³ÎµÏ„Îµ Î±ÏÎ¹Î¸Î¼ÏŒ...",disabled:l==="individual"||l==="combination"?v(g.selectedUserId):i.some(s=>v(s))})]}),e.jsxs("div",{className:`rounded-lg p-4 border ${(l==="individual"||l==="combination"?v(g.selectedUserId):i.some(s=>v(s)))?"bg-yellow-100 border-yellow-300":"bg-white border-gray-200"}`,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["ğŸ’° ÎœÎµÏ„ÏÎ·Ï„Î¬ (â‚¬)",(l==="individual"||l==="combination"?v(g.selectedUserId):i.some(s=>v(s)))&&e.jsx("span",{className:"text-yellow-600 ml-2",children:"ğŸ”’"})]}),ft?e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"number",step:"0.01",min:"0",value:(l==="individual"||l==="combination")&&g.selectedUserId?v(g.selectedUserId)?((Wr=(Vr=ke(g.selectedUserId))==null?void 0:Vr.cashAmount)==null?void 0:Wr.toString())||"":(Br=T[g.selectedUserId])!=null&&Br.first150Members?"45":Ee:i.some(s=>{var t;return(t=T[s])==null?void 0:t.first150Members})?"45":Ee,onChange:s=>{const t=l==="individual"||l==="combination"?[g.selectedUserId]:i;if(t.some(d=>v(d))){x("ÎŸÎ¹ ÎµÏ€Î¹Î»Î¿Î³Î­Ï‚ ÎµÎ¯Î½Î±Î¹ Ï€Î±Î³Ï‰Î¼Î­Î½ÎµÏ‚ - Î±Î»Î»Î¬Î¾Ï„Îµ Ï„Î¿ status Î³Î¹Î± Î½Î± Ï„Î¹Ï‚ Ï„ÏÎ¿Ï€Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ",{icon:"ğŸ”’"});return}if(t.some(d=>{var h;return(h=T[d])==null?void 0:h.first150Members})){x('Î¤Î¿ Ï€ÎµÎ´Î¯Î¿ ÎœÎµÏ„ÏÎ·Ï„Î¬ ÎµÎ¯Î½Î±Î¹ ÎºÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½Î¿ ÏŒÏ„Î±Î½ ÎµÎ¯Î½Î±Î¹ ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½Î¿ "Î ÏÏÏ„Î± 150 ÎœÎ­Î»Î·"',{icon:"ğŸ”’"});return}os(s.target.value)},className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 ${(l==="individual"?v(g.selectedUserId)||(Hr=T[g.selectedUserId])!=null&&Hr.first150Members:i.some(s=>v(s))||i.some(s=>{var t;return(t=T[s])==null?void 0:t.first150Members}))?"border-orange-300 bg-orange-50 focus:ring-orange-500":"border-gray-300 focus:ring-green-500 focus:border-green-500"}`,placeholder:"Î•Î¹ÏƒÎ¬Î³ÎµÏ„Îµ Ï€Î¿ÏƒÏŒ ÏƒÎµ â‚¬...",autoFocus:!0,disabled:l==="individual"||l==="combination"?v(g.selectedUserId)||((Yr=T[g.selectedUserId])==null?void 0:Yr.first150Members):i.some(s=>v(s))||i.some(s=>{var t;return(t=T[s])==null?void 0:t.first150Members})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>{const s=l==="individual"||l==="combination"?[g.selectedUserId]:i;if(s.some(a=>v(a))){x("ÎŸÎ¹ ÎµÏ€Î¹Î»Î¿Î³Î­Ï‚ ÎµÎ¯Î½Î±Î¹ Ï€Î±Î³Ï‰Î¼Î­Î½ÎµÏ‚ - Î±Î»Î»Î¬Î¾Ï„Îµ Ï„Î¿ status Î³Î¹Î± Î½Î± Ï„Î¹Ï‚ Ï„ÏÎ¿Ï€Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ",{icon:"ğŸ”’"});return}Ke(a=>{const n={...a};return s.forEach(d=>{const h=Ee&&parseFloat(Ee)>0?parseFloat(Ee):0;n[d]={...n[d],cash:h>0,cashAmount:h}}),n}),Ee&&parseFloat(Ee)>0?x.success(`ÎœÎµÏ„ÏÎ·Ï„Î¬ â‚¬${Ee} Ï€ÏÎ¿ÏƒÏ„Î­Î¸Î·ÎºÎ±Î½! Î˜Î± Î±Ï€Î¿Î¸Î·ÎºÎµÏ…Ï„Î¿ÏÎ½ Î¼Îµ Ï„Î¿ Save.`):x.success("ÎœÎµÏ„ÏÎ·Ï„Î¬ Î¼Î·Î´ÎµÎ½Î¯ÏƒÏ„Î·ÎºÎ±Î½! Î˜Î± Î±Ï€Î¿Î¸Î·ÎºÎµÏ…Ï„ÎµÎ¯ Î¼Îµ Ï„Î¿ Save."),_s(!1),os("")},className:`flex-1 px-3 py-2 text-white rounded-lg transition-colors text-sm ${(l==="individual"||l==="combination")&&g.selectedUserId?v(g.selectedUserId)?(Qr=ke(g.selectedUserId))!=null&&Qr.cash?"bg-green-600 cursor-not-allowed":"bg-yellow-500 cursor-not-allowed":"bg-green-600 hover:bg-green-700":i.some(s=>v(s))?"bg-yellow-500 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,disabled:l==="individual"||l==="combination"?v(g.selectedUserId):i.some(s=>v(s)),children:"âœ“ Î•Ï€Î¹Î»Î¿Î³Î®"}),e.jsx("button",{type:"button",onClick:()=>{_s(!1),os("")},className:"flex-1 px-3 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:"Î‘ÎºÏÏÏ‰ÏƒÎ·"})]})]}):e.jsx("button",{type:"button",onClick:()=>{const s=l==="individual"||l==="combination"?[g.selectedUserId]:i;if(s.some(n=>v(n))){x("ÎŸÎ¹ ÎµÏ€Î¹Î»Î¿Î³Î­Ï‚ ÎµÎ¯Î½Î±Î¹ Ï€Î±Î³Ï‰Î¼Î­Î½ÎµÏ‚ - Î±Î»Î»Î¬Î¾Ï„Îµ Ï„Î¿ status Î³Î¹Î± Î½Î± Ï„Î¹Ï‚ Ï„ÏÎ¿Ï€Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ",{icon:"ğŸ”’"});return}if(s.some(n=>{var d;return(d=T[n])==null?void 0:d.first150Members})){x('Î¤Î¿ Ï€ÎµÎ´Î¯Î¿ ÎœÎµÏ„ÏÎ·Ï„Î¬ ÎµÎ¯Î½Î±Î¹ ÎºÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½Î¿ ÏŒÏ„Î±Î½ ÎµÎ¯Î½Î±Î¹ ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½Î¿ "Î ÏÏÏ„Î± 150 ÎœÎ­Î»Î·"',{icon:"ğŸ”’"});return}_s(!0)},className:`w-full px-4 py-3 rounded-lg font-semibold transition-all duration-200 shadow-lg ${(l==="individual"||l==="combination")&&g.selectedUserId?v(g.selectedUserId)?(Rr=ke(g.selectedUserId))!=null&&Rr.cash?"bg-green-500 text-white cursor-not-allowed":"bg-yellow-500 text-white cursor-not-allowed":(zr=T[g.selectedUserId])!=null&&zr.first150Members?"bg-orange-500 text-white cursor-not-allowed":"bg-green-500 text-white hover:bg-green-600":i.some(s=>v(s))?"bg-yellow-500 text-white cursor-not-allowed":i.some(s=>{var t;return(t=T[s])==null?void 0:t.first150Members})?"bg-orange-500 text-white cursor-not-allowed":"bg-green-500 text-white hover:bg-green-600"}`,disabled:l==="individual"||l==="combination"?v(g.selectedUserId)||((Kr=T[g.selectedUserId])==null?void 0:Kr.first150Members):i.some(s=>v(s))||i.some(s=>{var t;return(t=T[s])==null?void 0:t.first150Members}),children:"ğŸ’° ÎœÎµÏ„ÏÎ·Ï„Î¬"})]}),e.jsxs("div",{className:`rounded-lg p-4 border ${(l==="individual"||l==="combination"?v(g.selectedUserId):i.some(s=>v(s)))?"bg-yellow-100 border-yellow-300":"bg-white border-gray-200"}`,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["ğŸ’³ POS (â‚¬)",(l==="individual"||l==="combination"?v(g.selectedUserId):i.some(s=>v(s)))&&e.jsx("span",{className:"text-yellow-600 ml-2",children:"ğŸ”’"})]}),yt?e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"number",step:"0.01",min:"0",value:(l==="individual"||l==="combination")&&g.selectedUserId?v(g.selectedUserId)?((ea=(qr=ke(g.selectedUserId))==null?void 0:qr.posAmount)==null?void 0:ea.toString())||"":(sa=T[g.selectedUserId])!=null&&sa.first150Members?"0":Te:i.some(s=>{var t;return(t=T[s])==null?void 0:t.first150Members})?"0":Te,onChange:s=>{const t=l==="individual"||l==="combination"?[g.selectedUserId]:i;if(t.some(d=>v(d))){x("ÎŸÎ¹ ÎµÏ€Î¹Î»Î¿Î³Î­Ï‚ ÎµÎ¯Î½Î±Î¹ Ï€Î±Î³Ï‰Î¼Î­Î½ÎµÏ‚ - Î±Î»Î»Î¬Î¾Ï„Îµ Ï„Î¿ status Î³Î¹Î± Î½Î± Ï„Î¹Ï‚ Ï„ÏÎ¿Ï€Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ",{icon:"ğŸ”’"});return}if(t.some(d=>{var h;return(h=T[d])==null?void 0:h.first150Members})){x('Î¤Î¿ Ï€ÎµÎ´Î¯Î¿ POS ÎµÎ¯Î½Î±Î¹ ÎºÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½Î¿ ÏŒÏ„Î±Î½ ÎµÎ¯Î½Î±Î¹ ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½Î¿ "Î ÏÏÏ„Î± 150 ÎœÎ­Î»Î·"',{icon:"ğŸ”’"});return}is(s.target.value)},className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 ${(l==="individual"?v(g.selectedUserId)||(ta=T[g.selectedUserId])!=null&&ta.first150Members:i.some(s=>v(s))||i.some(s=>{var t;return(t=T[s])==null?void 0:t.first150Members}))?"border-orange-300 bg-orange-50 focus:ring-orange-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"}`,placeholder:"Î•Î¹ÏƒÎ¬Î³ÎµÏ„Îµ Ï€Î¿ÏƒÏŒ ÏƒÎµ â‚¬...",autoFocus:!0,disabled:l==="individual"||l==="combination"?v(g.selectedUserId)||((ra=T[g.selectedUserId])==null?void 0:ra.first150Members):i.some(s=>v(s))||i.some(s=>{var t;return(t=T[s])==null?void 0:t.first150Members})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>{const s=l==="individual"||l==="combination"?[g.selectedUserId]:i;if(s.some(a=>v(a))){x("ÎŸÎ¹ ÎµÏ€Î¹Î»Î¿Î³Î­Ï‚ ÎµÎ¯Î½Î±Î¹ Ï€Î±Î³Ï‰Î¼Î­Î½ÎµÏ‚ - Î±Î»Î»Î¬Î¾Ï„Îµ Ï„Î¿ status Î³Î¹Î± Î½Î± Ï„Î¹Ï‚ Ï„ÏÎ¿Ï€Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ",{icon:"ğŸ”’"});return}Ke(a=>{const n={...a};return s.forEach(d=>{const h=Te&&parseFloat(Te)>0?parseFloat(Te):0;n[d]={...n[d],pos:h>0,posAmount:h}}),n}),Te&&parseFloat(Te)>0?x.success(`POS â‚¬${Te} Ï€ÏÎ¿ÏƒÏ„Î­Î¸Î·ÎºÎµ! Î˜Î± Î±Ï€Î¿Î¸Î·ÎºÎµÏ…Ï„ÎµÎ¯ Î¼Îµ Ï„Î¿ Save.`):x.success("POS Î¼Î·Î´ÎµÎ½Î¯ÏƒÏ„Î·ÎºÎµ! Î˜Î± Î±Ï€Î¿Î¸Î·ÎºÎµÏ…Ï„ÎµÎ¯ Î¼Îµ Ï„Î¿ Save."),ks(!1),is("")},className:`flex-1 px-3 py-2 text-white rounded-lg transition-colors text-sm ${(l==="individual"||l==="combination")&&g.selectedUserId?v(g.selectedUserId)?(aa=ke(g.selectedUserId))!=null&&aa.pos?"bg-blue-600 cursor-not-allowed":"bg-yellow-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700":i.some(s=>v(s))?"bg-yellow-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,disabled:l==="individual"||l==="combination"?v(g.selectedUserId):i.some(s=>v(s)),children:"âœ“ Î•Ï€Î¹Î»Î¿Î³Î®"}),e.jsx("button",{type:"button",onClick:()=>{ks(!1),is("")},className:"flex-1 px-3 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:"Î‘ÎºÏÏÏ‰ÏƒÎ·"})]})]}):e.jsx("button",{type:"button",onClick:()=>{const s=l==="individual"||l==="combination"?[g.selectedUserId]:i;if(s.some(n=>v(n))){x("ÎŸÎ¹ ÎµÏ€Î¹Î»Î¿Î³Î­Ï‚ ÎµÎ¯Î½Î±Î¹ Ï€Î±Î³Ï‰Î¼Î­Î½ÎµÏ‚ - Î±Î»Î»Î¬Î¾Ï„Îµ Ï„Î¿ status Î³Î¹Î± Î½Î± Ï„Î¹Ï‚ Ï„ÏÎ¿Ï€Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ",{icon:"ğŸ”’"});return}if(s.some(n=>{var d;return(d=T[n])==null?void 0:d.first150Members})){x('Î¤Î¿ Ï€ÎµÎ´Î¯Î¿ POS ÎµÎ¯Î½Î±Î¹ ÎºÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½Î¿ ÏŒÏ„Î±Î½ ÎµÎ¯Î½Î±Î¹ ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½Î¿ "Î ÏÏÏ„Î± 150 ÎœÎ­Î»Î·"',{icon:"ğŸ”’"});return}ks(!0)},className:`w-full px-4 py-3 rounded-lg font-semibold transition-all duration-200 shadow-lg ${(l==="individual"||l==="combination")&&g.selectedUserId?v(g.selectedUserId)?(Jr=ke(g.selectedUserId))!=null&&Jr.pos?"bg-blue-500 text-white cursor-not-allowed":"bg-yellow-500 text-white cursor-not-allowed":(Xr=T[g.selectedUserId])!=null&&Xr.first150Members?"bg-orange-500 text-white cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600":i.some(s=>v(s))?"bg-yellow-500 text-white cursor-not-allowed":i.some(s=>{var t;return(t=T[s])==null?void 0:t.first150Members})?"bg-orange-500 text-white cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,disabled:l==="individual"||l==="combination"?v(g.selectedUserId)||((Zr=T[g.selectedUserId])==null?void 0:Zr.first150Members):i.some(s=>v(s))||i.some(s=>{var t;return(t=T[s])==null?void 0:t.first150Members}),children:"ğŸ’³ POS"})]}),e.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:e.jsx("button",{type:"button",onClick:()=>{ds("approved")},className:`w-full px-4 py-3 rounded-lg font-semibold transition-all duration-200 ${ye==="approved"?"bg-green-600 text-white shadow-lg":"bg-green-500 text-white hover:bg-green-600 shadow-lg"}`,children:"âœ… ÎˆÎ³ÎºÏÎ¹ÏƒÎ·"})}),e.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:e.jsx("button",{type:"button",onClick:()=>{ds("rejected")},className:`w-full px-4 py-3 rounded-lg font-semibold transition-all duration-200 ${ye==="rejected"?"bg-red-600 text-white shadow-lg":"bg-red-500 text-white hover:bg-red-600 shadow-lg"}`,children:"âŒ Î‘Ï€ÏŒÏÏÎ¹ÏˆÎ·"})}),e.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:e.jsx("button",{type:"button",onClick:()=>{ds("pending")},className:`w-full px-4 py-3 rounded-lg font-semibold transition-all duration-200 ${ye==="pending"?"bg-yellow-600 text-white shadow-lg":"bg-yellow-500 text-white hover:bg-yellow-600 shadow-lg"}`,children:"â³ Î£Ï„Î·Î½ Î‘Î½Î±Î¼Î¿Î½Î®"})}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg p-4 border border-purple-200",children:[e.jsx("button",{type:"button",onClick:Wl,disabled:ye==="none"||B,className:`w-full px-6 py-4 rounded-lg font-bold text-lg transition-all duration-200 ${ye==="none"||B?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-indigo-600 text-white hover:from-purple-700 hover:to-indigo-700 shadow-lg hover:shadow-xl"}`,children:B?e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(it,{className:"h-5 w-5 animate-spin"}),e.jsx("span",{children:"Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·..."})]}):e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(us,{className:"h-5 w-5"}),e.jsx("span",{children:"ğŸ’¾ Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· Program Options"})]})}),ye==="none"&&e.jsx("p",{className:"text-sm text-gray-600 mt-2 text-center",children:"Î•Ï€Î¹Î»Î­Î¾Ï„Îµ ÎˆÎ³ÎºÏÎ¹ÏƒÎ·, Î‘Ï€ÏŒÏÏÎ¹ÏˆÎ· Î® Î£Ï„Î·Î½ Î‘Î½Î±Î¼Î¿Î½Î® Î³Î¹Î± Î½Î± Î±Ï€Î¿Î¸Î·ÎºÎµÏÏƒÎµÏ„Îµ"})]})]})]}),l!=="group"&&e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 rounded-xl p-4 sm:p-6 border border-orange-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[e.jsxs("h4",{className:"text-lg sm:text-xl font-bold text-orange-800 flex items-center",children:["ğŸ‹ï¸â€â™‚ï¸ Î ÏÎ¿ÏƒÏ‰Ï€Î¿Ï€Î¿Î¹Î·Î¼Î­Î½Î¿ Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î±",l==="combination"&&e.jsx("span",{className:"ml-2 text-sm bg-purple-100 text-purple-700 px-2 py-1 rounded-full",children:"Personal Sessions"})]}),e.jsxs("div",{className:`text-sm px-3 py-2 rounded-lg ${l==="combination"&&ge().length>k?"bg-red-100 text-red-700 border border-red-300":"text-gray-600 bg-gray-100"}`,children:["ğŸ“Š Î£ÏÎ½Î¿Î»Î¿: ",ge().length," ÏƒÎµÏƒÎ¯Î±Ï‚",l==="combination"&&e.jsxs("span",{className:`ml-2 ${ge().length>k?"text-red-600":"text-purple-600"}`,children:["(",k," Î¸Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î·Î¸Î¿ÏÎ½)",ge().length>k&&e.jsx("span",{className:"ml-1 font-bold",children:"âš ï¸ Î ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎµÏ‚ Î±Ï€ÏŒ ÏŒÏƒÎµÏ‚ Î¸Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î·Î¸Î¿ÏÎ½!"})]})]})]}),e.jsx("div",{className:"mb-4 sm:mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Î¦Î¯Î»Ï„ÏÎ¿ Î£ÎµÏƒÎ¹ÏÎ½:"})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>{Vt("new"),Hs.length===0&&As([{id:"tmp-1",date:`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}-${String(new Date().getDate()).padStart(2,"0")}`,startTime:"18:00",type:"personal",trainer:"Mike",room:"Î‘Î¯Î¸Î¿Ï…ÏƒÎ± Mike",group:"2Î‘Ï„Î¿Î¼Î±Group",notes:""}])},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${Le==="new"?"bg-blue-500 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"ğŸ†• ÎÎ­ÎµÏ‚ Î£ÎµÏƒÎ¯ÎµÏ‚"}),e.jsxs("button",{onClick:()=>{Vt("existing"),(l==="individual"||l==="combination")&&g.selectedUserId&&jr(g.selectedUserId)},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${Le==="existing"?"bg-green-500 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,disabled:!g.selectedUserId,children:["ğŸ“š Î¥Ï€Î¬ÏÏ‡Î¿Ï…ÏƒÎµÏ‚ Î£ÎµÏƒÎ¯ÎµÏ‚",mr&&e.jsx("span",{className:"ml-2",children:"â³"})]})]}),Le==="existing"&&vt.length>0&&e.jsxs("div",{className:"text-sm text-green-600 bg-green-100 px-3 py-1 rounded-lg",children:["âœ… ",vt.length," Ï…Ï€Î¬ÏÏ‡Î¿Ï…ÏƒÎµÏ‚ ÏƒÎµÏƒÎ¯ÎµÏ‚ Ï†Î¿ÏÏ„ÏÎ¸Î·ÎºÎ±Î½"]}),Le==="existing"&&vt.length===0&&!mr&&e.jsx("div",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-lg",children:"â„¹ï¸ Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎ±Î½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…ÏƒÎµÏ‚ ÏƒÎµÏƒÎ¯ÎµÏ‚"})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-2 border-gray-300 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-gray-100 to-gray-200 border-b-2 border-gray-400",children:e.jsxs("div",{className:`grid gap-0 text-sm font-bold text-gray-800 ${l==="individual"?"grid-cols-6":"grid-cols-7"}`,children:[e.jsx("div",{className:"col-span-1 text-center py-3 border-r border-gray-300 bg-gray-200",children:"#"}),e.jsx("div",{className:"col-span-1 py-3 px-2 border-r border-gray-300",children:"ğŸ“… Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±"}),e.jsx("div",{className:"col-span-1 py-3 px-2 border-r border-gray-300",children:"ğŸ• ÎˆÎ½Î±ÏÎ¾Î·"}),e.jsx("div",{className:"col-span-1 py-3 px-2 border-r border-gray-300",children:"ğŸ’ª Î¤ÏÏ€Î¿Ï‚"}),e.jsx("div",{className:"col-span-1 py-3 px-2 border-r border-gray-300",children:"ğŸ  Î‘Î¯Î¸Î¿Ï…ÏƒÎ±"}),l!=="individual"&&e.jsx("div",{className:"col-span-1 py-3 px-2 border-r border-gray-300",children:"ğŸ‘¥ Group"}),e.jsx("div",{className:"col-span-1 py-3 px-2",children:"ğŸ‘¨â€ğŸ« Î ÏÎ¿Ï€Î¿Î½Î·Ï„Î®Ï‚"})]})}),e.jsx("div",{className:"divide-y divide-gray-300",children:ge().map((s,t)=>e.jsxs("div",{className:`grid gap-0 hover:bg-blue-50 transition-colors ${l==="individual"?"grid-cols-6":"grid-cols-7"}`,children:[e.jsxs("div",{className:"col-span-1 flex items-center justify-center space-x-2 py-3 border-r border-gray-300 bg-gray-50",children:[e.jsx("span",{className:"text-sm font-bold text-gray-700",children:t+1}),e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("button",{onClick:()=>Ge(ge().filter((a,n)=>n!==t)),className:"text-red-600 hover:text-red-800 p-1 text-xs bg-red-100 rounded hover:bg-red-200",title:"Î”Î¹Î±Î³ÏÎ±Ï†Î® Î£Î­ÏƒÎ¹Î±Ï‚",children:e.jsx(Ye,{className:"h-3 w-3"})}),e.jsx("button",{onClick:()=>{const a=ge(),n={...s,id:`tmp-${Date.now()}`};Ge([...a.slice(0,t+1),n,...a.slice(t+1)])},className:"text-blue-600 hover:text-blue-800 p-1 text-xs bg-blue-100 rounded hover:bg-blue-200",title:"Î‘Î½Ï„Î¹Î³ÏÎ±Ï†Î® Î£Î­ÏƒÎ¹Î±Ï‚",children:e.jsx(Ot,{className:"h-3 w-3"})})]})]}),e.jsx("div",{className:"col-span-1 p-2 border-r border-gray-300",children:e.jsx("input",{type:"date",className:"w-full px-2 py-2 text-sm border-2 border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",value:s.date,onChange:a=>{const n=ge();Ge(n.map((d,h)=>h===t?{...d,date:a.target.value}:d))},lang:"el"})}),e.jsx("div",{className:"col-span-1 p-2 border-r border-gray-300",children:e.jsx("input",{type:"time",className:"w-full px-2 py-2 text-sm border-2 border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",value:s.startTime,onChange:a=>{const n=ge();Ge(n.map((d,h)=>h===t?{...d,startTime:a.target.value}:d))}})}),e.jsx("div",{className:"col-span-1 p-2 border-r border-gray-300",children:e.jsxs("select",{className:"w-full px-2 py-2 text-sm border-2 border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",value:s.type,onChange:a=>{const n=ge();Ge(n.map((d,h)=>h===t?{...d,type:a.target.value}:d))},children:[e.jsx("option",{value:"personal",children:"Î ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÎ®"}),e.jsx("option",{value:"kickboxing",children:"Kick Boxing"}),e.jsx("option",{value:"combo",children:"Combo"})]})}),e.jsx("div",{className:"col-span-1 p-2 border-r border-gray-300",children:e.jsxs("select",{className:"w-full px-2 py-2 text-sm border-2 border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",value:s.room,onChange:a=>{const n=ge();Ge(n.map((d,h)=>h===t?{...d,room:a.target.value}:d))},children:[e.jsx("option",{value:"Î‘Î¯Î¸Î¿Ï…ÏƒÎ± Mike",children:"Î‘Î¯Î¸Î¿Ï…ÏƒÎ± Mike"}),e.jsx("option",{value:"Î‘Î¯Î¸Î¿Ï…ÏƒÎ± Jordan",children:"Î‘Î¯Î¸Î¿Ï…ÏƒÎ± Jordan"})]})}),l!=="individual"&&e.jsx("div",{className:"col-span-1 p-2 border-r border-gray-300",children:l==="combination"?e.jsx("div",{className:"w-full px-2 py-2 text-sm border-2 border-gray-200 rounded bg-gray-100 text-gray-600 font-medium",children:"ğŸ”’ 1 Î¬Ï„Î¿Î¼Î¿ (Î‘Ï„Î¿Î¼Î¹ÎºÎ®)"}):e.jsxs("select",{className:"w-full px-2 py-2 text-sm border-2 border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",value:s.group||"",onChange:a=>{const n=ge();Ge(n.map((d,h)=>h===t?{...d,group:a.target.value}:d))},children:[e.jsx("option",{value:"",children:"Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Group"}),e.jsx("option",{value:"2Î‘Ï„Î¿Î¼Î±Group",children:"2Î‘Ï„Î¿Î¼Î±Group"}),e.jsx("option",{value:"3Î‘Ï„Î¿Î¼Î±Group",children:"3Î‘Ï„Î¿Î¼Î±Group"}),e.jsx("option",{value:"6Î‘Ï„Î¿Î¼Î±Group",children:"6Î‘Ï„Î¿Î¼Î±Group"})]})}),e.jsx("div",{className:"col-span-1 p-2",children:e.jsx("select",{className:"w-full px-2 py-2 text-sm border-2 border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",value:s.trainer,onChange:a=>{const n=ge();Ge(n.map((d,h)=>h===t?{...d,trainer:a.target.value}:d))},children:bl.map(a=>e.jsx("option",{value:a,children:a},a))})})]},s.id))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mt-4 space-y-3 sm:space-y-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[e.jsx("button",{type:"button",className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm font-medium flex items-center justify-center",onClick:()=>{var t;const s=ge();if(l==="combination"&&s.length>=k){x.error(`Î“Î¹Î± ÏƒÏ…Î½Î´Ï…Î±ÏƒÎ¼Î­Î½Î¿ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Î­Ï‡ÎµÏ„Îµ Î¼Î­Î³Î¹ÏƒÏ„Î¿ ${k} Î±Ï„Î¿Î¼Î¹ÎºÎ­Ï‚ ÏƒÎµÏƒÎ¯ÎµÏ‚`);return}Ge([...s,{id:`tmp-${Date.now()}`,date:`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}-${String(new Date().getDate()).padStart(2,"0")}`,startTime:"19:00",type:"personal",trainer:"Mike",room:"Î‘Î¯Î¸Î¿Ï…ÏƒÎ± Mike",group:l==="combination"?void 0:"2Î‘Ï„Î¿Î¼Î±Group",notes:((t=s[0])==null?void 0:t.notes)||""}])},children:"â• Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Î£Î­ÏƒÎ¹Î±Ï‚"}),e.jsx("button",{type:"button",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm font-medium flex items-center justify-center",onClick:()=>{var a;const s=ge();if(l==="combination"&&s.length>=k){x.error(`Î“Î¹Î± ÏƒÏ…Î½Î´Ï…Î±ÏƒÎ¼Î­Î½Î¿ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Î­Ï‡ÎµÏ„Îµ Î¼Î­Î³Î¹ÏƒÏ„Î¿ ${k} Î±Ï„Î¿Î¼Î¹ÎºÎ­Ï‚ ÏƒÎµÏƒÎ¯ÎµÏ‚`);return}const t={id:`tmp-${Date.now()}`,date:`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}-${String(new Date().getDate()).padStart(2,"0")}`,startTime:"19:00",type:"personal",trainer:"Mike",room:"Î‘Î¯Î¸Î¿Ï…ÏƒÎ± Mike",group:"2Î‘Ï„Î¿Î¼Î±Group",notes:((a=s[0])==null?void 0:a.notes)||""};Ge([...s,t])},children:"ğŸ“‹ Î‘Î½Ï„Î¹Î³ÏÎ±Ï†Î® Î¤ÎµÎ»ÎµÏ…Ï„Î±Î¯Î±Ï‚"}),ge().length>1&&e.jsx("button",{type:"button",className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors text-sm font-medium flex items-center justify-center",onClick:()=>{const s=ge();Ge(s.slice(0,-1))},children:"â– Î”Î¹Î±Î³ÏÎ±Ï†Î® Î¤ÎµÎ»ÎµÏ…Ï„Î±Î¯Î±Ï‚"})]}),e.jsx("div",{className:"text-center sm:text-right",children:e.jsx("div",{className:"text-xs text-gray-500",children:"ğŸ’¡ ÎšÎ¬Î½Ï„Îµ ÎºÎ»Î¹Îº ÏƒÏ„Î± ÎºÎµÎ»Î¹Î¬ Î³Î¹Î± ÎµÏ€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î± â€¢ Î§ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÏ„Îµ Ï„Î± ÎºÎ¿Ï…Î¼Ï€Î¹Î¬ Î³Î¹Î± Î´Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ·"})})]})]})]}),e.jsxs("div",{className:"flex space-x-4 mt-8 pt-6 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>ce(!1),className:"flex-1 px-6 py-3 bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-xl hover:from-gray-600 hover:to-gray-700 transition-all duration-200 font-semibold shadow-lg",children:"âŒ Î‘ÎºÏÏÏ‰ÏƒÎ·"}),e.jsxs("button",{onClick:()=>{console.log("[AdminPanel] Button clicked - trainingType:",l,"selectedUserId:",g.selectedUserId),Hl()},disabled:l==="individual"||l==="combination"?!g.selectedUserId:i.length===0,className:"flex-1 px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl hover:from-green-600 hover:to-emerald-600 transition-all duration-200 font-semibold shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:from-green-500 disabled:hover:to-emerald-500",title:l==="individual"||l==="combination"?g.selectedUserId?"Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Î ÏÎ¿Î³ÏÎ¬Î¼Î¼Î±Ï„Î¿Ï‚":"Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ Ï‡ÏÎ®ÏƒÏ„Î·":i.length===0?"Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚":"Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Î ÏÎ¿Î³ÏÎ¬Î¼Î¼Î±Ï„Î¿Ï‚",children:["âœ… Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Î ÏÎ¿Î³ÏÎ¬Î¼Î¼Î±Ï„Î¿Ï‚",(l==="individual"||l==="combination")&&!g.selectedUserId&&e.jsx("span",{className:"ml-2 text-xs opacity-75",children:"(Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Ï‡ÏÎ®ÏƒÏ„Î·)"})]})]})]})]})}),$l&&St&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-8 max-w-md mx-4 border border-gray-600 shadow-2xl",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:e.jsx(qe,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"ÎšÎ»ÎµÎ¯Î´Ï‰Î¼Î± Î”ÏŒÏƒÎ·Ï‚"}),e.jsxs("p",{className:"text-gray-300 mb-8 text-lg",children:["Î•Î¯ÏƒÏ„Îµ ÏƒÎ¯Î³Î¿Ï…ÏÎ¿Î¹ ÏŒÏ„Î¹ Î¸Î­Î»ÎµÏ„Îµ Î½Î± ÎºÎ»ÎµÎ¹Î´ÏÏƒÎµÏ„Îµ Ï„Î·Î½ ",St.installmentNumber,"Î· Î´ÏŒÏƒÎ·; Î‘Ï…Ï„Î® Î· ÎµÎ½Î­ÏÎ³ÎµÎ¹Î± Î´ÎµÎ½ Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î±Î½Î±Î¹ÏÎµÎ¸ÎµÎ¯."]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:pn,className:"flex-1 px-6 py-3 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-colors font-medium",children:"Î‘ÎºÏÏÏ‰ÏƒÎ·"}),e.jsx("button",{onClick:bn,className:"flex-1 px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl hover:from-orange-600 hover:to-orange-700 transition-all font-medium",children:"ÎšÎ»ÎµÎ¯Î´Ï‰Î¼Î±"})]})]})})}),Dl&&Js&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-8 max-w-md mx-4 border border-gray-600 shadow-2xl",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-red-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:e.jsx(Ye,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Î”Î¹Î±Î³ÏÎ±Ï†Î® 3Î·Ï‚ Î”ÏŒÏƒÎ·Ï‚"}),e.jsx("p",{className:"text-gray-300 mb-8 text-lg",children:"Î•Î¯ÏƒÏ„Îµ ÏƒÎ¯Î³Î¿Ï…ÏÎ¿Î¹ ÏŒÏ„Î¹ Î¸Î­Î»ÎµÏ„Îµ Î½Î± Î´Î¹Î±Î³ÏÎ¬ÏˆÎµÏ„Îµ Ï„Î·Î½ 3Î· Î´ÏŒÏƒÎ·; Î‘Ï…Ï„Î® Î· ÎµÎ½Î­ÏÎ³ÎµÎ¹Î± Î´ÎµÎ½ Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î±Î½Î±Î¹ÏÎµÎ¸ÎµÎ¯."}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:jn,className:"flex-1 px-6 py-3 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-colors font-medium",children:"Î‘ÎºÏÏÏ‰ÏƒÎ·"}),e.jsx("button",{onClick:yn,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl hover:from-red-600 hover:to-red-700 transition-all font-medium",children:"Î”Î¹Î±Î³ÏÎ±Ï†Î®"})]})]})})}),bs&&Z&&Q&&V&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· ÎŸÎ¼Î±Î´Î¹ÎºÏÎ½ Î‘Î½Î±Î¸Î­ÏƒÎµÏ‰Î½"}),e.jsx("button",{onClick:()=>{ct(!1),r(null),X(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(We,{className:"h-6 w-6"})})]})}),e.jsx("div",{className:"p-6",children:e.jsx(fo,{selectedUser:Z,programId:Q,weeklyFrequency:V,onAssignmentComplete:()=>{const s=i.findIndex(t=>t===Z.id);if(s<i.length-1){const t=i[s+1],a=P.find(n=>n.id===t);a&&D.from("personal_training_schedules").select("id").eq("user_id",a.id).order("created_at",{ascending:!1}).limit(1).then(({data:n})=>{n&&n.length>0&&(r(a),X(n[0].id),x.success(`ÎœÎµÏ„Î¬Î²Î±ÏƒÎ· ÏƒÏ„Î¿Î½ ÎµÏ€ÏŒÎ¼ÎµÎ½Î¿ Ï‡ÏÎ®ÏƒÏ„Î·: ${a.firstName} ${a.lastName}`))})}else x.success("ÎŒÎ»ÎµÏ‚ Î¿Î¹ Î±Î½Î±Î¸Î­ÏƒÎµÎ¹Ï‚ Î¿Î»Î¿ÎºÎ»Î·ÏÏÎ¸Î·ÎºÎ±Î½!"),ct(!1),r(null),X(null)}})})]})}),p==="ultimate-subscriptions"&&!B&&e.jsx(vo,{fallback:e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"bg-red-100 rounded-full p-6 w-24 h-24 mx-auto mb-6",children:e.jsx(nr,{className:"h-12 w-12 text-red-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Î£Ï†Î¬Î»Î¼Î± ÏƒÏ„Î· Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Ultimate Î£Ï…Î½Î´ÏÎ¿Î¼ÏÎ½"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Î Î±ÏÎ¿Ï…ÏƒÎ¹Î¬ÏƒÏ„Î·ÎºÎµ Î­Î½Î± ÏƒÏ†Î¬Î»Î¼Î±. Î Î±ÏÎ±ÎºÎ±Î»Ï Î±Î½Î±Î½ÎµÏÏƒÏ„Îµ Ï„Î· ÏƒÎµÎ»Î¯Î´Î± Î® Î´Î¿ÎºÎ¹Î¼Î¬ÏƒÏ„Îµ Î¾Î±Î½Î¬."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium",children:"Î‘Î½Î±Î½Î­Ï‰ÏƒÎ· Î£ÎµÎ»Î¯Î´Î±Ï‚"})]}),children:e.jsx("div",{className:"space-y-6",children:e.jsx(yo,{ultimateRequests:cs,ultimateLoading:Je,ultimateSearchTerm:zt,setUltimateSearchTerm:Kt,selectedRequestOptions:Al,handleRequestOptionChange:ln,updateInstallmentAmounts:vn,deleteUltimateRequest:gn,loadUltimateRequests:xs,handleApproveRequest:hn,handleRejectRequest:un,loading:B,requestProgramApprovalStatus:Ms,handleRequestProgramApprovalChange:Pt,handleSaveRequestProgramOptions:Nr,requestPendingUsers:_t,requestFrozenOptions:kt})})})]})};export{Lo as default};
